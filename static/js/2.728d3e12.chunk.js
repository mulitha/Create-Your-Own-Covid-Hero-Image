/*! For license information please see 2.728d3e12.chunk.js.LICENSE.txt */
(this["webpackJsonpnew-r"]=this["webpackJsonpnew-r"]||[]).push([[2],[function(i,o,a){"use strict";i.exports=a(82)},function(i,o,a){"use strict";a.d(o,"a",(function(){return fe})),a.d(o,"b",(function(){return ie})),a.d(o,"c",(function(){return he})),a.d(o,"d",(function(){return ne})),a.d(o,"e",(function(){return matchPath})),a.d(o,"f",(function(){return useHistory}));var v=a(7),w=a(0),E=a.n(w),P=(a(24),a(9)),D=a(48),j=a(8),B=a(3),Q=a(49),$=a.n(Q),ee=(a(32),a(13)),te=(a(79),function createNamedContext(i){var o=Object(D.a)();return o.displayName=i,o}("Router-History")),ne=function createNamedContext(i){var o=Object(D.a)();return o.displayName=i,o}("Router"),ie=function(i){function Router(o){var a;return(a=i.call(this,o)||this).state={location:o.history.location},a._isMounted=!1,a._pendingLocation=null,o.staticContext||(a.unlisten=o.history.listen((function(i){a._isMounted?a.setState({location:i}):a._pendingLocation=i}))),a}Object(v.a)(Router,i),Router.computeRootMatch=function computeRootMatch(i){return{path:"/",url:"/",params:{},isExact:"/"===i}};var o=Router.prototype;return o.componentDidMount=function componentDidMount(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},o.componentWillUnmount=function componentWillUnmount(){this.unlisten&&this.unlisten()},o.render=function render(){return E.a.createElement(ne.Provider,{value:{history:this.props.history,location:this.state.location,match:Router.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},E.a.createElement(te.Provider,{children:this.props.children||null,value:this.props.history}))},Router}(E.a.Component);E.a.Component;E.a.Component;var le={},ue=0;function matchPath(i,o){void 0===o&&(o={}),("string"===typeof o||Array.isArray(o))&&(o={path:o});var a=o,v=a.path,w=a.exact,E=void 0!==w&&w,P=a.strict,D=void 0!==P&&P,j=a.sensitive,B=void 0!==j&&j;return[].concat(v).reduce((function(o,a){if(!a&&""!==a)return null;if(o)return o;var v=function compilePath$1(i,o){var a=""+o.end+o.strict+o.sensitive,v=le[a]||(le[a]={});if(v[i])return v[i];var w=[],E={regexp:$()(i,w,o),keys:w};return ue<1e4&&(v[i]=E,ue++),E}(a,{end:E,strict:D,sensitive:B}),w=v.regexp,P=v.keys,j=w.exec(i);if(!j)return null;var Q=j[0],ee=j.slice(1),te=i===Q;return E&&!te?null:{path:a,url:"/"===a&&""===Q?"/":Q,isExact:te,params:P.reduce((function(i,o,a){return i[o.name]=ee[a],i}),{})}}),null)}var fe=function(i){function Route(){return i.apply(this,arguments)||this}return Object(v.a)(Route,i),Route.prototype.render=function render(){var i=this;return E.a.createElement(ne.Consumer,null,(function(o){o||Object(j.a)(!1);var a=i.props.location||o.location,v=i.props.computedMatch?i.props.computedMatch:i.props.path?matchPath(a.pathname,i.props):o.match,w=Object(B.a)({},o,{location:a,match:v}),P=i.props,D=P.children,Q=P.component,$=P.render;return Array.isArray(D)&&0===D.length&&(D=null),E.a.createElement(ne.Provider,{value:w},w.match?D?"function"===typeof D?D(w):D:Q?E.a.createElement(Q,w):$?$(w):null:"function"===typeof D?D(w):null)}))},Route}(E.a.Component);function addLeadingSlash(i){return"/"===i.charAt(0)?i:"/"+i}function stripBasename(i,o){if(!i)return o;var a=addLeadingSlash(i);return 0!==o.pathname.indexOf(a)?o:Object(B.a)({},o,{pathname:o.pathname.substr(a.length)})}function createURL(i){return"string"===typeof i?i:Object(P.e)(i)}function staticHandler(i){return function(){Object(j.a)(!1)}}function noop(){}E.a.Component;var he=function(i){function Switch(){return i.apply(this,arguments)||this}return Object(v.a)(Switch,i),Switch.prototype.render=function render(){var i=this;return E.a.createElement(ne.Consumer,null,(function(o){o||Object(j.a)(!1);var a,v,w=i.props.location||o.location;return E.a.Children.forEach(i.props.children,(function(i){if(null==v&&E.a.isValidElement(i)){a=i;var P=i.props.path||i.props.from;v=P?matchPath(w.pathname,Object(B.a)({},i.props,{path:P})):o.match}})),v?E.a.cloneElement(a,{location:w,computedMatch:v}):null}))},Switch}(E.a.Component);var ge=E.a.useContext;function useHistory(){return ge(te)}},function(i,o,a){var v;!function(){"use strict";var a={}.hasOwnProperty;function classNames(){for(var i=[],o=0;o<arguments.length;o++){var v=arguments[o];if(v){var w=typeof v;if("string"===w||"number"===w)i.push(v);else if(Array.isArray(v)&&v.length){var E=classNames.apply(null,v);E&&i.push(E)}else if("object"===w)for(var P in v)a.call(v,P)&&v[P]&&i.push(P)}}return i.join(" ")}i.exports?(classNames.default=classNames,i.exports=classNames):void 0===(v=function(){return classNames}.apply(o,[]))||(i.exports=v)}()},function(i,o,a){"use strict";function _extends(){return(_extends=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var v in a)Object.prototype.hasOwnProperty.call(a,v)&&(i[v]=a[v])}return i}).apply(this,arguments)}a.d(o,"a",(function(){return _extends}))},function(i,o,a){"use strict";function _arrayLikeToArray(i,o){(null==o||o>i.length)&&(o=i.length);for(var a=0,v=new Array(o);a<o;a++)v[a]=i[a];return v}function _slicedToArray(i,o){return function _arrayWithHoles(i){if(Array.isArray(i))return i}(i)||function _iterableToArrayLimit(i,o){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(i)){var a=[],v=!0,w=!1,E=void 0;try{for(var P,D=i[Symbol.iterator]();!(v=(P=D.next()).done)&&(a.push(P.value),!o||a.length!==o);v=!0);}catch(j){w=!0,E=j}finally{try{v||null==D.return||D.return()}finally{if(w)throw E}}return a}}(i,o)||function _unsupportedIterableToArray(i,o){if(i){if("string"===typeof i)return _arrayLikeToArray(i,o);var a=Object.prototype.toString.call(i).slice(8,-1);return"Object"===a&&i.constructor&&(a=i.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(i,o):void 0}}(i,o)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}a.d(o,"a",(function(){return _slicedToArray}))},function(i,o,a){i.exports=a(121)},function(i,o,a){"use strict";!function checkDCE(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(i){console.error(i)}}}(),i.exports=a(83)},function(i,o,a){"use strict";function _inheritsLoose(i,o){i.prototype=Object.create(o.prototype),i.prototype.constructor=i,i.__proto__=o}a.d(o,"a",(function(){return _inheritsLoose}))},function(i,o,a){"use strict";o.a=function invariant(i,o){if(!i)throw new Error("Invariant failed")}},function(i,o,a){"use strict";a.d(o,"a",(function(){return createBrowserHistory})),a.d(o,"b",(function(){return createHashHistory})),a.d(o,"d",(function(){return createMemoryHistory})),a.d(o,"c",(function(){return createLocation})),a.d(o,"f",(function(){return locationsAreEqual})),a.d(o,"e",(function(){return createPath}));var v=a(3);function isAbsolute(i){return"/"===i.charAt(0)}function spliceOne(i,o){for(var a=o,v=a+1,w=i.length;v<w;a+=1,v+=1)i[a]=i[v];i.pop()}var w=function resolvePathname(i,o){void 0===o&&(o="");var a,v=i&&i.split("/")||[],w=o&&o.split("/")||[],E=i&&isAbsolute(i),P=o&&isAbsolute(o),D=E||P;if(i&&isAbsolute(i)?w=v:v.length&&(w.pop(),w=w.concat(v)),!w.length)return"/";if(w.length){var j=w[w.length-1];a="."===j||".."===j||""===j}else a=!1;for(var B=0,Q=w.length;Q>=0;Q--){var $=w[Q];"."===$?spliceOne(w,Q):".."===$?(spliceOne(w,Q),B++):B&&(spliceOne(w,Q),B--)}if(!D)for(;B--;B)w.unshift("..");!D||""===w[0]||w[0]&&isAbsolute(w[0])||w.unshift("");var ee=w.join("/");return a&&"/"!==ee.substr(-1)&&(ee+="/"),ee};function value_equal_valueOf(i){return i.valueOf?i.valueOf():Object.prototype.valueOf.call(i)}var E=function valueEqual(i,o){if(i===o)return!0;if(null==i||null==o)return!1;if(Array.isArray(i))return Array.isArray(o)&&i.length===o.length&&i.every((function(i,a){return valueEqual(i,o[a])}));if("object"===typeof i||"object"===typeof o){var a=value_equal_valueOf(i),v=value_equal_valueOf(o);return a!==i||v!==o?valueEqual(a,v):Object.keys(Object.assign({},i,o)).every((function(a){return valueEqual(i[a],o[a])}))}return!1},P=a(8);function addLeadingSlash(i){return"/"===i.charAt(0)?i:"/"+i}function stripLeadingSlash(i){return"/"===i.charAt(0)?i.substr(1):i}function stripBasename(i,o){return function hasBasename(i,o){return 0===i.toLowerCase().indexOf(o.toLowerCase())&&-1!=="/?#".indexOf(i.charAt(o.length))}(i,o)?i.substr(o.length):i}function stripTrailingSlash(i){return"/"===i.charAt(i.length-1)?i.slice(0,-1):i}function createPath(i){var o=i.pathname,a=i.search,v=i.hash,w=o||"/";return a&&"?"!==a&&(w+="?"===a.charAt(0)?a:"?"+a),v&&"#"!==v&&(w+="#"===v.charAt(0)?v:"#"+v),w}function createLocation(i,o,a,E){var P;"string"===typeof i?(P=function parsePath(i){var o=i||"/",a="",v="",w=o.indexOf("#");-1!==w&&(v=o.substr(w),o=o.substr(0,w));var E=o.indexOf("?");return-1!==E&&(a=o.substr(E),o=o.substr(0,E)),{pathname:o,search:"?"===a?"":a,hash:"#"===v?"":v}}(i)).state=o:(void 0===(P=Object(v.a)({},i)).pathname&&(P.pathname=""),P.search?"?"!==P.search.charAt(0)&&(P.search="?"+P.search):P.search="",P.hash?"#"!==P.hash.charAt(0)&&(P.hash="#"+P.hash):P.hash="",void 0!==o&&void 0===P.state&&(P.state=o));try{P.pathname=decodeURI(P.pathname)}catch(D){throw D instanceof URIError?new URIError('Pathname "'+P.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):D}return a&&(P.key=a),E?P.pathname?"/"!==P.pathname.charAt(0)&&(P.pathname=w(P.pathname,E.pathname)):P.pathname=E.pathname:P.pathname||(P.pathname="/"),P}function locationsAreEqual(i,o){return i.pathname===o.pathname&&i.search===o.search&&i.hash===o.hash&&i.key===o.key&&E(i.state,o.state)}function createTransitionManager(){var i=null;var o=[];return{setPrompt:function setPrompt(o){return i=o,function(){i===o&&(i=null)}},confirmTransitionTo:function confirmTransitionTo(o,a,v,w){if(null!=i){var E="function"===typeof i?i(o,a):i;"string"===typeof E?"function"===typeof v?v(E,w):w(!0):w(!1!==E)}else w(!0)},appendListener:function appendListener(i){var a=!0;function listener(){a&&i.apply(void 0,arguments)}return o.push(listener),function(){a=!1,o=o.filter((function(i){return i!==listener}))}},notifyListeners:function notifyListeners(){for(var i=arguments.length,a=new Array(i),v=0;v<i;v++)a[v]=arguments[v];o.forEach((function(i){return i.apply(void 0,a)}))}}}var D=!("undefined"===typeof window||!window.document||!window.document.createElement);function getConfirmation(i,o){o(window.confirm(i))}function getHistoryState(){try{return window.history.state||{}}catch(i){return{}}}function createBrowserHistory(i){void 0===i&&(i={}),D||Object(P.a)(!1);var o=window.history,a=function supportsHistory(){var i=window.navigator.userAgent;return(-1===i.indexOf("Android 2.")&&-1===i.indexOf("Android 4.0")||-1===i.indexOf("Mobile Safari")||-1!==i.indexOf("Chrome")||-1!==i.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),w=!function supportsPopStateOnHashChange(){return-1===window.navigator.userAgent.indexOf("Trident")}(),E=i,j=E.forceRefresh,B=void 0!==j&&j,Q=E.getUserConfirmation,$=void 0===Q?getConfirmation:Q,ee=E.keyLength,te=void 0===ee?6:ee,ne=i.basename?stripTrailingSlash(addLeadingSlash(i.basename)):"";function getDOMLocation(i){var o=i||{},a=o.key,v=o.state,w=window.location,E=w.pathname+w.search+w.hash;return ne&&(E=stripBasename(E,ne)),createLocation(E,v,a)}function createKey(){return Math.random().toString(36).substr(2,te)}var ie=createTransitionManager();function setState(i){Object(v.a)(me,i),me.length=o.length,ie.notifyListeners(me.location,me.action)}function handlePopState(i){(function isExtraneousPopstateEvent(i){return void 0===i.state&&-1===navigator.userAgent.indexOf("CriOS")})(i)||handlePop(getDOMLocation(i.state))}function handleHashChange(){handlePop(getDOMLocation(getHistoryState()))}var le=!1;function handlePop(i){if(le)le=!1,setState();else{ie.confirmTransitionTo(i,"POP",$,(function(o){o?setState({action:"POP",location:i}):function revertPop(i){var o=me.location,a=fe.indexOf(o.key);-1===a&&(a=0);var v=fe.indexOf(i.key);-1===v&&(v=0);var w=a-v;w&&(le=!0,go(w))}(i)}))}}var ue=getDOMLocation(getHistoryState()),fe=[ue.key];function createHref(i){return ne+createPath(i)}function go(i){o.go(i)}var he=0;function checkDOMListeners(i){1===(he+=i)&&1===i?(window.addEventListener("popstate",handlePopState),w&&window.addEventListener("hashchange",handleHashChange)):0===he&&(window.removeEventListener("popstate",handlePopState),w&&window.removeEventListener("hashchange",handleHashChange))}var ge=!1;var me={length:o.length,action:"POP",location:ue,createHref:createHref,push:function push(i,v){var w=createLocation(i,v,createKey(),me.location);ie.confirmTransitionTo(w,"PUSH",$,(function(i){if(i){var v=createHref(w),E=w.key,P=w.state;if(a)if(o.pushState({key:E,state:P},null,v),B)window.location.href=v;else{var D=fe.indexOf(me.location.key),j=fe.slice(0,D+1);j.push(w.key),fe=j,setState({action:"PUSH",location:w})}else window.location.href=v}}))},replace:function replace(i,v){var w=createLocation(i,v,createKey(),me.location);ie.confirmTransitionTo(w,"REPLACE",$,(function(i){if(i){var v=createHref(w),E=w.key,P=w.state;if(a)if(o.replaceState({key:E,state:P},null,v),B)window.location.replace(v);else{var D=fe.indexOf(me.location.key);-1!==D&&(fe[D]=w.key),setState({action:"REPLACE",location:w})}else window.location.replace(v)}}))},go:go,goBack:function goBack(){go(-1)},goForward:function goForward(){go(1)},block:function block(i){void 0===i&&(i=!1);var o=ie.setPrompt(i);return ge||(checkDOMListeners(1),ge=!0),function(){return ge&&(ge=!1,checkDOMListeners(-1)),o()}},listen:function listen(i){var o=ie.appendListener(i);return checkDOMListeners(1),function(){checkDOMListeners(-1),o()}}};return me}var j={hashbang:{encodePath:function encodePath(i){return"!"===i.charAt(0)?i:"!/"+stripLeadingSlash(i)},decodePath:function decodePath(i){return"!"===i.charAt(0)?i.substr(1):i}},noslash:{encodePath:stripLeadingSlash,decodePath:addLeadingSlash},slash:{encodePath:addLeadingSlash,decodePath:addLeadingSlash}};function stripHash(i){var o=i.indexOf("#");return-1===o?i:i.slice(0,o)}function getHashPath(){var i=window.location.href,o=i.indexOf("#");return-1===o?"":i.substring(o+1)}function replaceHashPath(i){window.location.replace(stripHash(window.location.href)+"#"+i)}function createHashHistory(i){void 0===i&&(i={}),D||Object(P.a)(!1);var o=window.history,a=(function supportsGoWithoutReloadUsingHash(){return-1===window.navigator.userAgent.indexOf("Firefox")}(),i),w=a.getUserConfirmation,E=void 0===w?getConfirmation:w,B=a.hashType,Q=void 0===B?"slash":B,$=i.basename?stripTrailingSlash(addLeadingSlash(i.basename)):"",ee=j[Q],te=ee.encodePath,ne=ee.decodePath;function getDOMLocation(){var i=ne(getHashPath());return $&&(i=stripBasename(i,$)),createLocation(i)}var ie=createTransitionManager();function setState(i){Object(v.a)(we,i),we.length=o.length,ie.notifyListeners(we.location,we.action)}var le=!1,ue=null;function handleHashChange(){var i=getHashPath(),o=te(i);if(i!==o)replaceHashPath(o);else{var a=getDOMLocation(),v=we.location;if(!le&&function locationsAreEqual$$1(i,o){return i.pathname===o.pathname&&i.search===o.search&&i.hash===o.hash}(v,a))return;if(ue===createPath(a))return;ue=null,function handlePop(i){if(le)le=!1,setState();else{ie.confirmTransitionTo(i,"POP",E,(function(o){o?setState({action:"POP",location:i}):function revertPop(i){var o=we.location,a=me.lastIndexOf(createPath(o));-1===a&&(a=0);var v=me.lastIndexOf(createPath(i));-1===v&&(v=0);var w=a-v;w&&(le=!0,go(w))}(i)}))}}(a)}}var fe=getHashPath(),he=te(fe);fe!==he&&replaceHashPath(he);var ge=getDOMLocation(),me=[createPath(ge)];function go(i){o.go(i)}var ye=0;function checkDOMListeners(i){1===(ye+=i)&&1===i?window.addEventListener("hashchange",handleHashChange):0===ye&&window.removeEventListener("hashchange",handleHashChange)}var _e=!1;var we={length:o.length,action:"POP",location:ge,createHref:function createHref(i){var o=document.querySelector("base"),a="";return o&&o.getAttribute("href")&&(a=stripHash(window.location.href)),a+"#"+te($+createPath(i))},push:function push(i,o){var a=createLocation(i,void 0,void 0,we.location);ie.confirmTransitionTo(a,"PUSH",E,(function(i){if(i){var o=createPath(a),v=te($+o);if(getHashPath()!==v){ue=o,function pushHashPath(i){window.location.hash=i}(v);var w=me.lastIndexOf(createPath(we.location)),E=me.slice(0,w+1);E.push(o),me=E,setState({action:"PUSH",location:a})}else setState()}}))},replace:function replace(i,o){var a=createLocation(i,void 0,void 0,we.location);ie.confirmTransitionTo(a,"REPLACE",E,(function(i){if(i){var o=createPath(a),v=te($+o);getHashPath()!==v&&(ue=o,replaceHashPath(v));var w=me.indexOf(createPath(we.location));-1!==w&&(me[w]=o),setState({action:"REPLACE",location:a})}}))},go:go,goBack:function goBack(){go(-1)},goForward:function goForward(){go(1)},block:function block(i){void 0===i&&(i=!1);var o=ie.setPrompt(i);return _e||(checkDOMListeners(1),_e=!0),function(){return _e&&(_e=!1,checkDOMListeners(-1)),o()}},listen:function listen(i){var o=ie.appendListener(i);return checkDOMListeners(1),function(){checkDOMListeners(-1),o()}}};return we}function clamp(i,o,a){return Math.min(Math.max(i,o),a)}function createMemoryHistory(i){void 0===i&&(i={});var o=i,a=o.getUserConfirmation,w=o.initialEntries,E=void 0===w?["/"]:w,P=o.initialIndex,D=void 0===P?0:P,j=o.keyLength,B=void 0===j?6:j,Q=createTransitionManager();function setState(i){Object(v.a)(ne,i),ne.length=ne.entries.length,Q.notifyListeners(ne.location,ne.action)}function createKey(){return Math.random().toString(36).substr(2,B)}var $=clamp(D,0,E.length-1),ee=E.map((function(i){return createLocation(i,void 0,"string"===typeof i?createKey():i.key||createKey())})),te=createPath;function go(i){var o=clamp(ne.index+i,0,ne.entries.length-1),v=ne.entries[o];Q.confirmTransitionTo(v,"POP",a,(function(i){i?setState({action:"POP",location:v,index:o}):setState()}))}var ne={length:ee.length,action:"POP",location:ee[$],index:$,entries:ee,createHref:te,push:function push(i,o){var v=createLocation(i,o,createKey(),ne.location);Q.confirmTransitionTo(v,"PUSH",a,(function(i){if(i){var o=ne.index+1,a=ne.entries.slice(0);a.length>o?a.splice(o,a.length-o,v):a.push(v),setState({action:"PUSH",location:v,index:o,entries:a})}}))},replace:function replace(i,o){var v=createLocation(i,o,createKey(),ne.location);Q.confirmTransitionTo(v,"REPLACE",a,(function(i){i&&(ne.entries[ne.index]=v,setState({action:"REPLACE",location:v}))}))},go:go,goBack:function goBack(){go(-1)},goForward:function goForward(){go(1)},canGo:function canGo(i){var o=ne.index+i;return o>=0&&o<ne.entries.length},block:function block(i){return void 0===i&&(i=!1),Q.setPrompt(i)},listen:function listen(i){return Q.appendListener(i)}};return ne}},function(i,o,a){var v=a(17),w=a(19),E=a(35),P=a(94),D=a(55),j=function $export(i,o,a){var j,B,Q,$,ee=i&$export.F,te=i&$export.G,ne=i&$export.P,ie=i&$export.B,le=te?v:i&$export.S?v[o]||(v[o]={}):(v[o]||{}).prototype,ue=te?w:w[o]||(w[o]={}),fe=ue.prototype||(ue.prototype={});for(j in te&&(a=o),a)Q=((B=!ee&&le&&void 0!==le[j])?le:a)[j],$=ie&&B?D(Q,v):ne&&"function"==typeof Q?D(Function.call,Q):Q,le&&P(le,j,Q,i&$export.U),ue[j]!=Q&&E(ue,j,$),ne&&fe[j]!=Q&&(fe[j]=Q)};v.core=w,j.F=1,j.G=2,j.S=4,j.P=8,j.B=16,j.W=32,j.U=64,j.R=128,i.exports=j},function(i,o,a){i.exports=!a(36)((function(){return 7!=Object.defineProperty({},"a",{get:function get(){return 7}}).a}))},function(i,o,a){var v;!function(w){"use strict";var E=w.URL||w.webkitURL;function createObjectURL(i){return!!E&&E.createObjectURL(i)}function revokeObjectURL(i){return!!E&&E.revokeObjectURL(i)}function revokeHelper(i,o){!i||"blob:"!==i.slice(0,5)||o&&o.noRevoke||revokeObjectURL(i)}function readFile(i,o,a,v){if(!w.FileReader)return!1;var E=new FileReader;E.onload=function(){o.call(E,this.result)},a&&(E.onabort=E.onerror=function(){a.call(E,this.error)});var P=E[v||"readAsDataURL"];return P?(P.call(E,i),E):void 0}function isInstanceOf(i,o){return Object.prototype.toString.call(o)==="[object "+i+"]"}function loadImage(i,o,a){function executor(o,v){var E,P=document.createElement("img");function resolveWrapper(i,a){o!==v?i instanceof Error?v(i):((a=a||{}).image=i,o(a)):o&&o(i,a)}function fetchBlobCallback(o,v){v&&w.console&&console.log(v),o&&isInstanceOf("Blob",o)?E=createObjectURL(i=o):(E=i,a&&a.crossOrigin&&(P.crossOrigin=a.crossOrigin)),P.src=E}return P.onerror=function(i){revokeHelper(E,a),v&&v.call(P,i)},P.onload=function(){revokeHelper(E,a);var o={originalWidth:P.naturalWidth||P.width,originalHeight:P.naturalHeight||P.height};try{loadImage.transform(P,a,resolveWrapper,i,o)}catch(w){v&&v(w)}},"string"===typeof i?(loadImage.requiresMetaData(a)?loadImage.fetchBlob(i,fetchBlobCallback,a):fetchBlobCallback(),P):isInstanceOf("Blob",i)||isInstanceOf("File",i)?(E=createObjectURL(i))?(P.src=E,P):readFile(i,(function(i){P.src=i}),v):void 0}return w.Promise&&"function"!==typeof o?(a=o,new Promise(executor)):executor(o,o)}loadImage.requiresMetaData=function(i){return i&&i.meta},loadImage.fetchBlob=function(i,o){o()},loadImage.transform=function(i,o,a,v,w){a(i,w)},loadImage.global=w,loadImage.readFile=readFile,loadImage.isInstanceOf=isInstanceOf,loadImage.createObjectURL=createObjectURL,loadImage.revokeObjectURL=revokeObjectURL,void 0===(v=function(){return loadImage}.call(o,a,o,i))||(i.exports=v)}("undefined"!==typeof window&&window||this)},function(i,o,a){"use strict";function _objectWithoutPropertiesLoose(i,o){if(null==i)return{};var a,v,w={},E=Object.keys(i);for(v=0;v<E.length;v++)a=E[v],o.indexOf(a)>=0||(w[a]=i[a]);return w}a.d(o,"a",(function(){return _objectWithoutPropertiesLoose}))},function(i,o,a){(function(i){var v,w=w||{version:"4.1.0"};if(o.fabric=w,"undefined"!==typeof document&&"undefined"!==typeof window)document instanceof("undefined"!==typeof HTMLDocument?HTMLDocument:Document)?w.document=document:w.document=document.implementation.createHTMLDocument(""),w.window=window;else{var E=new(a(126).JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;w.document=E.document,w.jsdomImplForWrapper=a(127).implForWrapper,w.nodeCanvas=a(128).Canvas,w.window=E,DOMParser=w.window.DOMParser}function copyGLTo2DDrawImage(i,o){var a=i.canvas,v=o.targetCanvas,w=v.getContext("2d");w.translate(0,v.height),w.scale(1,-1);var E=a.height-v.height;w.drawImage(a,0,E,v.width,v.height,0,0,v.width,v.height)}function copyGLTo2DPutImageData(i,o){var a=o.targetCanvas.getContext("2d"),v=o.destinationWidth,w=o.destinationHeight,E=v*w*4,P=new Uint8Array(this.imageBuffer,0,E),D=new Uint8ClampedArray(this.imageBuffer,0,E);i.readPixels(0,0,v,w,i.RGBA,i.UNSIGNED_BYTE,P);var j=new ImageData(D,v,w);a.putImageData(j,0,0)}w.isTouchSupported="ontouchstart"in w.window||"ontouchstart"in w.document||w.window&&w.window.navigator&&w.window.navigator.maxTouchPoints>0,w.isLikelyNode="undefined"!==typeof i&&"undefined"===typeof window,w.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],w.DPI=96,w.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",w.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,w.reNonWord=/[ \n\.,;!\?\-]/,w.fontPaths={},w.iMatrix=[1,0,0,1,0,0],w.svgNS="http://www.w3.org/2000/svg",w.perfLimitSizeTotal=2097152,w.maxCacheSideLimit=4096,w.minCacheSideLimit=256,w.charWidthsCache={},w.textureSize=2048,w.disableStyleCopyPaste=!1,w.enableGLFiltering=!0,w.devicePixelRatio=w.window.devicePixelRatio||w.window.webkitDevicePixelRatio||w.window.mozDevicePixelRatio||1,w.browserShadowBlurConstant=1,w.arcToSegmentsCache={},w.boundsOfCurveCache={},w.cachesBoundsOfCurve=!0,w.forceGLPutImageData=!1,w.initFilterBackend=function(){return w.enableGLFiltering&&w.isWebglSupported&&w.isWebglSupported(w.textureSize)?(console.log("max texture size: "+w.maxTextureSize),new w.WebglFilterBackend({tileSize:w.textureSize})):w.Canvas2dFilterBackend?new w.Canvas2dFilterBackend:void 0},"undefined"!==typeof document&&"undefined"!==typeof window&&(window.fabric=w),function(){function _removeEventListener(i,o){if(this.__eventListeners[i]){var a=this.__eventListeners[i];o?a[a.indexOf(o)]=!1:w.util.array.fill(a,!1)}}w.Observable={fire:function fire(i,o){if(!this.__eventListeners)return this;var a=this.__eventListeners[i];if(!a)return this;for(var v=0,w=a.length;v<w;v++)a[v]&&a[v].call(this,o||{});return this.__eventListeners[i]=a.filter((function(i){return!1!==i})),this},on:function on(i,o){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var a in i)this.on(a,i[a]);else this.__eventListeners[i]||(this.__eventListeners[i]=[]),this.__eventListeners[i].push(o);return this},off:function off(i,o){if(!this.__eventListeners)return this;if(0===arguments.length)for(i in this.__eventListeners)_removeEventListener.call(this,i);else if(1===arguments.length&&"object"===typeof arguments[0])for(var a in i)_removeEventListener.call(this,a,i[a]);else _removeEventListener.call(this,i,o);return this}}}(),w.Collection={_objects:[],add:function add(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var i=0,o=arguments.length;i<o;i++)this._onObjectAdded(arguments[i]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function insertAt(i,o,a){var v=this._objects;return a?v[o]=i:v.splice(o,0,i),this._onObjectAdded&&this._onObjectAdded(i),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function remove(){for(var i,o=this._objects,a=!1,v=0,w=arguments.length;v<w;v++)-1!==(i=o.indexOf(arguments[v]))&&(a=!0,o.splice(i,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[v]));return this.renderOnAddRemove&&a&&this.requestRenderAll(),this},forEachObject:function forEachObject(i,o){for(var a=this.getObjects(),v=0,w=a.length;v<w;v++)i.call(o,a[v],v,a);return this},getObjects:function getObjects(i){return"undefined"===typeof i?this._objects.concat():this._objects.filter((function(o){return o.type===i}))},item:function item(i){return this._objects[i]},isEmpty:function isEmpty(){return 0===this._objects.length},size:function size(){return this._objects.length},contains:function contains(i){return this._objects.indexOf(i)>-1},complexity:function complexity(){return this._objects.reduce((function(i,o){return i+=o.complexity?o.complexity():0}),0)}},w.CommonMethods={_setOptions:function _setOptions(i){for(var o in i)this.set(o,i[o])},_initGradient:function _initGradient(i,o){!i||!i.colorStops||i instanceof w.Gradient||this.set(o,new w.Gradient(i))},_initPattern:function _initPattern(i,o,a){!i||!i.source||i instanceof w.Pattern?a&&a():this.set(o,new w.Pattern(i,a))},_setObject:function _setObject(i){for(var o in i)this._set(o,i[o])},set:function set(i,o){return"object"===typeof i?this._setObject(i):this._set(i,o),this},_set:function _set(i,o){this[i]=o},toggle:function toggle(i){var o=this.get(i);return"boolean"===typeof o&&this.set(i,!o),this},get:function get(i){return this[i]}},function(i){var o=Math.sqrt,a=Math.atan2,v=Math.pow,E=Math.PI/180,P=Math.PI/2;w.util={cos:function cos(i){if(0===i)return 1;switch(i<0&&(i=-i),i/P){case 1:case 3:return 0;case 2:return-1}return Math.cos(i)},sin:function sin(i){if(0===i)return 0;var o=1;switch(i<0&&(o=-1),i/P){case 1:return o;case 2:return 0;case 3:return-o}return Math.sin(i)},removeFromArray:function removeFromArray(i,o){var a=i.indexOf(o);return-1!==a&&i.splice(a,1),i},getRandomInt:function getRandomInt(i,o){return Math.floor(Math.random()*(o-i+1))+i},degreesToRadians:function degreesToRadians(i){return i*E},radiansToDegrees:function radiansToDegrees(i){return i/E},rotatePoint:function rotatePoint(i,o,a){i.subtractEquals(o);var v=w.util.rotateVector(i,a);return new w.Point(v.x,v.y).addEquals(o)},rotateVector:function rotateVector(i,o){var a=w.util.sin(o),v=w.util.cos(o);return{x:i.x*v-i.y*a,y:i.x*a+i.y*v}},transformPoint:function transformPoint(i,o,a){return a?new w.Point(o[0]*i.x+o[2]*i.y,o[1]*i.x+o[3]*i.y):new w.Point(o[0]*i.x+o[2]*i.y+o[4],o[1]*i.x+o[3]*i.y+o[5])},makeBoundingBoxFromPoints:function makeBoundingBoxFromPoints(i,o){if(o)for(var a=0;a<i.length;a++)i[a]=w.util.transformPoint(i[a],o);var v=[i[0].x,i[1].x,i[2].x,i[3].x],E=w.util.array.min(v),P=w.util.array.max(v)-E,D=[i[0].y,i[1].y,i[2].y,i[3].y],j=w.util.array.min(D);return{left:E,top:j,width:P,height:w.util.array.max(D)-j}},invertTransform:function invertTransform(i){var o=1/(i[0]*i[3]-i[1]*i[2]),a=[o*i[3],-o*i[1],-o*i[2],o*i[0]],v=w.util.transformPoint({x:i[4],y:i[5]},a,!0);return a[4]=-v.x,a[5]=-v.y,a},toFixed:function toFixed(i,o){return parseFloat(Number(i).toFixed(o))},parseUnit:function parseUnit(i,o){var a=/\D{0,2}$/.exec(i),v=parseFloat(i);switch(o||(o=w.Text.DEFAULT_SVG_FONT_SIZE),a[0]){case"mm":return v*w.DPI/25.4;case"cm":return v*w.DPI/2.54;case"in":return v*w.DPI;case"pt":return v*w.DPI/72;case"pc":return v*w.DPI/72*12;case"em":return v*o;default:return v}},falseFunction:function falseFunction(){return!1},getKlass:function getKlass(i,o){return i=w.util.string.camelize(i.charAt(0).toUpperCase()+i.slice(1)),w.util.resolveNamespace(o)[i]},getSvgAttributes:function getSvgAttributes(i){var o=["instantiated_by_use","style","id","class"];switch(i){case"linearGradient":o=o.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":o=o.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":o=o.concat(["offset","stop-color","stop-opacity"])}return o},resolveNamespace:function resolveNamespace(o){if(!o)return w;var a,v=o.split("."),E=v.length,P=i||w.window;for(a=0;a<E;++a)P=P[v[a]];return P},loadImage:function loadImage(i,o,a,v){if(i){var E=w.util.createImage(),P=function onLoadCallback(){o&&o.call(a,E,!1),E=E.onload=E.onerror=null};E.onload=P,E.onerror=function(){w.log("Error loading "+E.src),o&&o.call(a,null,!0),E=E.onload=E.onerror=null},0!==i.indexOf("data")&&void 0!==v&&null!==v&&(E.crossOrigin=v),"data:image/svg"===i.substring(0,14)&&(E.onload=null,w.util.loadImageInDom(E,P)),E.src=i}else o&&o.call(a,i)},loadImageInDom:function loadImageInDom(i,o){var a=w.document.createElement("div");a.style.width=a.style.height="1px",a.style.left=a.style.top="-100%",a.style.position="absolute",a.appendChild(i),w.document.querySelector("body").appendChild(a),i.onload=function(){o(),a.parentNode.removeChild(a),a=null}},enlivenObjects:function enlivenObjects(i,o,a,v){var E=[],P=0,D=(i=i||[]).length;function onLoaded(){++P===D&&o&&o(E.filter((function(i){return i})))}D?i.forEach((function(i,o){i&&i.type?w.util.getKlass(i.type,a).fromObject(i,(function(a,w){w||(E[o]=a),v&&v(i,a,w),onLoaded()})):onLoaded()})):o&&o(E)},enlivenPatterns:function enlivenPatterns(i,o){function onLoaded(){++v===E&&o&&o(a)}var a=[],v=0,E=(i=i||[]).length;E?i.forEach((function(i,o){i&&i.source?new w.Pattern(i,(function(i){a[o]=i,onLoaded()})):(a[o]=i,onLoaded())})):o&&o(a)},groupSVGElements:function groupSVGElements(i,o,a){var v;return i&&1===i.length?i[0]:(o&&(o.width&&o.height?o.centerPoint={x:o.width/2,y:o.height/2}:(delete o.width,delete o.height)),v=new w.Group(i,o),"undefined"!==typeof a&&(v.sourcePath=a),v)},populateWithProperties:function populateWithProperties(i,o,a){if(a&&"[object Array]"===Object.prototype.toString.call(a))for(var v=0,w=a.length;v<w;v++)a[v]in i&&(o[a[v]]=i[a[v]])},drawDashedLine:function drawDashedLine(i,v,w,E,P,D){var j=E-v,B=P-w,Q=o(j*j+B*B),$=a(B,j),ee=D.length,te=0,ne=!0;for(i.save(),i.translate(v,w),i.moveTo(0,0),i.rotate($),v=0;Q>v;)(v+=D[te++%ee])>Q&&(v=Q),i[ne?"lineTo":"moveTo"](v,0),ne=!ne;i.restore()},createCanvasElement:function createCanvasElement(){return w.document.createElement("canvas")},copyCanvasElement:function copyCanvasElement(i){var o=w.util.createCanvasElement();return o.width=i.width,o.height=i.height,o.getContext("2d").drawImage(i,0,0),o},toDataURL:function toDataURL(i,o,a){return i.toDataURL("image/"+o,a)},createImage:function createImage(){return w.document.createElement("img")},multiplyTransformMatrices:function multiplyTransformMatrices(i,o,a){return[i[0]*o[0]+i[2]*o[1],i[1]*o[0]+i[3]*o[1],i[0]*o[2]+i[2]*o[3],i[1]*o[2]+i[3]*o[3],a?0:i[0]*o[4]+i[2]*o[5]+i[4],a?0:i[1]*o[4]+i[3]*o[5]+i[5]]},qrDecompose:function qrDecompose(i){var w=a(i[1],i[0]),P=v(i[0],2)+v(i[1],2),D=o(P),j=(i[0]*i[3]-i[2]*i[1])/D,B=a(i[0]*i[2]+i[1]*i[3],P);return{angle:w/E,scaleX:D,scaleY:j,skewX:B/E,skewY:0,translateX:i[4],translateY:i[5]}},calcRotateMatrix:function calcRotateMatrix(i){if(!i.angle)return w.iMatrix.concat();var o=w.util.degreesToRadians(i.angle),a=w.util.cos(o),v=w.util.sin(o);return[a,v,-v,a,0,0]},calcDimensionsMatrix:function calcDimensionsMatrix(i){var o="undefined"===typeof i.scaleX?1:i.scaleX,a="undefined"===typeof i.scaleY?1:i.scaleY,v=[i.flipX?-o:o,0,0,i.flipY?-a:a,0,0],E=w.util.multiplyTransformMatrices,P=w.util.degreesToRadians;return i.skewX&&(v=E(v,[1,0,Math.tan(P(i.skewX)),1],!0)),i.skewY&&(v=E(v,[1,Math.tan(P(i.skewY)),0,1],!0)),v},composeMatrix:function composeMatrix(i){var o=[1,0,0,1,i.translateX||0,i.translateY||0],a=w.util.multiplyTransformMatrices;return i.angle&&(o=a(o,w.util.calcRotateMatrix(i))),(1!==i.scaleX||1!==i.scaleY||i.skewX||i.skewY||i.flipX||i.flipY)&&(o=a(o,w.util.calcDimensionsMatrix(i))),o},resetObjectTransform:function resetObjectTransform(i){i.scaleX=1,i.scaleY=1,i.skewX=0,i.skewY=0,i.flipX=!1,i.flipY=!1,i.rotate(0)},saveObjectTransform:function saveObjectTransform(i){return{scaleX:i.scaleX,scaleY:i.scaleY,skewX:i.skewX,skewY:i.skewY,angle:i.angle,left:i.left,flipX:i.flipX,flipY:i.flipY,top:i.top}},isTransparent:function isTransparent(i,o,a,v){v>0&&(o>v?o-=v:o=0,a>v?a-=v:a=0);var w,E=!0,P=i.getImageData(o,a,2*v||1,2*v||1),D=P.data.length;for(w=3;w<D&&!1!==(E=P.data[w]<=0);w+=4);return P=null,E},parsePreserveAspectRatioAttribute:function parsePreserveAspectRatioAttribute(i){var o,a="meet",v=i.split(" ");return v&&v.length&&("meet"!==(a=v.pop())&&"slice"!==a?(o=a,a="meet"):v.length&&(o=v.pop())),{meetOrSlice:a,alignX:"none"!==o?o.slice(1,4):"none",alignY:"none"!==o?o.slice(5,8):"none"}},clearFabricFontCache:function clearFabricFontCache(i){(i=(i||"").toLowerCase())?w.charWidthsCache[i]&&delete w.charWidthsCache[i]:w.charWidthsCache={}},limitDimsByArea:function limitDimsByArea(i,o){var a=Math.sqrt(o*i),v=Math.floor(o/a);return{x:Math.floor(a),y:v}},capValue:function capValue(i,o,a){return Math.max(i,Math.min(o,a))},findScaleToFit:function findScaleToFit(i,o){return Math.min(o.width/i.width,o.height/i.height)},findScaleToCover:function findScaleToCover(i,o){return Math.max(o.width/i.width,o.height/i.height)},matrixToSVG:function matrixToSVG(i){return"matrix("+i.map((function(i){return w.util.toFixed(i,w.Object.NUM_FRACTION_DIGITS)})).join(" ")+")"},sizeAfterTransform:function sizeAfterTransform(i,o,a){var v=i/2,E=o/2,P=[{x:-v,y:-E},{x:v,y:-E},{x:-v,y:E},{x:v,y:E}],D=w.util.calcDimensionsMatrix(a),j=w.util.makeBoundingBoxFromPoints(P,D);return{x:j.width,y:j.height}}}}(o),function(){var i=Array.prototype.join,o={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},a={m:"l",M:"L"};function segmentToBezier(i,o,a,v,E,P,D,j,B,Q,$){var ee=w.util.cos(i),te=w.util.sin(i),ne=w.util.cos(o),ie=w.util.sin(o),le=a*E*ne-v*P*ie+D,ue=v*E*ne+a*P*ie+j;return["C",Q+B*(-a*E*te-v*P*ee),$+B*(-v*E*te+a*P*ee),le+B*(a*E*ie+v*P*ne),ue+B*(v*E*ie-a*P*ne),le,ue]}function arcToSegments(i,o,a,v,E,P,D){var j=Math.PI,B=D*j/180,Q=w.util.sin(B),$=w.util.cos(B),ee=0,te=0,ne=-$*i*.5-Q*o*.5,ie=-$*o*.5+Q*i*.5,le=(a=Math.abs(a))*a,ue=(v=Math.abs(v))*v,fe=ie*ie,he=ne*ne,ge=le*ue-le*fe-ue*he,me=0;if(ge<0){var ye=Math.sqrt(1-ge/(le*ue));a*=ye,v*=ye}else me=(E===P?-1:1)*Math.sqrt(ge/(le*fe+ue*he));var _e=me*a*ie/v,we=-me*v*ne/a,Se=$*_e-Q*we+.5*i,Te=Q*_e+$*we+.5*o,ke=calcVectorAngle(1,0,(ne-_e)/a,(ie-we)/v),Pe=calcVectorAngle((ne-_e)/a,(ie-we)/v,(-ne-_e)/a,(-ie-we)/v);0===P&&Pe>0?Pe-=2*j:1===P&&Pe<0&&(Pe+=2*j);for(var De=Math.ceil(Math.abs(Pe/j*2)),Me=[],je=Pe/De,Re=8/3*Math.sin(je/4)*Math.sin(je/4)/Math.sin(je/2),Le=ke+je,Ue=0;Ue<De;Ue++)Me[Ue]=segmentToBezier(ke,Le,$,Q,a,v,Se,Te,Re,ee,te),ee=Me[Ue][5],te=Me[Ue][6],ke=Le,Le+=je;return Me}function calcVectorAngle(i,o,a,v){var w=Math.atan2(o,i),E=Math.atan2(v,a);return E>=w?E-w:2*Math.PI-(w-E)}function getBoundsOfCurve(o,a,v,E,P,D,j,B){var Q;if(w.cachesBoundsOfCurve&&(Q=i.call(arguments),w.boundsOfCurveCache[Q]))return w.boundsOfCurveCache[Q];var $,ee,te,ne,ie,le,ue,fe,he=Math.sqrt,ge=Math.min,me=Math.max,ye=Math.abs,_e=[],we=[[],[]];ee=6*o-12*v+6*P,$=-3*o+9*v-9*P+3*j,te=3*v-3*o;for(var Se=0;Se<2;++Se)if(Se>0&&(ee=6*a-12*E+6*D,$=-3*a+9*E-9*D+3*B,te=3*E-3*a),ye($)<1e-12){if(ye(ee)<1e-12)continue;0<(ne=-te/ee)&&ne<1&&_e.push(ne)}else(ue=ee*ee-4*te*$)<0||(0<(ie=(-ee+(fe=he(ue)))/(2*$))&&ie<1&&_e.push(ie),0<(le=(-ee-fe)/(2*$))&&le<1&&_e.push(le));for(var Te,ke,Pe,De=_e.length,Me=De;De--;)Te=(Pe=1-(ne=_e[De]))*Pe*Pe*o+3*Pe*Pe*ne*v+3*Pe*ne*ne*P+ne*ne*ne*j,we[0][De]=Te,ke=Pe*Pe*Pe*a+3*Pe*Pe*ne*E+3*Pe*ne*ne*D+ne*ne*ne*B,we[1][De]=ke;we[0][Me]=o,we[1][Me]=a,we[0][Me+1]=j,we[1][Me+1]=B;var je=[{x:ge.apply(null,we[0]),y:ge.apply(null,we[1])},{x:me.apply(null,we[0]),y:me.apply(null,we[1])}];return w.cachesBoundsOfCurve&&(w.boundsOfCurveCache[Q]=je),je}function fromArcToBeizers(i,o,a){for(var v=a[1],w=a[2],E=a[3],P=a[4],D=a[5],j=arcToSegments(a[6]-i,a[7]-o,v,w,P,D,E),B=0,Q=j.length;B<Q;B++)j[B][1]+=i,j[B][2]+=o,j[B][3]+=i,j[B][4]+=o,j[B][5]+=i,j[B][6]+=o;return j}function calcLineLength(i,o,a,v){return Math.sqrt((a-i)*(a-i)+(v-o)*(v-o))}function getPointOnCubicBezierIterator(i,o,a,v,w,E,P,D){return function(j){var B=function CB1(i){return i*i*i}(j),Q=function CB2(i){return 3*i*i*(1-i)}(j),$=function CB3(i){return 3*i*(1-i)*(1-i)}(j),ee=function CB4(i){return(1-i)*(1-i)*(1-i)}(j);return{x:P*B+w*Q+a*$+i*ee,y:D*B+E*Q+v*$+o*ee}}}function getPointOnQuadraticBezierIterator(i,o,a,v,w,E){return function(P){var D=function QB1(i){return i*i}(P),j=function QB2(i){return 2*i*(1-i)}(P),B=function QB3(i){return(1-i)*(1-i)}(P);return{x:w*D+a*j+i*B,y:E*D+v*j+o*B}}}function pathIterator(i,o,a){var v,w,E={x:o,y:a},P=0;for(w=.01;w<=1;w+=.01)v=i(w),P+=calcLineLength(E.x,E.y,v.x,v.y),E=v;return P}function getPathSegmentsInfo(i){for(var o,a,v,w=0,E=i.length,P=0,D=0,j=0,B=0,Q=[],$=0;$<E;$++){switch(v={x:P,y:D,command:(o=i[$])[0]},o[0]){case"M":v.length=0,j=P=o[1],B=D=o[2];break;case"L":v.length=calcLineLength(P,D,o[1],o[2]),P=o[1],D=o[2];break;case"C":a=getPointOnCubicBezierIterator(P,D,o[1],o[2],o[3],o[4],o[5],o[6]),v.length=pathIterator(a,P,D),P=o[5],D=o[6];break;case"Q":a=getPointOnQuadraticBezierIterator(P,D,o[1],o[2],o[3],o[4]),v.length=pathIterator(a,P,D),P=o[3],D=o[4];break;case"Z":case"z":v.destX=j,v.destY=B,v.length=calcLineLength(P,D,j,B),P=j,D=B}w+=v.length,Q.push(v)}return Q.push({length:w,x:P,y:D}),Q}w.util.parsePath=function parsePath(i){var v,E,P,D,j,B=[],Q=[],$=w.rePathCommand;if(!i||!i.match)return B;for(var ee,te=0,ne=(j=i.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi)).length;te<ne;te++){for(D=(v=j[te]).slice(1).trim(),Q.length=0;P=$.exec(D);)Q.push(P[0]);ee=[v.charAt(0)];for(var ie=0,le=Q.length;ie<le;ie++)E=parseFloat(Q[ie]),isNaN(E)||ee.push(E);var ue=ee[0],fe=o[ue.toLowerCase()],he=a[ue]||ue;if(ee.length-1>fe)for(var ge=1,me=ee.length;ge<me;ge+=fe)B.push([ue].concat(ee.slice(ge,ge+fe))),ue=he;else B.push(ee)}return B},w.util.makePathSimpler=function makePathSimpler(i){var o,a,v,w,E,P,D=0,j=0,B=i.length,Q=0,$=0,ee=[];for(a=0;a<B;++a){switch(v=!1,(o=i[a].slice(0))[0]){case"l":o[0]="L",o[1]+=D,o[2]+=j;case"L":D=o[1],j=o[2];break;case"h":o[1]+=D;case"H":o[0]="L",o[2]=j,D=o[1];break;case"v":o[1]+=j;case"V":o[0]="L",j=o[1],o[1]=D,o[2]=j;break;case"m":o[0]="M",o[1]+=D,o[2]+=j;case"M":D=o[1],j=o[2],Q=o[1],$=o[2];break;case"c":o[0]="C",o[1]+=D,o[2]+=j,o[3]+=D,o[4]+=j,o[5]+=D,o[6]+=j;case"C":E=o[3],P=o[4],D=o[5],j=o[6];break;case"s":o[0]="S",o[1]+=D,o[2]+=j,o[3]+=D,o[4]+=j;case"S":"C"===w?(E=2*D-E,P=2*j-P):(E=D,P=j),D=o[3],j=o[4],o[0]="C",o[5]=o[3],o[6]=o[4],o[3]=o[1],o[4]=o[2],o[1]=E,o[2]=P,E=o[3],P=o[4];break;case"q":o[0]="Q",o[1]+=D,o[2]+=j,o[3]+=D,o[4]+=j;case"Q":E=o[1],P=o[2],D=o[3],j=o[4];break;case"t":o[0]="T",o[1]+=D,o[2]+=j;case"T":"Q"===w?(E=2*D-E,P=2*j-P):(E=D,P=j),o[0]="Q",D=o[1],j=o[2],o[1]=E,o[2]=P,o[3]=D,o[4]=j;break;case"a":o[0]="A",o[6]+=D,o[7]+=j;case"A":v=!0,ee=ee.concat(fromArcToBeizers(D,j,o)),D=o[6],j=o[7];break;case"z":case"Z":D=Q,j=$}v||ee.push(o),w=o[0]}return ee},w.util.getPathSegmentsInfo=getPathSegmentsInfo,w.util.fromArcToBeizers=fromArcToBeizers,w.util.getBoundsOfCurve=getBoundsOfCurve,w.util.getPointOnPath=function getPointOnPath(i,o,a){a||(a=getPathSegmentsInfo(i));for(var v=a[a.length-1]*o,E=0;v-a[E]>0&&E<a.length;)v-=a[E],E++;var P=a[E],D=v/P.length,j=P.length,B=i[E];switch(j){case"Z":case"z":return new w.Point(P.x,P.y).lerp(new w.Point(P.destX,P.destY),D);case"L":return new w.Point(P.x,P.y).lerp(new w.Point(B[1],B[2]),D);case"C":return getPointOnCubicBezierIterator(P.x,P.y,B[1],B[2],B[3],B[4],B[5],B[6])(D);case"Q":return getPointOnQuadraticBezierIterator(P.x,P.y,B[1],B[2],B[3],B[4])(D)}},w.util.getBoundsOfArc=function getBoundsOfArc(i,o,a,v,w,E,P,D,j){for(var B,Q=0,$=0,ee=[],te=arcToSegments(D-i,j-o,a,v,E,P,w),ne=0,ie=te.length;ne<ie;ne++)B=getBoundsOfCurve(Q,$,te[ne][1],te[ne][2],te[ne][3],te[ne][4],te[ne][5],te[ne][6]),ee.push({x:B[0].x+i,y:B[0].y+o}),ee.push({x:B[1].x+i,y:B[1].y+o}),Q=te[ne][5],$=te[ne][6];return ee},w.util.drawArc=function drawArc(i,o,a,v){fromArcToBeizers(o,a,v=v.slice(0).unshift("X")).forEach((function(o){i.bezierCurveTo.apply(i,o.slice(1))}))}}(),function(){var i=Array.prototype.slice;function find(i,o,a){if(i&&0!==i.length){var v=i.length-1,w=o?i[v][o]:i[v];if(o)for(;v--;)a(i[v][o],w)&&(w=i[v][o]);else for(;v--;)a(i[v],w)&&(w=i[v]);return w}}w.util.array={fill:function fill(i,o){for(var a=i.length;a--;)i[a]=o;return i},invoke:function invoke(o,a){for(var v=i.call(arguments,2),w=[],E=0,P=o.length;E<P;E++)w[E]=v.length?o[E][a].apply(o[E],v):o[E][a].call(o[E]);return w},min:function min(i,o){return find(i,o,(function(i,o){return i<o}))},max:function max(i,o){return find(i,o,(function(i,o){return i>=o}))}}}(),function(){function extend(i,o,a){if(a)if(!w.isLikelyNode&&o instanceof Element)i=o;else if(o instanceof Array){i=[];for(var v=0,E=o.length;v<E;v++)i[v]=extend({},o[v],a)}else if(o&&"object"===typeof o)for(var P in o)"canvas"===P||"group"===P?i[P]=null:o.hasOwnProperty(P)&&(i[P]=extend({},o[P],a));else i=o;else for(var P in o)i[P]=o[P];return i}w.util.object={extend:extend,clone:function clone(i,o){return extend({},i,o)}},w.util.object.extend(w.util,w.Observable)}(),function(){function getWholeChar(i,o){var a=i.charCodeAt(o);if(isNaN(a))return"";if(a<55296||a>57343)return i.charAt(o);if(55296<=a&&a<=56319){if(i.length<=o+1)throw"High surrogate without following low surrogate";var v=i.charCodeAt(o+1);if(56320>v||v>57343)throw"High surrogate without following low surrogate";return i.charAt(o)+i.charAt(o+1)}if(0===o)throw"Low surrogate without preceding high surrogate";var w=i.charCodeAt(o-1);if(55296>w||w>56319)throw"Low surrogate without preceding high surrogate";return!1}w.util.string={camelize:function camelize(i){return i.replace(/-+(.)?/g,(function(i,o){return o?o.toUpperCase():""}))},capitalize:function capitalize(i,o){return i.charAt(0).toUpperCase()+(o?i.slice(1):i.slice(1).toLowerCase())},escapeXml:function escapeXml(i){return i.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function graphemeSplit(i){var o,a=0,v=[];for(a=0;a<i.length;a++)!1!==(o=getWholeChar(i,a))&&v.push(o);return v}}}(),function(){var i=Array.prototype.slice,o=function emptyFunction(){},a=function(){for(var i in{toString:1})if("toString"===i)return!1;return!0}(),v=function addMethods(i,o,v){for(var w in o)w in i.prototype&&"function"===typeof i.prototype[w]&&(o[w]+"").indexOf("callSuper")>-1?i.prototype[w]=function(i){return function(){var a=this.constructor.superclass;this.constructor.superclass=v;var w=o[i].apply(this,arguments);if(this.constructor.superclass=a,"initialize"!==i)return w}}(w):i.prototype[w]=o[w],a&&(o.toString!==Object.prototype.toString&&(i.prototype.toString=o.toString),o.valueOf!==Object.prototype.valueOf&&(i.prototype.valueOf=o.valueOf))};function Subclass(){}function callSuper(o){for(var a=null,v=this;v.constructor.superclass;){var w=v.constructor.superclass.prototype[o];if(v[o]!==w){a=w;break}v=v.constructor.superclass.prototype}return a?arguments.length>1?a.apply(this,i.call(arguments,1)):a.call(this):console.log("tried to callSuper "+o+", method not found in prototype chain",this)}w.util.createClass=function createClass(){var a=null,w=i.call(arguments,0);function klass(){this.initialize.apply(this,arguments)}"function"===typeof w[0]&&(a=w.shift()),klass.superclass=a,klass.subclasses=[],a&&(Subclass.prototype=a.prototype,klass.prototype=new Subclass,a.subclasses.push(klass));for(var E=0,P=w.length;E<P;E++)v(klass,w[E],a);return klass.prototype.initialize||(klass.prototype.initialize=o),klass.prototype.constructor=klass,klass.prototype.callSuper=callSuper,klass}}(),function(){var i=!!w.document.createElement("div").attachEvent,o=["touchstart","touchmove","touchend"];w.util.addListener=function(o,a,v,w){o&&o.addEventListener(a,v,!i&&w)},w.util.removeListener=function(o,a,v,w){o&&o.removeEventListener(a,v,!i&&w)},w.util.getPointer=function(i){var o=i.target,a=w.util.getScrollLeftTop(o),v=function getTouchInfo(i){var o=i.changedTouches;return o&&o[0]?o[0]:i}(i);return{x:v.clientX+a.left,y:v.clientY+a.top}},w.util.isTouchEvent=function(i){return o.indexOf(i.type)>-1||"touch"===i.pointerType}}(),function(){var i=w.document.createElement("div"),o="string"===typeof i.style.opacity,a="string"===typeof i.style.filter,v=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,E=function setOpacity(i){return i};o?E=function setOpacity(i,o){return i.style.opacity=o,i}:a&&(E=function setOpacity(i,o){var a=i.style;return i.currentStyle&&!i.currentStyle.hasLayout&&(a.zoom=1),v.test(a.filter)?(o=o>=.9999?"":"alpha(opacity="+100*o+")",a.filter=a.filter.replace(v,o)):a.filter+=" alpha(opacity="+100*o+")",i}),w.util.setStyle=function setStyle(i,o){var a=i.style;if(!a)return i;if("string"===typeof o)return i.style.cssText+=";"+o,o.indexOf("opacity")>-1?E(i,o.match(/opacity:\s*(\d?\.?\d*)/)[1]):i;for(var v in o){if("opacity"===v)E(i,o[v]);else a["float"===v||"cssFloat"===v?"undefined"===typeof a.styleFloat?"cssFloat":"styleFloat":v]=o[v]}return i}}(),function(){var i=Array.prototype.slice;var o,a,v=function toArray(o){return i.call(o,0)};try{o=v(w.document.childNodes)instanceof Array}catch(E){}function makeElement(i,o){var a=w.document.createElement(i);for(var v in o)"class"===v?a.className=o[v]:"for"===v?a.htmlFor=o[v]:a.setAttribute(v,o[v]);return a}function getScrollLeftTop(i){for(var o=0,a=0,v=w.document.documentElement,E=w.document.body||{scrollLeft:0,scrollTop:0};i&&(i.parentNode||i.host)&&((i=i.parentNode||i.host)===w.document?(o=E.scrollLeft||v.scrollLeft||0,a=E.scrollTop||v.scrollTop||0):(o+=i.scrollLeft||0,a+=i.scrollTop||0),1!==i.nodeType||"fixed"!==i.style.position););return{left:o,top:a}}o||(v=function toArray(i){for(var o=new Array(i.length),a=i.length;a--;)o[a]=i[a];return o}),a=w.document.defaultView&&w.document.defaultView.getComputedStyle?function getElementStyle(i,o){var a=w.document.defaultView.getComputedStyle(i,null);return a?a[o]:void 0}:function getElementStyle(i,o){var a=i.style[o];return!a&&i.currentStyle&&(a=i.currentStyle[o]),a},function(){var i=w.document.documentElement.style,o="userSelect"in i?"userSelect":"MozUserSelect"in i?"MozUserSelect":"WebkitUserSelect"in i?"WebkitUserSelect":"KhtmlUserSelect"in i?"KhtmlUserSelect":"";w.util.makeElementUnselectable=function makeElementUnselectable(i){return"undefined"!==typeof i.onselectstart&&(i.onselectstart=w.util.falseFunction),o?i.style[o]="none":"string"===typeof i.unselectable&&(i.unselectable="on"),i},w.util.makeElementSelectable=function makeElementSelectable(i){return"undefined"!==typeof i.onselectstart&&(i.onselectstart=null),o?i.style[o]="":"string"===typeof i.unselectable&&(i.unselectable=""),i}}(),w.util.setImageSmoothing=function setImageSmoothing(i,o){i.imageSmoothingEnabled=i.imageSmoothingEnabled||i.webkitImageSmoothingEnabled||i.mozImageSmoothingEnabled||i.msImageSmoothingEnabled||i.oImageSmoothingEnabled,i.imageSmoothingEnabled=o},w.util.getById=function getById(i){return"string"===typeof i?w.document.getElementById(i):i},w.util.toArray=v,w.util.addClass=function addClass(i,o){i&&-1===(" "+i.className+" ").indexOf(" "+o+" ")&&(i.className+=(i.className?" ":"")+o)},w.util.makeElement=makeElement,w.util.wrapElement=function wrapElement(i,o,a){return"string"===typeof o&&(o=makeElement(o,a)),i.parentNode&&i.parentNode.replaceChild(o,i),o.appendChild(i),o},w.util.getScrollLeftTop=getScrollLeftTop,w.util.getElementOffset=function getElementOffset(i){var o,v,w=i&&i.ownerDocument,E={left:0,top:0},P={left:0,top:0},D={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!w)return P;for(var j in D)P[D[j]]+=parseInt(a(i,j),10)||0;return o=w.documentElement,"undefined"!==typeof i.getBoundingClientRect&&(E=i.getBoundingClientRect()),v=getScrollLeftTop(i),{left:E.left+v.left-(o.clientLeft||0)+P.left,top:E.top+v.top-(o.clientTop||0)+P.top}},w.util.getNodeCanvas=function getNodeCanvas(i){var o=w.jsdomImplForWrapper(i);return o._canvas||o._image},w.util.cleanUpJsdomNode=function cleanUpJsdomNode(i){if(w.isLikelyNode){var o=w.jsdomImplForWrapper(i);o&&(o._image=null,o._canvas=null,o._currentSrc=null,o._attributes=null,o._classList=null)}}}(),function(){function emptyFn(){}w.util.request=function request(i,o){o||(o={});var a=o.method?o.method.toUpperCase():"GET",v=o.onComplete||function(){},E=new w.window.XMLHttpRequest,P=o.body||o.parameters;return E.onreadystatechange=function(){4===E.readyState&&(v(E),E.onreadystatechange=emptyFn)},"GET"===a&&(P=null,"string"===typeof o.parameters&&(i=function addParamToUrl(i,o){return i+(/\?/.test(i)?"&":"?")+o}(i,o.parameters))),E.open(a,i,!0),"POST"!==a&&"PUT"!==a||E.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),E.send(P),E}}(),w.log=console.log,w.warn=console.warn,function(){function noop(){return!1}function defaultEasing(i,o,a,v){return-a*Math.cos(i/v*(Math.PI/2))+a+o}var i=w.window.requestAnimationFrame||w.window.webkitRequestAnimationFrame||w.window.mozRequestAnimationFrame||w.window.oRequestAnimationFrame||w.window.msRequestAnimationFrame||function(i){return w.window.setTimeout(i,1e3/60)},o=w.window.cancelAnimationFrame||w.window.clearTimeout;function requestAnimFrame(){return i.apply(w.window,arguments)}w.util.animate=function animate(i){requestAnimFrame((function(o){i||(i={});var a,v=o||+new Date,w=i.duration||500,E=v+w,P=i.onChange||noop,D=i.abort||noop,j=i.onComplete||noop,B=i.easing||defaultEasing,Q="startValue"in i?i.startValue:0,$="endValue"in i?i.endValue:100,ee=i.byValue||$-Q;i.onStart&&i.onStart(),function tick(i){var o=(a=i||+new Date)>E?w:a-v,te=o/w,ne=B(o,Q,ee,w),ie=Math.abs((ne-Q)/ee);if(!D())return a>E?(P($,1,1),void j($,1,1)):(P(ne,ie,te),void requestAnimFrame(tick));j($,1,1)}(v)}))},w.util.requestAnimFrame=requestAnimFrame,w.util.cancelAnimFrame=function cancelAnimFrame(){return o.apply(w.window,arguments)}}(),function(){function calculateColor(i,o,a){var v="rgba("+parseInt(i[0]+a*(o[0]-i[0]),10)+","+parseInt(i[1]+a*(o[1]-i[1]),10)+","+parseInt(i[2]+a*(o[2]-i[2]),10);return v+=","+(i&&o?parseFloat(i[3]+a*(o[3]-i[3])):1),v+=")"}w.util.animateColor=function animateColor(i,o,a,v){var E=new w.Color(i).getSource(),P=new w.Color(o).getSource(),D=v.onComplete,j=v.onChange;v=v||{},w.util.animate(w.util.object.extend(v,{duration:a||500,startValue:E,endValue:P,byValue:P,easing:function easing(i,o,a,w){return calculateColor(o,a,v.colorEasing?v.colorEasing(i,w):1-Math.cos(i/w*(Math.PI/2)))},onComplete:function onComplete(i,o,a){if(D)return D(calculateColor(P,P,0),o,a)},onChange:function onChange(i,o,a){if(j){if(Array.isArray(i))return j(calculateColor(i,i,0),o,a);j(i,o,a)}}}))}}(),function(){function normalize(i,o,a,v){return i<Math.abs(o)?(i=o,v=a/4):v=0===o&&0===i?a/(2*Math.PI)*Math.asin(1):a/(2*Math.PI)*Math.asin(o/i),{a:i,c:o,p:a,s:v}}function elastic(i,o,a){return i.a*Math.pow(2,10*(o-=1))*Math.sin((o*a-i.s)*(2*Math.PI)/i.p)}function easeInBounce(i,o,a,v){return a-easeOutBounce(v-i,0,a,v)+o}function easeOutBounce(i,o,a,v){return(i/=v)<1/2.75?a*(7.5625*i*i)+o:i<2/2.75?a*(7.5625*(i-=1.5/2.75)*i+.75)+o:i<2.5/2.75?a*(7.5625*(i-=2.25/2.75)*i+.9375)+o:a*(7.5625*(i-=2.625/2.75)*i+.984375)+o}w.util.ease={easeInQuad:function easeInQuad(i,o,a,v){return a*(i/=v)*i+o},easeOutQuad:function easeOutQuad(i,o,a,v){return-a*(i/=v)*(i-2)+o},easeInOutQuad:function easeInOutQuad(i,o,a,v){return(i/=v/2)<1?a/2*i*i+o:-a/2*(--i*(i-2)-1)+o},easeInCubic:function easeInCubic(i,o,a,v){return a*(i/=v)*i*i+o},easeOutCubic:function easeOutCubic(i,o,a,v){return a*((i=i/v-1)*i*i+1)+o},easeInOutCubic:function easeInOutCubic(i,o,a,v){return(i/=v/2)<1?a/2*i*i*i+o:a/2*((i-=2)*i*i+2)+o},easeInQuart:function easeInQuart(i,o,a,v){return a*(i/=v)*i*i*i+o},easeOutQuart:function easeOutQuart(i,o,a,v){return-a*((i=i/v-1)*i*i*i-1)+o},easeInOutQuart:function easeInOutQuart(i,o,a,v){return(i/=v/2)<1?a/2*i*i*i*i+o:-a/2*((i-=2)*i*i*i-2)+o},easeInQuint:function easeInQuint(i,o,a,v){return a*(i/=v)*i*i*i*i+o},easeOutQuint:function easeOutQuint(i,o,a,v){return a*((i=i/v-1)*i*i*i*i+1)+o},easeInOutQuint:function easeInOutQuint(i,o,a,v){return(i/=v/2)<1?a/2*i*i*i*i*i+o:a/2*((i-=2)*i*i*i*i+2)+o},easeInSine:function easeInSine(i,o,a,v){return-a*Math.cos(i/v*(Math.PI/2))+a+o},easeOutSine:function easeOutSine(i,o,a,v){return a*Math.sin(i/v*(Math.PI/2))+o},easeInOutSine:function easeInOutSine(i,o,a,v){return-a/2*(Math.cos(Math.PI*i/v)-1)+o},easeInExpo:function easeInExpo(i,o,a,v){return 0===i?o:a*Math.pow(2,10*(i/v-1))+o},easeOutExpo:function easeOutExpo(i,o,a,v){return i===v?o+a:a*(1-Math.pow(2,-10*i/v))+o},easeInOutExpo:function easeInOutExpo(i,o,a,v){return 0===i?o:i===v?o+a:(i/=v/2)<1?a/2*Math.pow(2,10*(i-1))+o:a/2*(2-Math.pow(2,-10*--i))+o},easeInCirc:function easeInCirc(i,o,a,v){return-a*(Math.sqrt(1-(i/=v)*i)-1)+o},easeOutCirc:function easeOutCirc(i,o,a,v){return a*Math.sqrt(1-(i=i/v-1)*i)+o},easeInOutCirc:function easeInOutCirc(i,o,a,v){return(i/=v/2)<1?-a/2*(Math.sqrt(1-i*i)-1)+o:a/2*(Math.sqrt(1-(i-=2)*i)+1)+o},easeInElastic:function easeInElastic(i,o,a,v){var w=0;return 0===i?o:1===(i/=v)?o+a:(w||(w=.3*v),-elastic(normalize(a,a,w,1.70158),i,v)+o)},easeOutElastic:function easeOutElastic(i,o,a,v){var w=0;if(0===i)return o;if(1===(i/=v))return o+a;w||(w=.3*v);var E=normalize(a,a,w,1.70158);return E.a*Math.pow(2,-10*i)*Math.sin((i*v-E.s)*(2*Math.PI)/E.p)+E.c+o},easeInOutElastic:function easeInOutElastic(i,o,a,v){var w=0;if(0===i)return o;if(2===(i/=v/2))return o+a;w||(w=v*(.3*1.5));var E=normalize(a,a,w,1.70158);return i<1?-.5*elastic(E,i,v)+o:E.a*Math.pow(2,-10*(i-=1))*Math.sin((i*v-E.s)*(2*Math.PI)/E.p)*.5+E.c+o},easeInBack:function easeInBack(i,o,a,v,w){return void 0===w&&(w=1.70158),a*(i/=v)*i*((w+1)*i-w)+o},easeOutBack:function easeOutBack(i,o,a,v,w){return void 0===w&&(w=1.70158),a*((i=i/v-1)*i*((w+1)*i+w)+1)+o},easeInOutBack:function easeInOutBack(i,o,a,v,w){return void 0===w&&(w=1.70158),(i/=v/2)<1?a/2*(i*i*((1+(w*=1.525))*i-w))+o:a/2*((i-=2)*i*((1+(w*=1.525))*i+w)+2)+o},easeInBounce:easeInBounce,easeOutBounce:easeOutBounce,easeInOutBounce:function easeInOutBounce(i,o,a,v){return i<v/2?.5*easeInBounce(2*i,0,a,v)+o:.5*easeOutBounce(2*i-v,0,a,v)+.5*a+o}}}(),function(i){"use strict";var o=i.fabric||(i.fabric={}),a=o.util.object.extend,v=o.util.object.clone,w=o.util.toFixed,E=o.util.parseUnit,P=o.util.multiplyTransformMatrices,D={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},j={stroke:"strokeOpacity",fill:"fillOpacity"};function normalizeAttr(i){return i in D?D[i]:i}function normalizeValue(i,a,v,w){var D,j="[object Array]"===Object.prototype.toString.call(a);if("fill"!==i&&"stroke"!==i||"none"!==a){if("strokeUniform"===i)return"non-scaling-stroke"===a;if("strokeDashArray"===i)a="none"===a?null:a.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===i)a=v&&v.transformMatrix?P(v.transformMatrix,o.parseTransformAttribute(a)):o.parseTransformAttribute(a);else if("visible"===i)a="none"!==a&&"hidden"!==a,v&&!1===v.visible&&(a=!1);else if("opacity"===i)a=parseFloat(a),v&&"undefined"!==typeof v.opacity&&(a*=v.opacity);else if("textAnchor"===i)a="start"===a?"left":"end"===a?"right":"center";else if("charSpacing"===i)D=E(a,w)/w*1e3;else if("paintFirst"===i){var B=a.indexOf("fill"),Q=a.indexOf("stroke");a="fill";(B>-1&&Q>-1&&Q<B||-1===B&&Q>-1)&&(a="stroke")}else{if("href"===i||"xlink:href"===i||"font"===i)return a;if("imageSmoothing"===i)return"optimizeQuality"===a;D=j?a.map(E):E(a,w)}}else a="";return!j&&isNaN(D)?a:D}function getSvgRegex(i){return new RegExp("^("+i.join("|")+")\\b","i")}function _getMultipleNodes(i,o){var a,v,w,E,P=[];for(w=0,E=o.length;w<E;w++)a=o[w],v=i.getElementsByTagName(a),P=P.concat(Array.prototype.slice.call(v));return P}function elementMatchesRule(i,o){var a,v=!0;return(a=selectorMatches(i,o.pop()))&&o.length&&(v=function doesSomeParentMatch(i,o){var a,v=!0;for(;i.parentNode&&1===i.parentNode.nodeType&&o.length;)v&&(a=o.pop()),i=i.parentNode,v=selectorMatches(i,a);return 0===o.length}(i,o)),a&&v&&0===o.length}function selectorMatches(i,o){var a,v,w=i.nodeName,E=i.getAttribute("class"),P=i.getAttribute("id");if(a=new RegExp("^"+w,"i"),o=o.replace(a,""),P&&o.length&&(a=new RegExp("#"+P+"(?![a-zA-Z\\-]+)","i"),o=o.replace(a,"")),E&&o.length)for(v=(E=E.split(" ")).length;v--;)a=new RegExp("\\."+E[v]+"(?![a-zA-Z\\-]+)","i"),o=o.replace(a,"");return 0===o.length}function elementById(i,o){var a;if(i.getElementById&&(a=i.getElementById(o)),a)return a;var v,w,E,P=i.getElementsByTagName("*");for(w=0,E=P.length;w<E;w++)if(o===(v=P[w]).getAttribute("id"))return v}o.svgValidTagNamesRegEx=getSvgRegex(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),o.svgViewBoxElementsRegEx=getSvgRegex(["symbol","image","marker","pattern","view","svg"]),o.svgInvalidAncestorsRegEx=getSvgRegex(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),o.svgValidParentsRegEx=getSvgRegex(["symbol","g","a","svg","clipPath","defs"]),o.cssRules={},o.gradientDefs={},o.clipPaths={},o.parseTransformAttribute=function(){function skewMatrix(i,a,v){i[v]=Math.tan(o.util.degreesToRadians(a[0]))}var i=o.iMatrix,a=o.reNum,v="(?:\\s+,?\\s*|,\\s*)",w="(?:"+("(?:(matrix)\\s*\\(\\s*("+a+")"+v+"("+a+")"+v+"("+a+")"+v+"("+a+")"+v+"("+a+")"+v+"("+a+")\\s*\\))")+"|"+("(?:(translate)\\s*\\(\\s*("+a+")(?:"+v+"("+a+"))?\\s*\\))")+"|"+("(?:(scale)\\s*\\(\\s*("+a+")(?:"+v+"("+a+"))?\\s*\\))")+"|"+("(?:(rotate)\\s*\\(\\s*("+a+")(?:"+v+"("+a+")"+v+"("+a+"))?\\s*\\))")+"|"+("(?:(skewX)\\s*\\(\\s*("+a+")\\s*\\))")+"|"+("(?:(skewY)\\s*\\(\\s*("+a+")\\s*\\))")+")",E=new RegExp("^\\s*(?:"+("(?:"+w+"(?:"+v+"*"+w+")*)")+"?)\\s*$"),P=new RegExp(w,"g");return function(a){var v=i.concat(),D=[];if(!a||a&&!E.test(a))return v;a.replace(P,(function(a){var E=new RegExp(w).exec(a).filter((function(i){return!!i})),P=E[1],j=E.slice(2).map(parseFloat);switch(P){case"translate":!function translateMatrix(i,o){i[4]=o[0],2===o.length&&(i[5]=o[1])}(v,j);break;case"rotate":j[0]=o.util.degreesToRadians(j[0]),function rotateMatrix(i,a){var v=o.util.cos(a[0]),w=o.util.sin(a[0]),E=0,P=0;3===a.length&&(E=a[1],P=a[2]),i[0]=v,i[1]=w,i[2]=-w,i[3]=v,i[4]=E-(v*E-w*P),i[5]=P-(w*E+v*P)}(v,j);break;case"scale":!function scaleMatrix(i,o){var a=o[0],v=2===o.length?o[1]:o[0];i[0]=a,i[3]=v}(v,j);break;case"skewX":skewMatrix(v,j,2);break;case"skewY":skewMatrix(v,j,1);break;case"matrix":v=j}D.push(v.concat()),v=i.concat()}));for(var j=D[0];D.length>1;)D.shift(),j=o.util.multiplyTransformMatrices(j,D[0]);return j}}();var B=new RegExp("^\\s*("+o.reNum+"+)\\s*,?\\s*("+o.reNum+"+)\\s*,?\\s*("+o.reNum+"+)\\s*,?\\s*("+o.reNum+"+)\\s*$");function applyViewboxTransform(i){if(o.svgViewBoxElementsRegEx.test(i.nodeName)){var a,v,w,P,D,j,Q=i.getAttribute("viewBox"),$=1,ee=1,te=i.getAttribute("width"),ne=i.getAttribute("height"),ie=i.getAttribute("x")||0,le=i.getAttribute("y")||0,ue=i.getAttribute("preserveAspectRatio")||"",fe=!Q||!(Q=Q.match(B)),he=!te||!ne||"100%"===te||"100%"===ne,ge=fe&&he,me={},ye="",_e=0,we=0;if(me.width=0,me.height=0,me.toBeParsed=ge,fe&&(ie||le)&&"#document"!==i.parentNode.nodeName&&(ye=" translate("+E(ie)+" "+E(le)+") ",D=(i.getAttribute("transform")||"")+ye,i.setAttribute("transform",D),i.removeAttribute("x"),i.removeAttribute("y")),ge)return me;if(fe)return me.width=E(te),me.height=E(ne),me;if(a=-parseFloat(Q[1]),v=-parseFloat(Q[2]),w=parseFloat(Q[3]),P=parseFloat(Q[4]),me.minX=a,me.minY=v,me.viewBoxWidth=w,me.viewBoxHeight=P,he?(me.width=w,me.height=P):(me.width=E(te),me.height=E(ne),$=me.width/w,ee=me.height/P),"none"!==(ue=o.util.parsePreserveAspectRatioAttribute(ue)).alignX&&("meet"===ue.meetOrSlice&&(ee=$=$>ee?ee:$),"slice"===ue.meetOrSlice&&(ee=$=$>ee?$:ee),_e=me.width-w*$,we=me.height-P*$,"Mid"===ue.alignX&&(_e/=2),"Mid"===ue.alignY&&(we/=2),"Min"===ue.alignX&&(_e=0),"Min"===ue.alignY&&(we=0)),1===$&&1===ee&&0===a&&0===v&&0===ie&&0===le)return me;if((ie||le)&&"#document"!==i.parentNode.nodeName&&(ye=" translate("+E(ie)+" "+E(le)+") "),D=ye+" matrix("+$+" 0 0 "+ee+" "+(a*$+_e)+" "+(v*ee+we)+") ","svg"===i.nodeName){for(j=i.ownerDocument.createElementNS(o.svgNS,"g");i.firstChild;)j.appendChild(i.firstChild);i.appendChild(j)}else(j=i).removeAttribute("x"),j.removeAttribute("y"),D=j.getAttribute("transform")+D;return j.setAttribute("transform",D),me}}function recursivelyParseGradientsXlink(i,o){var a=elementById(i,o.getAttribute("xlink:href").substr(1));if(a&&a.getAttribute("xlink:href")&&recursivelyParseGradientsXlink(i,a),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach((function(i){a&&!o.hasAttribute(i)&&a.hasAttribute(i)&&o.setAttribute(i,a.getAttribute(i))})),!o.children.length)for(var v=a.cloneNode(!0);v.firstChild;)o.appendChild(v.firstChild);o.removeAttribute("xlink:href")}o.parseSVGDocument=function(i,a,w,E){if(i){!function parseUseDirectives(i){for(var a=_getMultipleNodes(i,["use","svg:use"]),v=0;a.length&&v<a.length;){var w,E,P,D,j=a[v],B=(j.getAttribute("xlink:href")||j.getAttribute("href")).substr(1),Q=j.getAttribute("x")||0,$=j.getAttribute("y")||0,ee=elementById(i,B).cloneNode(!0),te=(ee.getAttribute("transform")||"")+" translate("+Q+", "+$+")",ne=a.length,ie=o.svgNS;if(applyViewboxTransform(ee),/^svg$/i.test(ee.nodeName)){var le=ee.ownerDocument.createElementNS(ie,"g");for(E=0,D=(P=ee.attributes).length;E<D;E++)w=P.item(E),le.setAttributeNS(ie,w.nodeName,w.nodeValue);for(;ee.firstChild;)le.appendChild(ee.firstChild);ee=le}for(E=0,D=(P=j.attributes).length;E<D;E++)"x"!==(w=P.item(E)).nodeName&&"y"!==w.nodeName&&"xlink:href"!==w.nodeName&&"href"!==w.nodeName&&("transform"===w.nodeName?te=w.nodeValue+" "+te:ee.setAttribute(w.nodeName,w.nodeValue));ee.setAttribute("transform",te),ee.setAttribute("instantiated_by_use","1"),ee.removeAttribute("id"),j.parentNode.replaceChild(ee,j),a.length===ne&&v++}}(i);var P,D,j=o.Object.__uid++,B=applyViewboxTransform(i),Q=o.util.toArray(i.getElementsByTagName("*"));if(B.crossOrigin=E&&E.crossOrigin,B.svgUid=j,0===Q.length&&o.isLikelyNode){var $=[];for(P=0,D=(Q=i.selectNodes('//*[name(.)!="svg"]')).length;P<D;P++)$[P]=Q[P];Q=$}var ee=Q.filter((function(i){return applyViewboxTransform(i),o.svgValidTagNamesRegEx.test(i.nodeName.replace("svg:",""))&&!function hasAncestorWithNodeName(i,o){for(;i&&(i=i.parentNode);)if(i.nodeName&&o.test(i.nodeName.replace("svg:",""))&&!i.getAttribute("instantiated_by_use"))return!0;return!1}(i,o.svgInvalidAncestorsRegEx)}));if(!ee||ee&&!ee.length)a&&a([],{});else{var te={};Q.filter((function(i){return"clipPath"===i.nodeName.replace("svg:","")})).forEach((function(i){var a=i.getAttribute("id");te[a]=o.util.toArray(i.getElementsByTagName("*")).filter((function(i){return o.svgValidTagNamesRegEx.test(i.nodeName.replace("svg:",""))}))})),o.gradientDefs[j]=o.getGradientDefs(i),o.cssRules[j]=o.getCSSRules(i),o.clipPaths[j]=te,o.parseElements(ee,(function(i,v){a&&(a(i,B,v,Q),delete o.gradientDefs[j],delete o.cssRules[j],delete o.clipPaths[j])}),v(B),w,E)}}};var Q=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+o.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+o.reNum+"))?\\s+(.*)");a(o,{parseFontDeclaration:function parseFontDeclaration(i,o){var a=i.match(Q);if(a){var v=a[1],w=a[3],P=a[4],D=a[5],j=a[6];v&&(o.fontStyle=v),w&&(o.fontWeight=isNaN(parseFloat(w))?w:parseFloat(w)),P&&(o.fontSize=E(P)),j&&(o.fontFamily=j),D&&(o.lineHeight="normal"===D?1:D)}},getGradientDefs:function getGradientDefs(i){var o,a=_getMultipleNodes(i,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),v=0,w={};for(v=a.length;v--;)(o=a[v]).getAttribute("xlink:href")&&recursivelyParseGradientsXlink(i,o),w[o.getAttribute("id")]=o;return w},parseAttributes:function parseAttributes(i,v,P){if(i){var D,B,Q,$={};"undefined"===typeof P&&(P=i.getAttribute("svgUid")),i.parentNode&&o.svgValidParentsRegEx.test(i.parentNode.nodeName)&&($=o.parseAttributes(i.parentNode,v,P));var ee=v.reduce((function(o,a){return(D=i.getAttribute(a))&&(o[a]=D),o}),{}),te=a(function getGlobalStylesForElement(i,a){var v={};for(var w in o.cssRules[a])if(elementMatchesRule(i,w.split(" ")))for(var E in o.cssRules[a][w])v[E]=o.cssRules[a][w][E];return v}(i,P),o.parseStyleAttribute(i));ee=a(ee,te),te["clip-path"]&&i.setAttribute("clip-path",te["clip-path"]),B=Q=$.fontSize||o.Text.DEFAULT_SVG_FONT_SIZE,ee["font-size"]&&(ee["font-size"]=B=E(ee["font-size"],Q));var ne,ie,le={};for(var ue in ee)ie=normalizeValue(ne=normalizeAttr(ue),ee[ue],$,B),le[ne]=ie;le&&le.font&&o.parseFontDeclaration(le.font,le);var fe=a($,le);return o.svgValidParentsRegEx.test(i.nodeName)?fe:function _setStrokeFillOpacity(i){for(var a in j)if("undefined"!==typeof i[j[a]]&&""!==i[a]){if("undefined"===typeof i[a]){if(!o.Object.prototype[a])continue;i[a]=o.Object.prototype[a]}if(0!==i[a].indexOf("url(")){var v=new o.Color(i[a]);i[a]=v.setAlpha(w(v.getAlpha()*i[j[a]],2)).toRgba()}}return i}(fe)}},parseElements:function parseElements(i,a,v,w,E){new o.ElementsParser(i,a,v,w,E).parse()},parseStyleAttribute:function parseStyleAttribute(i){var o={},a=i.getAttribute("style");return a?("string"===typeof a?function parseStyleString(i,o){var a,v;i.replace(/;\s*$/,"").split(";").forEach((function(i){var w=i.split(":");a=w[0].trim().toLowerCase(),v=w[1].trim(),o[a]=v}))}(a,o):function parseStyleObject(i,o){var a,v;for(var w in i)"undefined"!==typeof i[w]&&(a=w.toLowerCase(),v=i[w],o[a]=v)}(a,o),o):o},parsePointsAttribute:function parsePointsAttribute(i){if(!i)return null;var o,a,v=[];for(o=0,a=(i=(i=i.replace(/,/g," ").trim()).split(/\s+/)).length;o<a;o+=2)v.push({x:parseFloat(i[o]),y:parseFloat(i[o+1])});return v},getCSSRules:function getCSSRules(i){var a,v,w=i.getElementsByTagName("style"),E={};for(a=0,v=w.length;a<v;a++){var P=w[a].textContent||"";""!==(P=P.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&P.match(/[^{]*\{[\s\S]*?\}/g).map((function(i){return i.trim()})).forEach((function(i){var w=i.match(/([\s\S]*?)\s*\{([^}]*)\}/),P={},D=w[2].trim().replace(/;$/,"").split(/\s*;\s*/);for(a=0,v=D.length;a<v;a++){var j=D[a].split(/\s*:\s*/),B=j[0],Q=j[1];P[B]=Q}(i=w[1]).split(",").forEach((function(i){""!==(i=i.replace(/^svg/i,"").trim())&&(E[i]?o.util.object.extend(E[i],P):E[i]=o.util.object.clone(P))}))}))}return E},loadSVGFromURL:function loadSVGFromURL(i,a,v,w){i=i.replace(/^\n\s*/,"").trim(),new o.util.request(i,{method:"get",onComplete:function onComplete(i){var E=i.responseXML;if(!E||!E.documentElement)return a&&a(null),!1;o.parseSVGDocument(E.documentElement,(function(i,o,v,w){a&&a(i,o,v,w)}),v,w)}})},loadSVGFromString:function loadSVGFromString(i,a,v,w){var E=(new o.window.DOMParser).parseFromString(i.trim(),"text/xml");o.parseSVGDocument(E.documentElement,(function(i,o,v,w){a(i,o,v,w)}),v,w)}})}(o),w.ElementsParser=function(i,o,a,v,w,E){this.elements=i,this.callback=o,this.options=a,this.reviver=v,this.svgUid=a&&a.svgUid||0,this.parsingOptions=w,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=E},(v=w.ElementsParser.prototype).parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},v.createObjects=function(){var i=this;this.elements.forEach((function(o,a){o.setAttribute("svgUid",i.svgUid),i.createObject(o,a)}))},v.findTag=function(i){return w[w.util.string.capitalize(i.tagName.replace("svg:",""))]},v.createObject=function(i,o){var a=this.findTag(i);if(a&&a.fromElement)try{a.fromElement(i,this.createCallback(o,i),this.options)}catch(v){w.log(v)}else this.checkIfDone()},v.createCallback=function(i,o){var a=this;return function(v){var E;a.resolveGradient(v,o,"fill"),a.resolveGradient(v,o,"stroke"),v instanceof w.Image&&v._originalElement&&(E=v.parsePreserveAspectRatioAttribute(o)),v._removeTransformMatrix(E),a.resolveClipPath(v,o),a.reviver&&a.reviver(o,v),a.instances[i]=v,a.checkIfDone()}},v.extractPropertyDefinition=function(i,o,a){var v=i[o],E=this.regexUrl;if(E.test(v)){E.lastIndex=0;var P=E.exec(v)[1];return E.lastIndex=0,w[a][this.svgUid][P]}},v.resolveGradient=function(i,o,a){var v=this.extractPropertyDefinition(i,a,"gradientDefs");if(v){var E=o.getAttribute(a+"-opacity"),P=w.Gradient.fromElement(v,i,E,this.options);i.set(a,P)}},v.createClipPathCallback=function(i,o){return function(i){i._removeTransformMatrix(),i.fillRule=i.clipRule,o.push(i)}},v.resolveClipPath=function(i,o){var a,v,E,P,D=this.extractPropertyDefinition(i,"clipPath","clipPaths");if(D){E=[],v=w.util.invertTransform(i.calcTransformMatrix());for(var j=D[0].parentNode,B=o;B.parentNode&&B.getAttribute("clip-path")!==i.clipPath;)B=B.parentNode;B.parentNode.appendChild(j);for(var Q=0;Q<D.length;Q++)a=D[Q],this.findTag(a).fromElement(a,this.createClipPathCallback(i,E),this.options);D=1===E.length?E[0]:new w.Group(E),P=w.util.multiplyTransformMatrices(v,D.calcTransformMatrix()),D.clipPath&&this.resolveClipPath(D,B);var $=w.util.qrDecompose(P);D.flipX=!1,D.flipY=!1,D.set("scaleX",$.scaleX),D.set("scaleY",$.scaleY),D.angle=$.angle,D.skewX=$.skewX,D.skewY=0,D.setPositionByOrigin({x:$.translateX,y:$.translateY},"center","center"),i.clipPath=D}else delete i.clipPath},v.checkIfDone=function(){0===--this.numElements&&(this.instances=this.instances.filter((function(i){return null!=i})),this.callback(this.instances,this.elements))},function(i){"use strict";var o=i.fabric||(i.fabric={});function Point(i,o){this.x=i,this.y=o}o.Point?o.warn("fabric.Point is already defined"):(o.Point=Point,Point.prototype={type:"point",constructor:Point,add:function add(i){return new Point(this.x+i.x,this.y+i.y)},addEquals:function addEquals(i){return this.x+=i.x,this.y+=i.y,this},scalarAdd:function scalarAdd(i){return new Point(this.x+i,this.y+i)},scalarAddEquals:function scalarAddEquals(i){return this.x+=i,this.y+=i,this},subtract:function subtract(i){return new Point(this.x-i.x,this.y-i.y)},subtractEquals:function subtractEquals(i){return this.x-=i.x,this.y-=i.y,this},scalarSubtract:function scalarSubtract(i){return new Point(this.x-i,this.y-i)},scalarSubtractEquals:function scalarSubtractEquals(i){return this.x-=i,this.y-=i,this},multiply:function multiply(i){return new Point(this.x*i,this.y*i)},multiplyEquals:function multiplyEquals(i){return this.x*=i,this.y*=i,this},divide:function divide(i){return new Point(this.x/i,this.y/i)},divideEquals:function divideEquals(i){return this.x/=i,this.y/=i,this},eq:function eq(i){return this.x===i.x&&this.y===i.y},lt:function lt(i){return this.x<i.x&&this.y<i.y},lte:function lte(i){return this.x<=i.x&&this.y<=i.y},gt:function gt(i){return this.x>i.x&&this.y>i.y},gte:function gte(i){return this.x>=i.x&&this.y>=i.y},lerp:function lerp(i,o){return"undefined"===typeof o&&(o=.5),o=Math.max(Math.min(1,o),0),new Point(this.x+(i.x-this.x)*o,this.y+(i.y-this.y)*o)},distanceFrom:function distanceFrom(i){var o=this.x-i.x,a=this.y-i.y;return Math.sqrt(o*o+a*a)},midPointFrom:function midPointFrom(i){return this.lerp(i)},min:function min(i){return new Point(Math.min(this.x,i.x),Math.min(this.y,i.y))},max:function max(i){return new Point(Math.max(this.x,i.x),Math.max(this.y,i.y))},toString:function toString(){return this.x+","+this.y},setXY:function setXY(i,o){return this.x=i,this.y=o,this},setX:function setX(i){return this.x=i,this},setY:function setY(i){return this.y=i,this},setFromPoint:function setFromPoint(i){return this.x=i.x,this.y=i.y,this},swap:function swap(i){var o=this.x,a=this.y;this.x=i.x,this.y=i.y,i.x=o,i.y=a},clone:function clone(){return new Point(this.x,this.y)}})}(o),function(i){"use strict";var o=i.fabric||(i.fabric={});function Intersection(i){this.status=i,this.points=[]}o.Intersection?o.warn("fabric.Intersection is already defined"):(o.Intersection=Intersection,o.Intersection.prototype={constructor:Intersection,appendPoint:function appendPoint(i){return this.points.push(i),this},appendPoints:function appendPoints(i){return this.points=this.points.concat(i),this}},o.Intersection.intersectLineLine=function(i,a,v,w){var E,P=(w.x-v.x)*(i.y-v.y)-(w.y-v.y)*(i.x-v.x),D=(a.x-i.x)*(i.y-v.y)-(a.y-i.y)*(i.x-v.x),j=(w.y-v.y)*(a.x-i.x)-(w.x-v.x)*(a.y-i.y);if(0!==j){var B=P/j,Q=D/j;0<=B&&B<=1&&0<=Q&&Q<=1?(E=new Intersection("Intersection")).appendPoint(new o.Point(i.x+B*(a.x-i.x),i.y+B*(a.y-i.y))):E=new Intersection}else E=new Intersection(0===P||0===D?"Coincident":"Parallel");return E},o.Intersection.intersectLinePolygon=function(i,o,a){var v,w,E,P,D=new Intersection,j=a.length;for(P=0;P<j;P++)v=a[P],w=a[(P+1)%j],E=Intersection.intersectLineLine(i,o,v,w),D.appendPoints(E.points);return D.points.length>0&&(D.status="Intersection"),D},o.Intersection.intersectPolygonPolygon=function(i,o){var a,v=new Intersection,w=i.length;for(a=0;a<w;a++){var E=i[a],P=i[(a+1)%w],D=Intersection.intersectLinePolygon(E,P,o);v.appendPoints(D.points)}return v.points.length>0&&(v.status="Intersection"),v},o.Intersection.intersectPolygonRectangle=function(i,a,v){var w=a.min(v),E=a.max(v),P=new o.Point(E.x,w.y),D=new o.Point(w.x,E.y),j=Intersection.intersectLinePolygon(w,P,i),B=Intersection.intersectLinePolygon(P,E,i),Q=Intersection.intersectLinePolygon(E,D,i),$=Intersection.intersectLinePolygon(D,w,i),ee=new Intersection;return ee.appendPoints(j.points),ee.appendPoints(B.points),ee.appendPoints(Q.points),ee.appendPoints($.points),ee.points.length>0&&(ee.status="Intersection"),ee})}(o),function(i){"use strict";var o=i.fabric||(i.fabric={});function Color(i){i?this._tryParsingColor(i):this.setSource([0,0,0,1])}function hue2rgb(i,o,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?i+6*(o-i)*a:a<.5?o:a<2/3?i+(o-i)*(2/3-a)*6:i}o.Color?o.warn("fabric.Color is already defined."):(o.Color=Color,o.Color.prototype={_tryParsingColor:function _tryParsingColor(i){var o;i in Color.colorNameMap&&(i=Color.colorNameMap[i]),"transparent"===i&&(o=[255,255,255,0]),o||(o=Color.sourceFromHex(i)),o||(o=Color.sourceFromRgb(i)),o||(o=Color.sourceFromHsl(i)),o||(o=[0,0,0,1]),o&&this.setSource(o)},_rgbToHsl:function _rgbToHsl(i,a,v){i/=255,a/=255,v/=255;var w,E,P,D=o.util.array.max([i,a,v]),j=o.util.array.min([i,a,v]);if(P=(D+j)/2,D===j)w=E=0;else{var B=D-j;switch(E=P>.5?B/(2-D-j):B/(D+j),D){case i:w=(a-v)/B+(a<v?6:0);break;case a:w=(v-i)/B+2;break;case v:w=(i-a)/B+4}w/=6}return[Math.round(360*w),Math.round(100*E),Math.round(100*P)]},getSource:function getSource(){return this._source},setSource:function setSource(i){this._source=i},toRgb:function toRgb(){var i=this.getSource();return"rgb("+i[0]+","+i[1]+","+i[2]+")"},toRgba:function toRgba(){var i=this.getSource();return"rgba("+i[0]+","+i[1]+","+i[2]+","+i[3]+")"},toHsl:function toHsl(){var i=this.getSource(),o=this._rgbToHsl(i[0],i[1],i[2]);return"hsl("+o[0]+","+o[1]+"%,"+o[2]+"%)"},toHsla:function toHsla(){var i=this.getSource(),o=this._rgbToHsl(i[0],i[1],i[2]);return"hsla("+o[0]+","+o[1]+"%,"+o[2]+"%,"+i[3]+")"},toHex:function toHex(){var i,o,a,v=this.getSource();return i=1===(i=v[0].toString(16)).length?"0"+i:i,o=1===(o=v[1].toString(16)).length?"0"+o:o,a=1===(a=v[2].toString(16)).length?"0"+a:a,i.toUpperCase()+o.toUpperCase()+a.toUpperCase()},toHexa:function toHexa(){var i,o=this.getSource();return i=1===(i=(i=Math.round(255*o[3])).toString(16)).length?"0"+i:i,this.toHex()+i.toUpperCase()},getAlpha:function getAlpha(){return this.getSource()[3]},setAlpha:function setAlpha(i){var o=this.getSource();return o[3]=i,this.setSource(o),this},toGrayscale:function toGrayscale(){var i=this.getSource(),o=parseInt((.3*i[0]+.59*i[1]+.11*i[2]).toFixed(0),10),a=i[3];return this.setSource([o,o,o,a]),this},toBlackWhite:function toBlackWhite(i){var o=this.getSource(),a=(.3*o[0]+.59*o[1]+.11*o[2]).toFixed(0),v=o[3];return i=i||127,a=Number(a)<Number(i)?0:255,this.setSource([a,a,a,v]),this},overlayWith:function overlayWith(i){i instanceof Color||(i=new Color(i));var o,a=[],v=this.getAlpha(),w=this.getSource(),E=i.getSource();for(o=0;o<3;o++)a.push(Math.round(.5*w[o]+.5*E[o]));return a[3]=v,this.setSource(a),this}},o.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,o.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,o.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,o.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},o.Color.fromRgb=function(i){return Color.fromSource(Color.sourceFromRgb(i))},o.Color.sourceFromRgb=function(i){var o=i.match(Color.reRGBa);if(o){var a=parseInt(o[1],10)/(/%$/.test(o[1])?100:1)*(/%$/.test(o[1])?255:1),v=parseInt(o[2],10)/(/%$/.test(o[2])?100:1)*(/%$/.test(o[2])?255:1),w=parseInt(o[3],10)/(/%$/.test(o[3])?100:1)*(/%$/.test(o[3])?255:1);return[parseInt(a,10),parseInt(v,10),parseInt(w,10),o[4]?parseFloat(o[4]):1]}},o.Color.fromRgba=Color.fromRgb,o.Color.fromHsl=function(i){return Color.fromSource(Color.sourceFromHsl(i))},o.Color.sourceFromHsl=function(i){var o=i.match(Color.reHSLa);if(o){var a,v,w,E=(parseFloat(o[1])%360+360)%360/360,P=parseFloat(o[2])/(/%$/.test(o[2])?100:1),D=parseFloat(o[3])/(/%$/.test(o[3])?100:1);if(0===P)a=v=w=D;else{var j=D<=.5?D*(P+1):D+P-D*P,B=2*D-j;a=hue2rgb(B,j,E+1/3),v=hue2rgb(B,j,E),w=hue2rgb(B,j,E-1/3)}return[Math.round(255*a),Math.round(255*v),Math.round(255*w),o[4]?parseFloat(o[4]):1]}},o.Color.fromHsla=Color.fromHsl,o.Color.fromHex=function(i){return Color.fromSource(Color.sourceFromHex(i))},o.Color.sourceFromHex=function(i){if(i.match(Color.reHex)){var o=i.slice(i.indexOf("#")+1),a=3===o.length||4===o.length,v=8===o.length||4===o.length,w=a?o.charAt(0)+o.charAt(0):o.substring(0,2),E=a?o.charAt(1)+o.charAt(1):o.substring(2,4),P=a?o.charAt(2)+o.charAt(2):o.substring(4,6),D=v?a?o.charAt(3)+o.charAt(3):o.substring(6,8):"FF";return[parseInt(w,16),parseInt(E,16),parseInt(P,16),parseFloat((parseInt(D,16)/255).toFixed(2))]}},o.Color.fromSource=function(i){var o=new Color;return o.setSource(i),o})}(o),function(i){"use strict";var o=i.fabric||(i.fabric={}),a=["e","se","s","sw","w","nw","n","ne","e"],v=["ns","nesw","ew","nwse"],w={},E="left",P="top",D={top:"bottom",bottom:P,left:"right",right:E,center:"center"},j=o.util.radiansToDegrees,B=Math.sign||function(i){return(i>0)-(i<0)||+i};function findCornerQuadrant(i,o){var a=i.angle+j(Math.atan2(o.y,o.x))+360;return Math.round(a%360/45)}function fireEvent(i,o){var a=o.transform.target,v=a.canvas,w=Object.assign({},o,{target:a});v&&v.fire("object:"+i,w),a.fire(i,o)}function scaleIsProportional(i,o){var a=o.canvas,v=i[a.uniScaleKey];return a.uniformScaling&&!v||!a.uniformScaling&&v}function isTransformCentered(i){return"center"===i.originX&&"center"===i.originY}function scalingIsForbidden(i,o,a){var v=i.lockScalingX,w=i.lockScalingY;return!(!v||!w)||(!(o||!v&&!w||!a)||(!(!v||"x"!==o)||!(!w||"y"!==o)))}function commonEventInfo(i,o,a,v){return{e:i,transform:o,pointer:{x:a,y:v}}}function wrapWithFixedAnchor(i){return function(o,a,v,w){var E=a.target,P=E.getCenterPoint(),D=E.translateToOriginPoint(P,a.originX,a.originY),j=i(o,a,v,w);return E.setPositionByOrigin(D,a.originX,a.originY),j}}function getLocalPoint(i,a,v,w,E){var P=i.target,D=P.controls[i.corner],j=P.canvas.getZoom(),B=P.padding/j,Q=P.toLocalPoint(new o.Point(w,E),a,v);return Q.x>=B&&(Q.x-=B),Q.x<=-B&&(Q.x+=B),Q.y>=B&&(Q.y-=B),Q.y<=B&&(Q.y+=B),Q.x-=D.offsetX,Q.y-=D.offsetY,Q}function targetHasOneFlip(i){return i.flipX&&!i.flipY||!i.flipX&&i.flipY}function compensateScaleForSkew(i,o,a,v,w){if(0!==i[o]){var E=w/i._getTransformedDimensions()[v]*i[a];i.set(a,E)}}function skewObjectX(i,o,a,v){var w,D=o.target,B=D._getTransformedDimensions(0,D.skewY),Q=getLocalPoint(o,o.originX,o.originY,a,v),$=Math.abs(2*Q.x)-B.x,ee=D.skewX;$<2?w=0:(w=j(Math.atan2($/D.scaleX,B.y/D.scaleY)),o.originX===E&&"bottom"===o.originY&&(w=-w),"right"===o.originX&&o.originY===P&&(w=-w),targetHasOneFlip(D)&&(w=-w));var te=ee!==w;if(te){var ne=D._getTransformedDimensions().y;D.set("skewX",w),compensateScaleForSkew(D,"skewY","scaleY","y",ne),fireEvent("skewing",commonEventInfo(i,o,a,v))}return te}function skewObjectY(i,o,a,v){var w,D=o.target,B=D._getTransformedDimensions(D.skewX,0),Q=getLocalPoint(o,o.originX,o.originY,a,v),$=Math.abs(2*Q.y)-B.y,ee=D.skewY;$<2?w=0:(w=j(Math.atan2($/D.scaleY,B.x/D.scaleX)),o.originX===E&&"bottom"===o.originY&&(w=-w),"right"===o.originX&&o.originY===P&&(w=-w),targetHasOneFlip(D)&&(w=-w));var te=ee!==w;if(te){var ne=D._getTransformedDimensions().x;D.set("skewY",w),compensateScaleForSkew(D,"skewX","scaleX","x",ne),fireEvent("skewing",commonEventInfo(i,o,a,v))}return te}function scaleObject(i,o,a,v,w){w=w||{};var E,P,j,Q,$,ee,te=o.target,ne=te.lockScalingX,ie=te.lockScalingY,le=w.by,ue=scaleIsProportional(i,te),fe=scalingIsForbidden(te,le,ue),he=o.gestureScale;if(fe)return!1;if(he)P=o.scaleX*he,j=o.scaleY*he;else{if(E=getLocalPoint(o,o.originX,o.originY,a,v),$="y"!==le?B(E.x):1,ee="x"!==le?B(E.y):1,o.signX||(o.signX=$),o.signY||(o.signY=ee),te.lockScalingFlip&&(o.signX!==$||o.signY!==ee))return!1;if(Q=te._getTransformedDimensions(),ue&&!le){var ge,me=Math.abs(E.x)+Math.abs(E.y),ye=o.original,_e=me/(Math.abs(Q.x*ye.scaleX/te.scaleX)+Math.abs(Q.y*ye.scaleY/te.scaleY));P=ye.scaleX*_e,j=ye.scaleY*_e}else P=Math.abs(E.x*te.scaleX/Q.x),j=Math.abs(E.y*te.scaleY/Q.y);isTransformCentered(o)&&(P*=2,j*=2),o.signX!==$&&"y"!==le&&(o.originX=D[o.originX],P*=-1,o.signX=$),o.signY!==ee&&"x"!==le&&(o.originY=D[o.originY],j*=-1,o.signY=ee)}var we=te.scaleX,Se=te.scaleY;return le?("x"===le&&te.set("scaleX",P),"y"===le&&te.set("scaleY",j)):(!ne&&te.set("scaleX",P),!ie&&te.set("scaleY",j)),(ge=we!==te.scaleX||Se!==te.scaleY)&&fireEvent("scaling",commonEventInfo(i,o,a,v)),ge}w.scaleCursorStyleHandler=function scaleCursorStyleHandler(i,o,v){var w=scaleIsProportional(i,v),E="";if(0!==o.x&&0===o.y?E="x":0===o.x&&0!==o.y&&(E="y"),scalingIsForbidden(v,E,w))return"not-allowed";var P=findCornerQuadrant(v,o);return a[P]+"-resize"},w.skewCursorStyleHandler=function skewCursorStyleHandler(i,o,a){if(0!==o.x&&a.lockSkewingY)return"not-allowed";if(0!==o.y&&a.lockSkewingX)return"not-allowed";var w=findCornerQuadrant(a,o)%4;return v[w]+"-resize"},w.scaleSkewCursorStyleHandler=function scaleSkewCursorStyleHandler(i,o,a){return i[a.canvas.altActionKey]?w.skewCursorStyleHandler(i,o,a):w.scaleCursorStyleHandler(i,o,a)},w.rotationWithSnapping=wrapWithFixedAnchor((function rotationWithSnapping(i,o,a,v){var w=o,E=w.target,P=E.translateToOriginPoint(E.getCenterPoint(),w.originX,w.originY);if(E.lockRotation)return!1;var D,B=Math.atan2(w.ey-P.y,w.ex-P.x),Q=Math.atan2(v-P.y,a-P.x),$=j(Q-B+w.theta);if(E.snapAngle>0){var ee=E.snapAngle,te=E.snapThreshold||ee,ne=Math.ceil($/ee)*ee,ie=Math.floor($/ee)*ee;Math.abs($-ie)<te?$=ie:Math.abs($-ne)<te&&($=ne)}return $<0&&($=360+$),$%=360,D=E.angle!==$,E.angle=$,D&&fireEvent("rotating",commonEventInfo(i,o,a,v)),D})),w.scalingEqually=wrapWithFixedAnchor((function scaleObjectFromCorner(i,o,a,v){return scaleObject(i,o,a,v)})),w.scalingX=wrapWithFixedAnchor((function scaleObjectX(i,o,a,v){return scaleObject(i,o,a,v,{by:"x"})})),w.scalingY=wrapWithFixedAnchor((function scaleObjectY(i,o,a,v){return scaleObject(i,o,a,v,{by:"y"})})),w.scalingYOrSkewingX=function scalingYOrSkewingX(i,o,a,v){return i[o.target.canvas.altActionKey]?w.skewHandlerX(i,o,a,v):w.scalingY(i,o,a,v)},w.scalingXOrSkewingY=function scalingXOrSkewingY(i,o,a,v){return i[o.target.canvas.altActionKey]?w.skewHandlerY(i,o,a,v):w.scalingX(i,o,a,v)},w.changeWidth=wrapWithFixedAnchor((function changeWidth(i,o,a,v){var w=o.target,E=getLocalPoint(o,o.originX,o.originY,a,v),P=w.strokeWidth/(w.strokeUniform?w.scaleX:1),D=isTransformCentered(o)?2:1,j=Math.abs(E.x*D/w.scaleX)-P;return w.set("width",Math.max(j,0)),!0})),w.skewHandlerX=function skewHandlerX(i,o,a,v){var w,D=o.target,j=D.skewX,B=o.originY;return!D.lockSkewingX&&(0===j?w=getLocalPoint(o,"center","center",a,v).x>0?E:"right":(j>0&&(w=B===P?E:"right"),j<0&&(w=B===P?"right":E),targetHasOneFlip(D)&&(w=w===E?"right":E)),o.originX=w,wrapWithFixedAnchor(skewObjectX)(i,o,a,v))},w.skewHandlerY=function skewHandlerY(i,o,a,v){var w,D=o.target,j=D.skewY,B=o.originX;return!D.lockSkewingY&&(0===j?w=getLocalPoint(o,"center","center",a,v).y>0?P:"bottom":(j>0&&(w=B===E?P:"bottom"),j<0&&(w=B===E?"bottom":P),targetHasOneFlip(D)&&(w=w===P?"bottom":P)),o.originY=w,wrapWithFixedAnchor(skewObjectY)(i,o,a,v))},w.scaleOrSkewActionName=function scaleOrSkewActionName(i,o,a){var v=i[a.canvas.altActionKey];return 0===o.x?v?"skewX":"scaleY":0===o.y?v?"skewY":"scaleX":void 0},w.rotationStyleHandler=function rotationStyleHandler(i,o,a){return a.lockRotation?"not-allowed":o.cursorStyle},w.fireEvent=fireEvent,w.wrapWithFixedAnchor=wrapWithFixedAnchor,w.getLocalPoint=getLocalPoint,o.controlsUtils=w}(o),function(i){"use strict";var o=i.fabric||(i.fabric={}),a=o.util.degreesToRadians,v=o.controlsUtils;v.renderCircleControl=function renderCircleControl(i,o,a,v,w){var E=(v=v||{}).cornerSize||w.cornerSize,P="undefined"!==typeof v.transparentCorners?v.transparentCorners:this.transparentCorners,D=P?"stroke":"fill",j=!P&&(v.cornerStrokeColor||w.cornerStrokeColor);i.save(),i.fillStyle=v.cornerColor||w.cornerColor,i.strokeStyle=v.cornerStrokeColor||w.cornerStrokeColor,i.lineWidth=1,i.beginPath(),i.arc(o,a,E/2,0,2*Math.PI,!1),i[D](),j&&i.stroke(),i.restore()},v.renderSquareControl=function renderSquareControl(i,o,v,w,E){var P=(w=w||{}).cornerSize||E.cornerSize,D="undefined"!==typeof w.transparentCorners?w.transparentCorners:E.transparentCorners,j=D?"stroke":"fill",B=!D&&(w.cornerStrokeColor||E.cornerStrokeColor),Q=P/2;i.save(),i.fillStyle=w.cornerColor||E.cornerColor,i.strokeStyle=w.strokeCornerColor||E.strokeCornerColor,i.lineWidth=1,i.translate(o,v),i.rotate(a(E.angle)),i[j+"Rect"](-Q,-Q,P,P),B&&i.strokeRect(-Q,-Q,P,P),i.restore()}}(o),function(i){"use strict";var o=i.fabric||(i.fabric={});o.Control=function Control(i){for(var o in i)this[o]=i[o]},o.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,cursorStyle:"crosshair",withConnection:!1,actionHandler:function actionHandler(){},mouseDownHandler:function mouseDownHandler(){},mouseUpHandler:function mouseUpHandler(){},getActionHandler:function getActionHandler(){return this.actionHandler},getMouseDownHandler:function getMouseDownHandler(){return this.mouseDownHandler},getMouseUpHandler:function getMouseUpHandler(){return this.mouseUpHandler},cursorStyleHandler:function cursorStyleHandler(i,o){return o.cursorStyle},getActionName:function getActionName(i,o){return o.actionName},getVisibility:function getVisibility(i,o){var a=i._controlsVisibility;return a&&"undefined"!==typeof a[o]?a[o]:this.visible},setVisibility:function setVisibility(i){this.visible=i},positionHandler:function positionHandler(i,a){return o.util.transformPoint({x:this.x*i.x+this.offsetX,y:this.y*i.y+this.offsetY},a)},render:function render(i,a,v,w,E){switch((w=w||{}).cornerStyle||E.cornerStyle){case"circle":o.controlsUtils.renderCircleControl.call(this,i,a,v,w,E);break;default:o.controlsUtils.renderSquareControl.call(this,i,a,v,w,E)}}}}(o),function(){function getColorStop(i,o){var a,v,E,P,D=i.getAttribute("style"),j=i.getAttribute("offset")||0;if(j=(j=parseFloat(j)/(/%$/.test(j)?100:1))<0?0:j>1?1:j,D){var B=D.split(/\s*;\s*/);for(""===B[B.length-1]&&B.pop(),P=B.length;P--;){var Q=B[P].split(/\s*:\s*/),$=Q[0].trim(),ee=Q[1].trim();"stop-color"===$?a=ee:"stop-opacity"===$&&(E=ee)}}return a||(a=i.getAttribute("stop-color")||"rgb(0,0,0)"),E||(E=i.getAttribute("stop-opacity")),v=(a=new w.Color(a)).getAlpha(),E=isNaN(parseFloat(E))?1:parseFloat(E),E*=v*o,{offset:j,color:a.toRgb(),opacity:E}}var i=w.util.object.clone;w.Gradient=w.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function initialize(i){i||(i={}),i.coords||(i.coords={});var o,a=this;Object.keys(i).forEach((function(o){a[o]=i[o]})),this.id?this.id+="_"+w.Object.__uid++:this.id=w.Object.__uid++,o={x1:i.coords.x1||0,y1:i.coords.y1||0,x2:i.coords.x2||0,y2:i.coords.y2||0},"radial"===this.type&&(o.r1=i.coords.r1||0,o.r2=i.coords.r2||0),this.coords=o,this.colorStops=i.colorStops.slice()},addColorStop:function addColorStop(i){for(var o in i){var a=new w.Color(i[o]);this.colorStops.push({offset:parseFloat(o),color:a.toRgb(),opacity:a.getAlpha()})}return this},toObject:function toObject(i){var o={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return w.util.populateWithProperties(this,o,i),o},toSVG:function toSVG(o,a){var v,E,P,D,j=i(this.coords,!0),B=(a=a||{},i(this.colorStops,!0)),Q=j.r1>j.r2,$=this.gradientTransform?this.gradientTransform.concat():w.iMatrix.concat(),ee=-this.offsetX,te=-this.offsetY,ne=!!a.additionalTransform,ie="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(B.sort((function(i,o){return i.offset-o.offset})),"objectBoundingBox"===ie?(ee/=o.width,te/=o.height):(ee+=o.width/2,te+=o.height/2),"path"===o.type&&(ee-=o.pathOffset.x,te-=o.pathOffset.y),$[4]-=ee,$[5]-=te,D='id="SVGID_'+this.id+'" gradientUnits="'+ie+'"',D+=' gradientTransform="'+(ne?a.additionalTransform+" ":"")+w.util.matrixToSVG($)+'" ',"linear"===this.type?P=["<linearGradient ",D,' x1="',j.x1,'" y1="',j.y1,'" x2="',j.x2,'" y2="',j.y2,'">\n']:"radial"===this.type&&(P=["<radialGradient ",D,' cx="',Q?j.x1:j.x2,'" cy="',Q?j.y1:j.y2,'" r="',Q?j.r1:j.r2,'" fx="',Q?j.x2:j.x1,'" fy="',Q?j.y2:j.y1,'">\n']),"radial"===this.type){if(Q)for((B=B.concat()).reverse(),v=0,E=B.length;v<E;v++)B[v].offset=1-B[v].offset;var le=Math.min(j.r1,j.r2);if(le>0){var ue=le/Math.max(j.r1,j.r2);for(v=0,E=B.length;v<E;v++)B[v].offset+=ue*(1-B[v].offset)}}for(v=0,E=B.length;v<E;v++){var fe=B[v];P.push("<stop ",'offset="',100*fe.offset+"%",'" style="stop-color:',fe.color,"undefined"!==typeof fe.opacity?";stop-opacity: "+fe.opacity:";",'"/>\n')}return P.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),P.join("")},toLive:function toLive(i){var o,a,v,E=w.util.object.clone(this.coords);if(this.type){for("linear"===this.type?o=i.createLinearGradient(E.x1,E.y1,E.x2,E.y2):"radial"===this.type&&(o=i.createRadialGradient(E.x1,E.y1,E.r1,E.x2,E.y2,E.r2)),a=0,v=this.colorStops.length;a<v;a++){var P=this.colorStops[a].color,D=this.colorStops[a].opacity,j=this.colorStops[a].offset;"undefined"!==typeof D&&(P=new w.Color(P).setAlpha(D).toRgba()),o.addColorStop(j,P)}return o}}}),w.util.object.extend(w.Gradient,{fromElement:function fromElement(i,o,a,v){var E=parseFloat(a)/(/%$/.test(a)?100:1);E=E<0?0:E>1?1:E,isNaN(E)&&(E=1);var P,D,j,B,Q=i.getElementsByTagName("stop"),$="userSpaceOnUse"===i.getAttribute("gradientUnits")?"pixels":"percentage",ee=i.getAttribute("gradientTransform")||"",te=[],ne=0,ie=0;for("linearGradient"===i.nodeName||"LINEARGRADIENT"===i.nodeName?(P="linear",D=function getLinearCoords(i){return{x1:i.getAttribute("x1")||0,y1:i.getAttribute("y1")||0,x2:i.getAttribute("x2")||"100%",y2:i.getAttribute("y2")||0}}(i)):(P="radial",D=function getRadialCoords(i){return{x1:i.getAttribute("fx")||i.getAttribute("cx")||"50%",y1:i.getAttribute("fy")||i.getAttribute("cy")||"50%",r1:0,x2:i.getAttribute("cx")||"50%",y2:i.getAttribute("cy")||"50%",r2:i.getAttribute("r")||"50%"}}(i)),j=Q.length;j--;)te.push(getColorStop(Q[j],E));return B=w.parseTransformAttribute(ee),function __convertPercentUnitsToValues(i,o,a,v){var w,E;Object.keys(o).forEach((function(i){"Infinity"===(w=o[i])?E=1:"-Infinity"===w?E=0:(E=parseFloat(o[i],10),"string"===typeof w&&/^(\d+\.\d+)%|(\d+)%$/.test(w)&&(E*=.01,"pixels"===v&&("x1"!==i&&"x2"!==i&&"r2"!==i||(E*=a.viewBoxWidth||a.width),"y1"!==i&&"y2"!==i||(E*=a.viewBoxHeight||a.height)))),o[i]=E}))}(0,D,v,$),"pixels"===$&&(ne=-o.left,ie=-o.top),new w.Gradient({id:i.getAttribute("id"),type:P,coords:D,colorStops:te,gradientUnits:$,gradientTransform:B,offsetX:ne,offsetY:ie})}})}(),function(){"use strict";var i=w.util.toFixed;w.Pattern=w.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function initialize(i,o){if(i||(i={}),this.id=w.Object.__uid++,this.setOptions(i),!i.source||i.source&&"string"!==typeof i.source)o&&o(this);else{var a=this;this.source=w.util.createImage(),w.util.loadImage(i.source,(function(i,v){a.source=i,o&&o(a,v)}),null,this.crossOrigin)}},toObject:function toObject(o){var a,v,E=w.Object.NUM_FRACTION_DIGITS;return"string"===typeof this.source.src?a=this.source.src:"object"===typeof this.source&&this.source.toDataURL&&(a=this.source.toDataURL()),v={type:"pattern",source:a,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:i(this.offsetX,E),offsetY:i(this.offsetY,E),patternTransform:this.patternTransform?this.patternTransform.concat():null},w.util.populateWithProperties(this,v,o),v},toSVG:function toSVG(i){var o="function"===typeof this.source?this.source():this.source,a=o.width/i.width,v=o.height/i.height,w=this.offsetX/i.width,E=this.offsetY/i.height,P="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(v=1,E&&(v+=Math.abs(E))),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(a=1,w&&(a+=Math.abs(w))),o.src?P=o.src:o.toDataURL&&(P=o.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+w+'" y="'+E+'" width="'+a+'" height="'+v+'">\n<image x="0" y="0" width="'+o.width+'" height="'+o.height+'" xlink:href="'+P+'"></image>\n</pattern>\n'},setOptions:function setOptions(i){for(var o in i)this[o]=i[o]},toLive:function toLive(i){var o=this.source;if(!o)return"";if("undefined"!==typeof o.src){if(!o.complete)return"";if(0===o.naturalWidth||0===o.naturalHeight)return""}return i.createPattern(o,this.repeat)}})}(),function(i){"use strict";var o=i.fabric||(i.fabric={}),a=o.util.toFixed;o.Shadow?o.warn("fabric.Shadow is already defined."):(o.Shadow=o.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function initialize(i){for(var a in"string"===typeof i&&(i=this._parseShadow(i)),i)this[a]=i[a];this.id=o.Object.__uid++},_parseShadow:function _parseShadow(i){var a=i.trim(),v=o.Shadow.reOffsetsAndBlur.exec(a)||[];return{color:(a.replace(o.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseInt(v[1],10)||0,offsetY:parseInt(v[2],10)||0,blur:parseInt(v[3],10)||0}},toString:function toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function toSVG(i){var v=40,w=40,E=o.Object.NUM_FRACTION_DIGITS,P=o.util.rotateVector({x:this.offsetX,y:this.offsetY},o.util.degreesToRadians(-i.angle)),D=new o.Color(this.color);return i.width&&i.height&&(v=100*a((Math.abs(P.x)+this.blur)/i.width,E)+20,w=100*a((Math.abs(P.y)+this.blur)/i.height,E)+20),i.flipX&&(P.x*=-1),i.flipY&&(P.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+w+'%" height="'+(100+2*w)+'%" x="-'+v+'%" width="'+(100+2*v)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+a(this.blur?this.blur/2:0,E)+'"></feGaussianBlur>\n\t<feOffset dx="'+a(P.x,E)+'" dy="'+a(P.y,E)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+D.toRgb()+'" flood-opacity="'+D.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function toObject(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var i={},a=o.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach((function(o){this[o]!==a[o]&&(i[o]=this[o])}),this),i}}),o.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/)}(o),function(){"use strict";if(w.StaticCanvas)w.warn("fabric.StaticCanvas is already defined.");else{var i=w.util.object.extend,o=w.util.getElementOffset,a=w.util.removeFromArray,v=w.util.toFixed,E=w.util.transformPoint,P=w.util.invertTransform,D=w.util.getNodeCanvas,j=w.util.createCanvasElement,B=new Error("Could not initialize `canvas` element");w.StaticCanvas=w.util.createClass(w.CommonMethods,{initialize:function initialize(i,o){o||(o={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(i,o)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:w.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function _initStatic(i,o){var a=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(i),this._initOptions(o),this.interactive||this._initRetinaScaling(),o.overlayImage&&this.setOverlayImage(o.overlayImage,a),o.backgroundImage&&this.setBackgroundImage(o.backgroundImage,a),o.backgroundColor&&this.setBackgroundColor(o.backgroundColor,a),o.overlayColor&&this.setOverlayColor(o.overlayColor,a),this.calcOffset()},_isRetinaScaling:function _isRetinaScaling(){return 1!==w.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function getRetinaScaling(){return this._isRetinaScaling()?w.devicePixelRatio:1},_initRetinaScaling:function _initRetinaScaling(){if(this._isRetinaScaling()){var i=w.devicePixelRatio;this.__initRetinaScaling(i,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(i,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function __initRetinaScaling(i,o,a){o.setAttribute("width",this.width*i),o.setAttribute("height",this.height*i),a.scale(i,i)},calcOffset:function calcOffset(){return this._offset=o(this.lowerCanvasEl),this},setOverlayImage:function setOverlayImage(i,o,a){return this.__setBgOverlayImage("overlayImage",i,o,a)},setBackgroundImage:function setBackgroundImage(i,o,a){return this.__setBgOverlayImage("backgroundImage",i,o,a)},setOverlayColor:function setOverlayColor(i,o){return this.__setBgOverlayColor("overlayColor",i,o)},setBackgroundColor:function setBackgroundColor(i,o){return this.__setBgOverlayColor("backgroundColor",i,o)},__setBgOverlayImage:function __setBgOverlayImage(i,o,a,v){return"string"===typeof o?w.util.loadImage(o,(function(o,E){if(o){var P=new w.Image(o,v);this[i]=P,P.canvas=this}a&&a(o,E)}),this,v&&v.crossOrigin):(v&&o.setOptions(v),this[i]=o,o&&(o.canvas=this),a&&a(o,!1)),this},__setBgOverlayColor:function __setBgOverlayColor(i,o,a){return this[i]=o,this._initGradient(o,i),this._initPattern(o,i,a),this},_createCanvasElement:function _createCanvasElement(){var i=j();if(!i)throw B;if(i.style||(i.style={}),"undefined"===typeof i.getContext)throw B;return i},_initOptions:function _initOptions(i){var o=this.lowerCanvasEl;this._setOptions(i),this.width=this.width||parseInt(o.width,10)||0,this.height=this.height||parseInt(o.height,10)||0,this.lowerCanvasEl.style&&(o.width=this.width,o.height=this.height,o.style.width=this.width+"px",o.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function _createLowerCanvas(i){i&&i.getContext?this.lowerCanvasEl=i:this.lowerCanvasEl=w.util.getById(i)||this._createCanvasElement(),w.util.addClass(this.lowerCanvasEl,"lower-canvas"),this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function getWidth(){return this.width},getHeight:function getHeight(){return this.height},setWidth:function setWidth(i,o){return this.setDimensions({width:i},o)},setHeight:function setHeight(i,o){return this.setDimensions({height:i},o)},setDimensions:function setDimensions(i,o){var a;for(var v in o=o||{},i)a=i[v],o.cssOnly||(this._setBackstoreDimension(v,i[v]),a+="px",this.hasLostContext=!0),o.backstoreOnly||this._setCssDimension(v,a);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this.calcOffset(),o.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function _setBackstoreDimension(i,o){return this.lowerCanvasEl[i]=o,this.upperCanvasEl&&(this.upperCanvasEl[i]=o),this.cacheCanvasEl&&(this.cacheCanvasEl[i]=o),this[i]=o,this},_setCssDimension:function _setCssDimension(i,o){return this.lowerCanvasEl.style[i]=o,this.upperCanvasEl&&(this.upperCanvasEl.style[i]=o),this.wrapperEl&&(this.wrapperEl.style[i]=o),this},getZoom:function getZoom(){return this.viewportTransform[0]},setViewportTransform:function setViewportTransform(i){var o,a,v,w=this._activeObject;for(this.viewportTransform=i,a=0,v=this._objects.length;a<v;a++)(o=this._objects[a]).group||o.setCoords(!0);return w&&w.setCoords(),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function zoomToPoint(i,o){var a=i,v=this.viewportTransform.slice(0);i=E(i,P(this.viewportTransform)),v[0]=o,v[3]=o;var w=E(i,v);return v[4]+=a.x-w.x,v[5]+=a.y-w.y,this.setViewportTransform(v)},setZoom:function setZoom(i){return this.zoomToPoint(new w.Point(0,0),i),this},absolutePan:function absolutePan(i){var o=this.viewportTransform.slice(0);return o[4]=-i.x,o[5]=-i.y,this.setViewportTransform(o)},relativePan:function relativePan(i){return this.absolutePan(new w.Point(-i.x-this.viewportTransform[4],-i.y-this.viewportTransform[5]))},getElement:function getElement(){return this.lowerCanvasEl},_onObjectAdded:function _onObjectAdded(i){this.stateful&&i.setupState(),i._set("canvas",this),i.setCoords(),this.fire("object:added",{target:i}),i.fire("added")},_onObjectRemoved:function _onObjectRemoved(i){this.fire("object:removed",{target:i}),i.fire("removed"),delete i.canvas},clearContext:function clearContext(i){return i.clearRect(0,0,this.width,this.height),this},getContext:function getContext(){return this.contextContainer},clear:function clear(){return this._objects.length=0,this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function renderAll(){var i=this.contextContainer;return this.renderCanvas(i,this._objects),this},renderAndReset:function renderAndReset(){this.isRendering=0,this.renderAll()},requestRenderAll:function requestRenderAll(){return this.isRendering||(this.isRendering=w.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function calcViewportBoundaries(){var i={},o=this.width,a=this.height,v=P(this.viewportTransform);return i.tl=E({x:0,y:0},v),i.br=E({x:o,y:a},v),i.tr=new w.Point(i.br.x,i.tl.y),i.bl=new w.Point(i.tl.x,i.br.y),this.vptCoords=i,i},cancelRequestedRender:function cancelRequestedRender(){this.isRendering&&(w.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function renderCanvas(i,o){var a=this.viewportTransform,v=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(i),w.util.setImageSmoothing(i,this.imageSmoothingEnabled),this.fire("before:render",{ctx:i}),this._renderBackground(i),i.save(),i.transform(a[0],a[1],a[2],a[3],a[4],a[5]),this._renderObjects(i,o),i.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(i),v&&(v.canvas=this,v.shouldCache(),v._transformDone=!0,v.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(i)),this._renderOverlay(i),this.controlsAboveOverlay&&this.interactive&&this.drawControls(i),this.fire("after:render",{ctx:i})},drawClipPathOnCanvas:function drawClipPathOnCanvas(i){var o=this.viewportTransform,a=this.clipPath;i.save(),i.transform(o[0],o[1],o[2],o[3],o[4],o[5]),i.globalCompositeOperation="destination-in",a.transform(i),i.scale(1/a.zoomX,1/a.zoomY),i.drawImage(a._cacheCanvas,-a.cacheTranslationX,-a.cacheTranslationY),i.restore()},_renderObjects:function _renderObjects(i,o){var a,v;for(a=0,v=o.length;a<v;++a)o[a]&&o[a].render(i)},_renderBackgroundOrOverlay:function _renderBackgroundOrOverlay(i,o){var a=this[o+"Color"],v=this[o+"Image"],w=this.viewportTransform,E=this[o+"Vpt"];if(a||v){if(a){i.save(),i.beginPath(),i.moveTo(0,0),i.lineTo(this.width,0),i.lineTo(this.width,this.height),i.lineTo(0,this.height),i.closePath(),i.fillStyle=a.toLive?a.toLive(i,this):a,E&&i.transform(w[0],w[1],w[2],w[3],w[4],w[5]),i.transform(1,0,0,1,a.offsetX||0,a.offsetY||0);var P=a.gradientTransform||a.patternTransform;P&&i.transform(P[0],P[1],P[2],P[3],P[4],P[5]),i.fill(),i.restore()}v&&(i.save(),E&&i.transform(w[0],w[1],w[2],w[3],w[4],w[5]),v.render(i),i.restore())}},_renderBackground:function _renderBackground(i){this._renderBackgroundOrOverlay(i,"background")},_renderOverlay:function _renderOverlay(i){this._renderBackgroundOrOverlay(i,"overlay")},getCenter:function getCenter(){return{top:this.height/2,left:this.width/2}},centerObjectH:function centerObjectH(i){return this._centerObject(i,new w.Point(this.getCenter().left,i.getCenterPoint().y))},centerObjectV:function centerObjectV(i){return this._centerObject(i,new w.Point(i.getCenterPoint().x,this.getCenter().top))},centerObject:function centerObject(i){var o=this.getCenter();return this._centerObject(i,new w.Point(o.left,o.top))},viewportCenterObject:function viewportCenterObject(i){var o=this.getVpCenter();return this._centerObject(i,o)},viewportCenterObjectH:function viewportCenterObjectH(i){var o=this.getVpCenter();return this._centerObject(i,new w.Point(o.x,i.getCenterPoint().y)),this},viewportCenterObjectV:function viewportCenterObjectV(i){var o=this.getVpCenter();return this._centerObject(i,new w.Point(i.getCenterPoint().x,o.y))},getVpCenter:function getVpCenter(){var i=this.getCenter(),o=P(this.viewportTransform);return E({x:i.left,y:i.top},o)},_centerObject:function _centerObject(i,o){return i.setPositionByOrigin(o,"center","center"),i.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function toDatalessJSON(i){return this.toDatalessObject(i)},toObject:function toObject(i){return this._toObjectMethod("toObject",i)},toDatalessObject:function toDatalessObject(i){return this._toObjectMethod("toDatalessObject",i)},_toObjectMethod:function _toObjectMethod(o,a){var v=this.clipPath,E={version:w.version,objects:this._toObjects(o,a)};return v&&(E.clipPath=this._toObject(this.clipPath,o,a)),i(E,this.__serializeBgOverlay(o,a)),w.util.populateWithProperties(this,E,a),E},_toObjects:function _toObjects(i,o){return this._objects.filter((function(i){return!i.excludeFromExport})).map((function(a){return this._toObject(a,i,o)}),this)},_toObject:function _toObject(i,o,a){var v;this.includeDefaultValues||(v=i.includeDefaultValues,i.includeDefaultValues=!1);var w=i[o](a);return this.includeDefaultValues||(i.includeDefaultValues=v),w},__serializeBgOverlay:function __serializeBgOverlay(i,o){var a={},v=this.backgroundImage,w=this.overlayImage;return this.backgroundColor&&(a.background=this.backgroundColor.toObject?this.backgroundColor.toObject(o):this.backgroundColor),this.overlayColor&&(a.overlay=this.overlayColor.toObject?this.overlayColor.toObject(o):this.overlayColor),v&&!v.excludeFromExport&&(a.backgroundImage=this._toObject(v,i,o)),w&&!w.excludeFromExport&&(a.overlayImage=this._toObject(w,i,o)),a},svgViewportTransformation:!0,toSVG:function toSVG(i,o){i||(i={}),i.reviver=o;var a=[];return this._setSVGPreamble(a,i),this._setSVGHeader(a,i),this.clipPath&&a.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(a,"background"),this._setSVGBgOverlayImage(a,"backgroundImage",o),this._setSVGObjects(a,o),this.clipPath&&a.push("</g>\n"),this._setSVGBgOverlayColor(a,"overlay"),this._setSVGBgOverlayImage(a,"overlayImage",o),a.push("</svg>"),a.join("")},_setSVGPreamble:function _setSVGPreamble(i,o){o.suppressPreamble||i.push('<?xml version="1.0" encoding="',o.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function _setSVGHeader(i,o){var a,E=o.width||this.width,P=o.height||this.height,D='viewBox="0 0 '+this.width+" "+this.height+'" ',j=w.Object.NUM_FRACTION_DIGITS;o.viewBox?D='viewBox="'+o.viewBox.x+" "+o.viewBox.y+" "+o.viewBox.width+" "+o.viewBox.height+'" ':this.svgViewportTransformation&&(a=this.viewportTransform,D='viewBox="'+v(-a[4]/a[0],j)+" "+v(-a[5]/a[3],j)+" "+v(this.width/a[0],j)+" "+v(this.height/a[3],j)+'" '),i.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',E,'" ','height="',P,'" ',D,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",w.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(o),"</defs>\n")},createSVGClipPathMarkup:function createSVGClipPathMarkup(i){var o=this.clipPath;return o?(o.clipPathId="CLIPPATH_"+w.Object.__uid++,'<clipPath id="'+o.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(i.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function createSVGRefElementsMarkup(){var i=this;return["background","overlay"].map((function(o){var a=i[o+"Color"];if(a&&a.toLive){var v=i[o+"Vpt"],E=i.viewportTransform,P={width:i.width/(v?E[0]:1),height:i.height/(v?E[3]:1)};return a.toSVG(P,{additionalTransform:v?w.util.matrixToSVG(E):""})}})).join("")},createSVGFontFacesMarkup:function createSVGFontFacesMarkup(){var i,o,a,v,E,P,D,j,B="",Q={},$=w.fontPaths,ee=[];for(this._objects.forEach((function add(i){ee.push(i),i._objects&&i._objects.forEach(add)})),D=0,j=ee.length;D<j;D++)if(o=(i=ee[D]).fontFamily,-1!==i.type.indexOf("text")&&!Q[o]&&$[o]&&(Q[o]=!0,i.styles))for(E in a=i.styles)for(P in v=a[E])!Q[o=v[P].fontFamily]&&$[o]&&(Q[o]=!0);for(var te in Q)B+=["\t\t@font-face {\n","\t\t\tfont-family: '",te,"';\n","\t\t\tsrc: url('",$[te],"');\n","\t\t}\n"].join("");return B&&(B=['\t<style type="text/css">',"<![CDATA[\n",B,"]]>","</style>\n"].join("")),B},_setSVGObjects:function _setSVGObjects(i,o){var a,v,w,E=this._objects;for(v=0,w=E.length;v<w;v++)(a=E[v]).excludeFromExport||this._setSVGObject(i,a,o)},_setSVGObject:function _setSVGObject(i,o,a){i.push(o.toSVG(a))},_setSVGBgOverlayImage:function _setSVGBgOverlayImage(i,o,a){this[o]&&!this[o].excludeFromExport&&this[o].toSVG&&i.push(this[o].toSVG(a))},_setSVGBgOverlayColor:function _setSVGBgOverlayColor(i,o){var a=this[o+"Color"],v=this.viewportTransform,E=this.width,P=this.height;if(a)if(a.toLive){var D=a.repeat,j=w.util.invertTransform(v),B=this[o+"Vpt"]?w.util.matrixToSVG(j):"";i.push('<rect transform="'+B+" translate(",E/2,",",P/2,')"',' x="',a.offsetX-E/2,'" y="',a.offsetY-P/2,'" ','width="',"repeat-y"===D||"no-repeat"===D?a.source.width:E,'" height="',"repeat-x"===D||"no-repeat"===D?a.source.height:P,'" fill="url(#SVGID_'+a.id+')"',"></rect>\n")}else i.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',a,'"',"></rect>\n")},sendToBack:function sendToBack(i){if(!i)return this;var o,v,w,E=this._activeObject;if(i===E&&"activeSelection"===i.type)for(o=(w=E._objects).length;o--;)v=w[o],a(this._objects,v),this._objects.unshift(v);else a(this._objects,i),this._objects.unshift(i);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function bringToFront(i){if(!i)return this;var o,v,w,E=this._activeObject;if(i===E&&"activeSelection"===i.type)for(w=E._objects,o=0;o<w.length;o++)v=w[o],a(this._objects,v),this._objects.push(v);else a(this._objects,i),this._objects.push(i);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function sendBackwards(i,o){if(!i)return this;var v,w,E,P,D,j=this._activeObject,B=0;if(i===j&&"activeSelection"===i.type)for(D=j._objects,v=0;v<D.length;v++)w=D[v],(E=this._objects.indexOf(w))>0+B&&(P=E-1,a(this._objects,w),this._objects.splice(P,0,w)),B++;else 0!==(E=this._objects.indexOf(i))&&(P=this._findNewLowerIndex(i,E,o),a(this._objects,i),this._objects.splice(P,0,i));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function _findNewLowerIndex(i,o,a){var v,w;if(a)for(v=o,w=o-1;w>=0;--w){if(i.intersectsWithObject(this._objects[w])||i.isContainedWithinObject(this._objects[w])||this._objects[w].isContainedWithinObject(i)){v=w;break}}else v=o-1;return v},bringForward:function bringForward(i,o){if(!i)return this;var v,w,E,P,D,j=this._activeObject,B=0;if(i===j&&"activeSelection"===i.type)for(v=(D=j._objects).length;v--;)w=D[v],(E=this._objects.indexOf(w))<this._objects.length-1-B&&(P=E+1,a(this._objects,w),this._objects.splice(P,0,w)),B++;else(E=this._objects.indexOf(i))!==this._objects.length-1&&(P=this._findNewUpperIndex(i,E,o),a(this._objects,i),this._objects.splice(P,0,i));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function _findNewUpperIndex(i,o,a){var v,w,E;if(a)for(v=o,w=o+1,E=this._objects.length;w<E;++w){if(i.intersectsWithObject(this._objects[w])||i.isContainedWithinObject(this._objects[w])||this._objects[w].isContainedWithinObject(i)){v=w;break}}else v=o+1;return v},moveTo:function moveTo(i,o){return a(this._objects,i),this._objects.splice(o,0,i),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function dispose(){return this.isRendering&&(w.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject((function(i){i.dispose&&i.dispose()})),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,w.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function toString(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),i(w.StaticCanvas.prototype,w.Observable),i(w.StaticCanvas.prototype,w.Collection),i(w.StaticCanvas.prototype,w.DataURLExporter),i(w.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function supports(i){var o=j();if(!o||!o.getContext)return null;var a=o.getContext("2d");if(!a)return null;switch(i){case"setLineDash":return"undefined"!==typeof a.setLineDash;default:return null}}}),w.StaticCanvas.prototype.toJSON=w.StaticCanvas.prototype.toObject,w.isLikelyNode&&(w.StaticCanvas.prototype.createPNGStream=function(){var i=D(this.lowerCanvasEl);return i&&i.createPNGStream()},w.StaticCanvas.prototype.createJPEGStream=function(i){var o=D(this.lowerCanvasEl);return o&&o.createJPEGStream(i)})}}(),w.BaseBrush=w.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,_setBrushStyles:function _setBrushStyles(){var i=this.canvas.contextTop;i.strokeStyle=this.color,i.lineWidth=this.width,i.lineCap=this.strokeLineCap,i.miterLimit=this.strokeMiterLimit,i.lineJoin=this.strokeLineJoin,w.StaticCanvas.supports("setLineDash")&&i.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function _saveAndTransform(i){var o=this.canvas.viewportTransform;i.save(),i.transform(o[0],o[1],o[2],o[3],o[4],o[5])},_setShadow:function _setShadow(){if(this.shadow){var i=this.canvas,o=this.shadow,a=i.contextTop,v=i.getZoom();i&&i._isRetinaScaling()&&(v*=w.devicePixelRatio),a.shadowColor=o.color,a.shadowBlur=o.blur*v,a.shadowOffsetX=o.offsetX*v,a.shadowOffsetY=o.offsetY*v}},needsFullRender:function needsFullRender(){return new w.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function _resetShadow(){var i=this.canvas.contextTop;i.shadowColor="",i.shadowBlur=i.shadowOffsetX=i.shadowOffsetY=0}}),w.PencilBrush=w.util.createClass(w.BaseBrush,{decimate:.4,initialize:function initialize(i){this.canvas=i,this._points=[]},_drawSegment:function _drawSegment(i,o,a){var v=o.midPointFrom(a);return i.quadraticCurveTo(o.x,o.y,v.x,v.y),v},onMouseDown:function onMouseDown(i,o){this.canvas._isMainEvent(o.e)&&(this._prepareForDrawing(i),this._captureDrawingPath(i),this._render())},onMouseMove:function onMouseMove(i,o){if(this.canvas._isMainEvent(o.e)&&this._captureDrawingPath(i)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var a=this._points,v=a.length,w=this.canvas.contextTop;this._saveAndTransform(w),this.oldEnd&&(w.beginPath(),w.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(w,a[v-2],a[v-1],!0),w.stroke(),w.restore()}},onMouseUp:function onMouseUp(i){return!this.canvas._isMainEvent(i.e)||(this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function _prepareForDrawing(i){var o=new w.Point(i.x,i.y);this._reset(),this._addPoint(o),this.canvas.contextTop.moveTo(o.x,o.y)},_addPoint:function _addPoint(i){return!(this._points.length>1&&i.eq(this._points[this._points.length-1]))&&(this._points.push(i),!0)},_reset:function _reset(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function _captureDrawingPath(i){var o=new w.Point(i.x,i.y);return this._addPoint(o)},_render:function _render(){var i,o,a=this.canvas.contextTop,v=this._points[0],E=this._points[1];if(this._saveAndTransform(a),a.beginPath(),2===this._points.length&&v.x===E.x&&v.y===E.y){var P=this.width/1e3;v=new w.Point(v.x,v.y),E=new w.Point(E.x,E.y),v.x-=P,E.x+=P}for(a.moveTo(v.x,v.y),i=1,o=this._points.length;i<o;i++)this._drawSegment(a,v,E),v=this._points[i],E=this._points[i+1];a.lineTo(v.x,v.y),a.stroke(),a.restore()},convertPointsToSVGPath:function convertPointsToSVGPath(i){var o,a=[],v=this.width/1e3,E=new w.Point(i[0].x,i[0].y),P=new w.Point(i[1].x,i[1].y),D=i.length,j=1,B=0,Q=D>2;for(Q&&(j=i[2].x<P.x?-1:i[2].x===P.x?0:1,B=i[2].y<P.y?-1:i[2].y===P.y?0:1),a.push("M ",E.x-j*v," ",E.y-B*v," "),o=1;o<D;o++){if(!E.eq(P)){var $=E.midPointFrom(P);a.push("Q ",E.x," ",E.y," ",$.x," ",$.y," ")}E=i[o],o+1<i.length&&(P=i[o+1])}return Q&&(j=E.x>i[o-2].x?1:E.x===i[o-2].x?0:-1,B=E.y>i[o-2].y?1:E.y===i[o-2].y?0:-1),a.push("L ",E.x+j*v," ",E.y+B*v),a},createPath:function createPath(i){var o=new w.Path(i,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,o.shadow=new w.Shadow(this.shadow)),o},decimatePoints:function decimatePoints(i,o){if(i.length<=2)return i;var a,v=this.canvas.getZoom(),E=Math.pow(o/v,2),P=i.length-1,D=i[0],j=[D];for(a=1;a<P;a++)Math.pow(D.x-i[a].x,2)+Math.pow(D.y-i[a].y,2)>=E&&(D=i[a],j.push(D));return 1===j.length&&j.push(new w.Point(j[0].x,j[0].y)),j},_finalizeAndAddPath:function _finalizeAndAddPath(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var i=this.convertPointsToSVGPath(this._points).join("");if("M 0 0 Q 0 0 0 0 L 0 0"!==i){var o=this.createPath(i);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:o}),this.canvas.add(o),this.canvas.requestRenderAll(),o.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:o})}else this.canvas.requestRenderAll()}}),w.CircleBrush=w.util.createClass(w.BaseBrush,{width:10,initialize:function initialize(i){this.canvas=i,this.points=[]},drawDot:function drawDot(i){var o=this.addPoint(i),a=this.canvas.contextTop;this._saveAndTransform(a),this.dot(a,o),a.restore()},dot:function dot(i,o){i.fillStyle=o.fill,i.beginPath(),i.arc(o.x,o.y,o.radius,0,2*Math.PI,!1),i.closePath(),i.fill()},onMouseDown:function onMouseDown(i){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(i)},_render:function _render(){var i,o,a=this.canvas.contextTop,v=this.points;for(this._saveAndTransform(a),i=0,o=v.length;i<o;i++)this.dot(a,v[i]);a.restore()},onMouseMove:function onMouseMove(i){this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(i),this._render()):this.drawDot(i)},onMouseUp:function onMouseUp(){var i,o,a=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var v=[];for(i=0,o=this.points.length;i<o;i++){var E=this.points[i],P=new w.Circle({radius:E.radius,left:E.x,top:E.y,originX:"center",originY:"center",fill:E.fill});this.shadow&&(P.shadow=new w.Shadow(this.shadow)),v.push(P)}var D=new w.Group(v);D.canvas=this.canvas,this.canvas.fire("before:path:created",{path:D}),this.canvas.add(D),this.canvas.fire("path:created",{path:D}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=a,this.canvas.requestRenderAll()},addPoint:function addPoint(i){var o=new w.Point(i.x,i.y),a=w.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,v=new w.Color(this.color).setAlpha(w.util.getRandomInt(0,100)/100).toRgba();return o.radius=a,o.fill=v,this.points.push(o),o}}),w.SprayBrush=w.util.createClass(w.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function initialize(i){this.canvas=i,this.sprayChunks=[]},onMouseDown:function onMouseDown(i){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(i),this.render(this.sprayChunkPoints)},onMouseMove:function onMouseMove(i){this.addSprayChunk(i),this.render(this.sprayChunkPoints)},onMouseUp:function onMouseUp(){var i=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var o=[],a=0,v=this.sprayChunks.length;a<v;a++)for(var E=this.sprayChunks[a],P=0,D=E.length;P<D;P++){var j=new w.Rect({width:E[P].width,height:E[P].width,left:E[P].x+1,top:E[P].y+1,originX:"center",originY:"center",fill:this.color});o.push(j)}this.optimizeOverlapping&&(o=this._getOptimizedRects(o));var B=new w.Group(o);this.shadow&&B.set("shadow",new w.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:B}),this.canvas.add(B),this.canvas.fire("path:created",{path:B}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=i,this.canvas.requestRenderAll()},_getOptimizedRects:function _getOptimizedRects(i){var o,a,v,w={};for(a=0,v=i.length;a<v;a++)w[o=i[a].left+""+i[a].top]||(w[o]=i[a]);var E=[];for(o in w)E.push(w[o]);return E},render:function render(i){var o,a,v=this.canvas.contextTop;for(v.fillStyle=this.color,this._saveAndTransform(v),o=0,a=i.length;o<a;o++){var w=i[o];"undefined"!==typeof w.opacity&&(v.globalAlpha=w.opacity),v.fillRect(w.x,w.y,w.width,w.width)}v.restore()},_render:function _render(){var i,o,a=this.canvas.contextTop;for(a.fillStyle=this.color,this._saveAndTransform(a),i=0,o=this.sprayChunks.length;i<o;i++)this.render(this.sprayChunks[i]);a.restore()},addSprayChunk:function addSprayChunk(i){this.sprayChunkPoints=[];var o,a,v,E,P=this.width/2;for(E=0;E<this.density;E++){o=w.util.getRandomInt(i.x-P,i.x+P),a=w.util.getRandomInt(i.y-P,i.y+P),v=this.dotWidthVariance?w.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var D=new w.Point(o,a);D.width=v,this.randomOpacity&&(D.opacity=w.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(D)}this.sprayChunks.push(this.sprayChunkPoints)}}),w.PatternBrush=w.util.createClass(w.PencilBrush,{getPatternSrc:function getPatternSrc(){var i=w.util.createCanvasElement(),o=i.getContext("2d");return i.width=i.height=25,o.fillStyle=this.color,o.beginPath(),o.arc(10,10,10,0,2*Math.PI,!1),o.closePath(),o.fill(),i},getPatternSrcFunction:function getPatternSrcFunction(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function getPattern(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function _setBrushStyles(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function createPath(i){var o=this.callSuper("createPath",i),a=o._getLeftTopCoords().scalarAdd(o.strokeWidth/2);return o.stroke=new w.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-a.x,offsetY:-a.y}),o}}),function(){var i=w.util.getPointer,o=w.util.degreesToRadians,a=Math.abs,v=w.StaticCanvas.supports("setLineDash"),E=w.util.isTouchEvent;for(var P in w.Canvas=w.util.createClass(w.StaticCanvas,{initialize:function initialize(i,o){o||(o={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(i,o),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function _initInteractive(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=w.PencilBrush&&new w.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function _chooseObjectsToRender(){var i,o,a,v=this.getActiveObjects();if(v.length>0&&!this.preserveObjectStacking){o=[],a=[];for(var w=0,E=this._objects.length;w<E;w++)i=this._objects[w],-1===v.indexOf(i)?o.push(i):a.push(i);v.length>1&&(this._activeObject._objects=a),o.push.apply(o,a)}else o=this._objects;return o},renderAll:function renderAll(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop);var i=this.contextContainer;return this.renderCanvas(i,this._chooseObjectsToRender()),this},renderTopLayer:function renderTopLayer(i){i.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(i),this.contextTopDirty=!0),i.restore()},renderTop:function renderTop(){var i=this.contextTop;return this.clearContext(i),this.renderTopLayer(i),this.fire("after:render"),this},_normalizePointer:function _normalizePointer(i,o){var a=i.calcTransformMatrix(),v=w.util.invertTransform(a),E=this.restorePointerVpt(o);return w.util.transformPoint(E,v)},isTargetTransparent:function isTargetTransparent(i,o,a){if(i.shouldCache()&&i._cacheCanvas&&i!==this._activeObject){var v=this._normalizePointer(i,{x:o,y:a}),E=Math.max(i.cacheTranslationX+v.x*i.zoomX,0),P=Math.max(i.cacheTranslationY+v.y*i.zoomY,0);return w.util.isTransparent(i._cacheContext,Math.round(E),Math.round(P),this.targetFindTolerance)}var D=this.contextCache,j=i.selectionBackgroundColor,B=this.viewportTransform;return i.selectionBackgroundColor="",this.clearContext(D),D.save(),D.transform(B[0],B[1],B[2],B[3],B[4],B[5]),i.render(D),D.restore(),i===this._activeObject&&i._renderControls(D,{hasBorders:!1,transparentCorners:!1},{hasBorders:!1}),i.selectionBackgroundColor=j,w.util.isTransparent(D,o,a,this.targetFindTolerance)},_isSelectionKeyPressed:function _isSelectionKeyPressed(i){return"[object Array]"===Object.prototype.toString.call(this.selectionKey)?!!this.selectionKey.find((function(o){return!0===i[o]})):i[this.selectionKey]},_shouldClearSelection:function _shouldClearSelection(i,o){var a=this.getActiveObjects(),v=this._activeObject;return!o||o&&v&&a.length>1&&-1===a.indexOf(o)&&v!==o&&!this._isSelectionKeyPressed(i)||o&&!o.evented||o&&!o.selectable&&v&&v!==o},_shouldCenterTransform:function _shouldCenterTransform(i,o,a){var v;if(i)return"scale"===o||"scaleX"===o||"scaleY"===o||"resizing"===o?v=this.centeredScaling||i.centeredScaling:"rotate"===o&&(v=this.centeredRotation||i.centeredRotation),v?!a:a},_getOriginFromCorner:function _getOriginFromCorner(i,o){var a={x:i.originX,y:i.originY};return"ml"===o||"tl"===o||"bl"===o?a.x="right":"mr"!==o&&"tr"!==o&&"br"!==o||(a.x="left"),"tl"===o||"mt"===o||"tr"===o?a.y="bottom":"bl"===o||"mb"===o||"br"===o?a.y="top":"mtr"===o&&(a.x="center",a.y="center"),a},_getActionFromCorner:function _getActionFromCorner(i,o,a,v){if(!o||!i)return"drag";var w=v.controls[o];return w.getActionName(a,w,v)},_setupCurrentTransform:function _setupCurrentTransform(i,a,v){if(a){var E=this.getPointer(i),P=a.__corner,D=!!P&&a.controls[P].getActionHandler(),j=this._getActionFromCorner(v,P,i,a),B=this._getOriginFromCorner(a,P),Q=i[this.centeredKey],$={target:a,action:j,actionHandler:D,corner:P,scaleX:a.scaleX,scaleY:a.scaleY,skewX:a.skewX,skewY:a.skewY,offsetX:E.x-a.left,offsetY:E.y-a.top,originX:B.x,originY:B.y,ex:E.x,ey:E.y,lastX:E.x,lastY:E.y,theta:o(a.angle),width:a.width*a.scaleX,shiftKey:i.shiftKey,altKey:Q,original:w.util.saveObjectTransform(a)};this._shouldCenterTransform(a,j,Q)&&($.originX="center",$.originY="center"),$.original.originX=B.x,$.original.originY=B.y,this._currentTransform=$,this._beforeTransform(i)}},_translateObject:function _translateObject(i,o){var a=this._currentTransform,v=a.target,w=i-a.offsetX,E=o-a.offsetY,P=!v.get("lockMovementX")&&v.left!==w,D=!v.get("lockMovementY")&&v.top!==E;return P&&v.set("left",w),D&&v.set("top",E),P||D},setCursor:function setCursor(i){this.upperCanvasEl.style.cursor=i},_drawSelection:function _drawSelection(i){var o=this._groupSelector,E=o.left,P=o.top,D=a(E),j=a(P);if(this.selectionColor&&(i.fillStyle=this.selectionColor,i.fillRect(o.ex-(E>0?0:-E),o.ey-(P>0?0:-P),D,j)),this.selectionLineWidth&&this.selectionBorderColor)if(i.lineWidth=this.selectionLineWidth,i.strokeStyle=this.selectionBorderColor,this.selectionDashArray.length>1&&!v){var B=o.ex+.5-(E>0?0:D),Q=o.ey+.5-(P>0?0:j);i.beginPath(),w.util.drawDashedLine(i,B,Q,B+D,Q,this.selectionDashArray),w.util.drawDashedLine(i,B,Q+j-1,B+D,Q+j-1,this.selectionDashArray),w.util.drawDashedLine(i,B,Q,B,Q+j,this.selectionDashArray),w.util.drawDashedLine(i,B+D-1,Q,B+D-1,Q+j,this.selectionDashArray),i.closePath(),i.stroke()}else w.Object.prototype._setLineDash.call(this,i,this.selectionDashArray),i.strokeRect(o.ex+.5-(E>0?0:D),o.ey+.5-(P>0?0:j),D,j)},findTarget:function findTarget(i,o){if(!this.skipTargetFind){var a,v,w=this.getPointer(i,!0),P=this._activeObject,D=this.getActiveObjects(),j=E(i);if(this.targets=[],D.length>1&&!o&&P===this._searchPossibleTargets([P],w))return P;if(1===D.length&&P._findTargetCorner(w,j))return P;if(1===D.length&&P===this._searchPossibleTargets([P],w)){if(!this.preserveObjectStacking)return P;a=P,v=this.targets,this.targets=[]}var B=this._searchPossibleTargets(this._objects,w);return i[this.altSelectionKey]&&B&&a&&B!==a&&(B=a,this.targets=v),B}},_checkTarget:function _checkTarget(i,o,a){if(o&&o.visible&&o.evented&&(o.containsPoint(i)||o._findTargetCorner(i))){if(!this.perPixelTargetFind&&!o.perPixelTargetFind||o.isEditing)return!0;if(!this.isTargetTransparent(o,a.x,a.y))return!0}},_searchPossibleTargets:function _searchPossibleTargets(i,o){for(var a,v,E=i.length;E--;){var P=i[E],D=P.group?this._normalizePointer(P.group,o):o;if(this._checkTarget(D,P,o)){(a=i[E]).subTargetCheck&&a instanceof w.Group&&(v=this._searchPossibleTargets(a._objects,o))&&this.targets.push(v);break}}return a},restorePointerVpt:function restorePointerVpt(i){return w.util.transformPoint(i,w.util.invertTransform(this.viewportTransform))},getPointer:function getPointer(o,a){if(this._absolutePointer&&!a)return this._absolutePointer;if(this._pointer&&a)return this._pointer;var v,w=i(o),E=this.upperCanvasEl,P=E.getBoundingClientRect(),D=P.width||0,j=P.height||0;D&&j||("top"in P&&"bottom"in P&&(j=Math.abs(P.top-P.bottom)),"right"in P&&"left"in P&&(D=Math.abs(P.right-P.left))),this.calcOffset(),w.x=w.x-this._offset.left,w.y=w.y-this._offset.top,a||(w=this.restorePointerVpt(w));var B=this.getRetinaScaling();return 1!==B&&(w.x/=B,w.y/=B),v=0===D||0===j?{width:1,height:1}:{width:E.width/D,height:E.height/j},{x:w.x*v.width,y:w.y*v.height}},_createUpperCanvas:function _createUpperCanvas(){var i=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),o=this.lowerCanvasEl,a=this.upperCanvasEl;a?a.className="":(a=this._createCanvasElement(),this.upperCanvasEl=a),w.util.addClass(a,"upper-canvas "+i),this.wrapperEl.appendChild(a),this._copyCanvasStyle(o,a),this._applyCanvasStyle(a),this.contextTop=a.getContext("2d")},_createCacheCanvas:function _createCacheCanvas(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function _initWrapperElement(){this.wrapperEl=w.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),w.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),w.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function _applyCanvasStyle(i){var o=this.width||i.width,a=this.height||i.height;w.util.setStyle(i,{position:"absolute",width:o+"px",height:a+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),i.width=o,i.height=a,w.util.makeElementUnselectable(i)},_copyCanvasStyle:function _copyCanvasStyle(i,o){o.style.cssText=i.style.cssText},getSelectionContext:function getSelectionContext(){return this.contextTop},getSelectionElement:function getSelectionElement(){return this.upperCanvasEl},getActiveObject:function getActiveObject(){return this._activeObject},getActiveObjects:function getActiveObjects(){var i=this._activeObject;return i?"activeSelection"===i.type&&i._objects?i._objects.slice(0):[i]:[]},_onObjectRemoved:function _onObjectRemoved(i){i===this._activeObject&&(this.fire("before:selection:cleared",{target:i}),this._discardActiveObject(),this.fire("selection:cleared",{target:i}),i.fire("deselected")),i===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",i)},_fireSelectionEvents:function _fireSelectionEvents(i,o){var a=!1,v=this.getActiveObjects(),w=[],E=[],P={e:o};i.forEach((function(i){-1===v.indexOf(i)&&(a=!0,i.fire("deselected",P),E.push(i))})),v.forEach((function(o){-1===i.indexOf(o)&&(a=!0,o.fire("selected",P),w.push(o))})),i.length>0&&v.length>0?(P.selected=w,P.deselected=E,P.updated=w[0]||E[0],P.target=this._activeObject,a&&this.fire("selection:updated",P)):v.length>0?(P.selected=w,P.target=this._activeObject,this.fire("selection:created",P)):i.length>0&&(P.deselected=E,this.fire("selection:cleared",P))},setActiveObject:function setActiveObject(i,o){var a=this.getActiveObjects();return this._setActiveObject(i,o),this._fireSelectionEvents(a,o),this},_setActiveObject:function _setActiveObject(i,o){return this._activeObject!==i&&(!!this._discardActiveObject(o,i)&&(!i.onSelect({e:o})&&(this._activeObject=i,!0)))},_discardActiveObject:function _discardActiveObject(i,o){var a=this._activeObject;if(a){if(a.onDeselect({e:i,object:o}))return!1;this._activeObject=null}return!0},discardActiveObject:function discardActiveObject(i){var o=this.getActiveObjects(),a=this.getActiveObject();return o.length&&this.fire("before:selection:cleared",{target:a,e:i}),this._discardActiveObject(i),this._fireSelectionEvents(o,i),this},dispose:function dispose(){var i=this.wrapperEl;return this.removeListeners(),i.removeChild(this.upperCanvasEl),i.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(i){w.util.cleanUpJsdomNode(this[i]),this[i]=void 0}.bind(this)),i.parentNode&&i.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,w.StaticCanvas.prototype.dispose.call(this),this},clear:function clear(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function drawControls(i){var o=this._activeObject;o&&o._renderControls(i)},_toObject:function _toObject(i,o,a){var v=this._realizeGroupTransformOnObject(i),w=this.callSuper("_toObject",i,o,a);return this._unwindGroupTransformOnObject(i,v),w},_realizeGroupTransformOnObject:function _realizeGroupTransformOnObject(i){if(i.group&&"activeSelection"===i.group.type&&this._activeObject===i.group){var o={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach((function(a){o[a]=i[a]})),this._activeObject.realizeTransform(i),o}return null},_unwindGroupTransformOnObject:function _unwindGroupTransformOnObject(i,o){o&&i.set(o)},_setSVGObject:function _setSVGObject(i,o,a){var v=this._realizeGroupTransformOnObject(o);this.callSuper("_setSVGObject",i,o,a),this._unwindGroupTransformOnObject(o,v)},setViewportTransform:function setViewportTransform(i){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),w.StaticCanvas.prototype.setViewportTransform.call(this,i)}}),w.StaticCanvas)"prototype"!==P&&(w.Canvas[P]=w.StaticCanvas[P])}(),function(){var i=w.util.addListener,o=w.util.removeListener,a={passive:!1};function checkClick(i,o){return i.button&&i.button===o-1}w.util.object.extend(w.Canvas.prototype,{mainTouchId:null,_initEventListeners:function _initEventListeners(){this.removeListeners(),this._bindEvents(),this.addOrRemove(i,"add")},_getEventPrefix:function _getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function addOrRemove(i,o){var v=this.upperCanvasEl,E=this._getEventPrefix();i(w.window,"resize",this._onResize),i(v,E+"down",this._onMouseDown),i(v,E+"move",this._onMouseMove,a),i(v,E+"out",this._onMouseOut),i(v,E+"enter",this._onMouseEnter),i(v,"wheel",this._onMouseWheel),i(v,"contextmenu",this._onContextMenu),i(v,"dblclick",this._onDoubleClick),i(v,"dragover",this._onDragOver),i(v,"dragenter",this._onDragEnter),i(v,"dragleave",this._onDragLeave),i(v,"drop",this._onDrop),this.enablePointerEvents||i(v,"touchstart",this._onTouchStart,a),"undefined"!==typeof eventjs&&o in eventjs&&(eventjs[o](v,"gesture",this._onGesture),eventjs[o](v,"drag",this._onDrag),eventjs[o](v,"orientation",this._onOrientationChange),eventjs[o](v,"shake",this._onShake),eventjs[o](v,"longpress",this._onLongPress))},removeListeners:function removeListeners(){this.addOrRemove(o,"remove");var i=this._getEventPrefix();o(w.document,i+"up",this._onMouseUp),o(w.document,"touchend",this._onTouchEnd,a),o(w.document,i+"move",this._onMouseMove,a),o(w.document,"touchmove",this._onMouseMove,a)},_bindEvents:function _bindEvents(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function _onGesture(i,o){this.__onTransformGesture&&this.__onTransformGesture(i,o)},_onDrag:function _onDrag(i,o){this.__onDrag&&this.__onDrag(i,o)},_onMouseWheel:function _onMouseWheel(i){this.__onMouseWheel(i)},_onMouseOut:function _onMouseOut(i){var o=this._hoveredTarget;this.fire("mouse:out",{target:o,e:i}),this._hoveredTarget=null,o&&o.fire("mouseout",{e:i});var a=this;this._hoveredTargets.forEach((function(v){a.fire("mouse:out",{target:o,e:i}),v&&o.fire("mouseout",{e:i})})),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach((function(i){i.isEditing&&i.hiddenTextarea.focus()}))},_onMouseEnter:function _onMouseEnter(i){this.currentTransform||this.findTarget(i)||(this.fire("mouse:over",{target:null,e:i}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function _onOrientationChange(i,o){this.__onOrientationChange&&this.__onOrientationChange(i,o)},_onShake:function _onShake(i,o){this.__onShake&&this.__onShake(i,o)},_onLongPress:function _onLongPress(i,o){this.__onLongPress&&this.__onLongPress(i,o)},_onDragOver:function _onDragOver(i){i.preventDefault();var o=this._simpleEventHandler("dragover",i);this._fireEnterLeaveEvents(o,i)},_onContextMenu:function _onContextMenu(i){return this.stopContextMenu&&(i.stopPropagation(),i.preventDefault()),!1},_onDoubleClick:function _onDoubleClick(i){this._cacheTransformEventData(i),this._handleEvent(i,"dblclick"),this._resetTransformEventData(i)},getPointerId:function getPointerId(i){var o=i.changedTouches;return o?o[0]&&o[0].identifier:this.enablePointerEvents?i.pointerId:-1},_isMainEvent:function _isMainEvent(i){return!0===i.isPrimary||!1!==i.isPrimary&&("touchend"===i.type&&0===i.touches.length||(!i.changedTouches||i.changedTouches[0].identifier===this.mainTouchId))},_onTouchStart:function _onTouchStart(v){v.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(v)),this.__onMouseDown(v),this._resetTransformEventData();var E=this.upperCanvasEl,P=this._getEventPrefix();i(w.document,"touchend",this._onTouchEnd,a),i(w.document,"touchmove",this._onMouseMove,a),o(E,P+"down",this._onMouseDown)},_onMouseDown:function _onMouseDown(v){this.__onMouseDown(v),this._resetTransformEventData();var E=this.upperCanvasEl,P=this._getEventPrefix();o(E,P+"move",this._onMouseMove,a),i(w.document,P+"up",this._onMouseUp),i(w.document,P+"move",this._onMouseMove,a)},_onTouchEnd:function _onTouchEnd(v){if(!(v.touches.length>0)){this.__onMouseUp(v),this._resetTransformEventData(),this.mainTouchId=null;var E=this._getEventPrefix();o(w.document,"touchend",this._onTouchEnd,a),o(w.document,"touchmove",this._onMouseMove,a);var P=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout((function(){i(P.upperCanvasEl,E+"down",P._onMouseDown),P._willAddMouseDown=0}),400)}},_onMouseUp:function _onMouseUp(v){this.__onMouseUp(v),this._resetTransformEventData();var E=this.upperCanvasEl,P=this._getEventPrefix();this._isMainEvent(v)&&(o(w.document,P+"up",this._onMouseUp),o(w.document,P+"move",this._onMouseMove,a),i(E,P+"move",this._onMouseMove,a))},_onMouseMove:function _onMouseMove(i){!this.allowTouchScrolling&&i.preventDefault&&i.preventDefault(),this.__onMouseMove(i)},_onResize:function _onResize(){this.calcOffset()},_shouldRender:function _shouldRender(i){var o=this._activeObject;return!!(!!o!==!!i||o&&i&&o!==i)||(o&&o.isEditing,!1)},__onMouseUp:function __onMouseUp(i){var o,a=this._currentTransform,v=this._groupSelector,E=!1,P=!v||0===v.left&&0===v.top;if(this._cacheTransformEventData(i),o=this._target,this._handleEvent(i,"up:before"),checkClick(i,3))this.fireRightClick&&this._handleEvent(i,"up",3,P);else{if(checkClick(i,2))return this.fireMiddleClick&&this._handleEvent(i,"up",2,P),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(i);else if(this._isMainEvent(i)){if(a&&(this._finalizeCurrentTransform(i),E=a.actionPerformed),!P){var D=o===this._activeObject;this._maybeGroupObjects(i),E||(E=this._shouldRender(o)||!D&&o===this._activeObject)}if(o){var j=o._findTargetCorner(this.getPointer(i,!0),w.util.isTouchEvent(i)),B=o.controls[j],Q=B&&B.getMouseUpHandler(i,o,B);Q&&Q(i,o,B),o.isMoving=!1}this._setCursorFromEvent(i,o),this._handleEvent(i,"up",1,P),this._groupSelector=null,this._currentTransform=null,o&&(o.__corner=0),E?this.requestRenderAll():P||this.renderTop()}}},_simpleEventHandler:function _simpleEventHandler(i,o){var a=this.findTarget(o),v=this.targets,w={e:o,target:a,subTargets:v};if(this.fire(i,w),a&&a.fire(i,w),!v)return a;for(var E=0;E<v.length;E++)v[E].fire(i,w);return a},_handleEvent:function _handleEvent(i,o,a,v){var w=this._target,E=this.targets||[],P={e:i,target:w,subTargets:E,button:a||1,isClick:v||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};this.fire("mouse:"+o,P),w&&w.fire("mouse"+o,P);for(var D=0;D<E.length;D++)E[D].fire("mouse"+o,P)},_finalizeCurrentTransform:function _finalizeCurrentTransform(i){var o,a=this._currentTransform,v=a.target,w={e:i,target:v,transform:a};v._scaling&&(v._scaling=!1),v.setCoords(),(a.actionPerformed||this.stateful&&v.hasStateChanged())&&(a.actionPerformed&&(o=this._addEventOptions(w,a),this._fire(o,w)),this._fire("modified",w))},_addEventOptions:function _addEventOptions(i,o){var a,v;switch(o.action){case"scaleX":a="scaled",v="x";break;case"scaleY":a="scaled",v="y";break;case"skewX":a="skewed",v="x";break;case"skewY":a="skewed",v="y";break;case"scale":a="scaled",v="equally";break;case"rotate":a="rotated";break;case"drag":a="moved"}return i.by=v,a},_onMouseDownInDrawingMode:function _onMouseDownInDrawingMode(i){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(i).requestRenderAll();var o=this.getPointer(i);this.freeDrawingBrush.onMouseDown(o,{e:i,pointer:o}),this._handleEvent(i,"down")},_onMouseMoveInDrawingMode:function _onMouseMoveInDrawingMode(i){if(this._isCurrentlyDrawing){var o=this.getPointer(i);this.freeDrawingBrush.onMouseMove(o,{e:i,pointer:o})}this.setCursor(this.freeDrawingCursor),this._handleEvent(i,"move")},_onMouseUpInDrawingMode:function _onMouseUpInDrawingMode(i){var o=this.getPointer(i);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:i,pointer:o}),this._handleEvent(i,"up")},__onMouseDown:function __onMouseDown(i){this._cacheTransformEventData(i),this._handleEvent(i,"down:before");var o=this._target;if(checkClick(i,3))this.fireRightClick&&this._handleEvent(i,"down",3);else if(checkClick(i,2))this.fireMiddleClick&&this._handleEvent(i,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(i);else if(this._isMainEvent(i)&&!this._currentTransform){var a=this._pointer;this._previousPointer=a;var v=this._shouldRender(o),E=this._shouldGroup(i,o);if(this._shouldClearSelection(i,o)?this.discardActiveObject(i):E&&(this._handleGrouping(i,o),o=this._activeObject),!this.selection||o&&(o.selectable||o.isEditing||o===this._activeObject)||(this._groupSelector={ex:a.x,ey:a.y,top:0,left:0}),o){var P=o===this._activeObject;o.selectable&&this.setActiveObject(o,i);var D=o._findTargetCorner(this.getPointer(i,!0),w.util.isTouchEvent(i));if(o.__corner=D,o===this._activeObject&&(D||!E)){var j=o.controls[D],B=j&&j.getMouseDownHandler(i,o,j);B&&B(i,o,j),this._setupCurrentTransform(i,o,P)}}this._handleEvent(i,"down"),(v||E)&&this.requestRenderAll()}},_resetTransformEventData:function _resetTransformEventData(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function _cacheTransformEventData(i){this._resetTransformEventData(),this._pointer=this.getPointer(i,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(i)||null},_beforeTransform:function _beforeTransform(i){var o=this._currentTransform;this.stateful&&o.target.saveState(),this.fire("before:transform",{e:i,transform:o})},__onMouseMove:function __onMouseMove(i){var o,a;if(this._handleEvent(i,"move:before"),this._cacheTransformEventData(i),this.isDrawingMode)this._onMouseMoveInDrawingMode(i);else if(this._isMainEvent(i)){var v=this._groupSelector;v?(a=this._pointer,v.left=a.x-v.ex,v.top=a.y-v.ey,this.renderTop()):this._currentTransform?this._transformObject(i):(o=this.findTarget(i)||null,this._setCursorFromEvent(i,o),this._fireOverOutEvents(o,i)),this._handleEvent(i,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function _fireOverOutEvents(i,o){var a=this._hoveredTarget,v=this._hoveredTargets,w=this.targets,E=Math.max(v.length,w.length);this.fireSyntheticInOutEvents(i,o,{oldTarget:a,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var P=0;P<E;P++)this.fireSyntheticInOutEvents(w[P],o,{oldTarget:v[P],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=i,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function _fireEnterLeaveEvents(i,o){var a=this._draggedoverTarget,v=this._hoveredTargets,w=this.targets,E=Math.max(v.length,w.length);this.fireSyntheticInOutEvents(i,o,{oldTarget:a,evtOut:"dragleave",evtIn:"dragenter"});for(var P=0;P<E;P++)this.fireSyntheticInOutEvents(w[P],o,{oldTarget:v[P],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=i},fireSyntheticInOutEvents:function fireSyntheticInOutEvents(i,o,a){var v,w,E,P=a.oldTarget,D=P!==i,j=a.canvasEvtIn,B=a.canvasEvtOut;D&&(v={e:o,target:i,previousTarget:P},w={e:o,target:P,nextTarget:i}),E=i&&D,P&&D&&(B&&this.fire(B,w),P.fire(a.evtOut,w)),E&&(j&&this.fire(j,v),i.fire(a.evtIn,v))},__onMouseWheel:function __onMouseWheel(i){this._cacheTransformEventData(i),this._handleEvent(i,"wheel"),this._resetTransformEventData()},_transformObject:function _transformObject(i){var o=this.getPointer(i),a=this._currentTransform;a.reset=!1,a.target.isMoving=!0,a.shiftKey=i.shiftKey,a.altKey=i[this.centeredKey],this._performTransformAction(i,a,o),a.actionPerformed&&this.requestRenderAll()},_performTransformAction:function _performTransformAction(i,o,a){var v=a.x,w=a.y,E=o.action,P=!1,D=o.actionHandler,j={target:o.target,e:i,transform:o,pointer:a};"drag"===E?(P=this._translateObject(v,w))&&(this._fire("moving",j),this.setCursor(j.target.moveCursor||this.moveCursor)):D&&(P=D(i,o,v,w))&&this._fire(E,j),o.actionPerformed=o.actionPerformed||P},_fire:w.controlsUtils.fireEvent,_setCursorFromEvent:function _setCursorFromEvent(i,o){if(!o)return this.setCursor(this.defaultCursor),!1;var a=o.hoverCursor||this.hoverCursor,v=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,w=(!v||!v.contains(o))&&o._findTargetCorner(this.getPointer(i,!0));w?this.setCursor(this.getCornerCursor(w,o,i)):(o.subTargetCheck&&this.targets.concat().reverse().map((function(i){a=i.hoverCursor||a})),this.setCursor(a))},getCornerCursor:function getCornerCursor(i,o,a){var v=o.controls[i];return v.cursorStyleHandler(a,v,o)}})}(),function(){var i=Math.min,o=Math.max;w.util.object.extend(w.Canvas.prototype,{_shouldGroup:function _shouldGroup(i,o){var a=this._activeObject;return a&&this._isSelectionKeyPressed(i)&&o&&o.selectable&&this.selection&&(a!==o||"activeSelection"===a.type)&&!o.onSelect({e:i})},_handleGrouping:function _handleGrouping(i,o){var a=this._activeObject;a.__corner||(o!==a||(o=this.findTarget(i,!0))&&o.selectable)&&(a&&"activeSelection"===a.type?this._updateActiveSelection(o,i):this._createActiveSelection(o,i))},_updateActiveSelection:function _updateActiveSelection(i,o){var a=this._activeObject,v=a._objects.slice(0);a.contains(i)?(a.removeWithUpdate(i),this._hoveredTarget=i,this._hoveredTargets=this.targets.concat(),1===a.size()&&this._setActiveObject(a.item(0),o)):(a.addWithUpdate(i),this._hoveredTarget=a,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(v,o)},_createActiveSelection:function _createActiveSelection(i,o){var a=this.getActiveObjects(),v=this._createGroup(i);this._hoveredTarget=v,this._setActiveObject(v,o),this._fireSelectionEvents(a,o)},_createGroup:function _createGroup(i){var o=this._objects,a=o.indexOf(this._activeObject)<o.indexOf(i)?[this._activeObject,i]:[i,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new w.ActiveSelection(a,{canvas:this})},_groupSelectedObjects:function _groupSelectedObjects(i){var o,a=this._collectObjects(i);1===a.length?this.setActiveObject(a[0],i):a.length>1&&(o=new w.ActiveSelection(a.reverse(),{canvas:this}),this.setActiveObject(o,i))},_collectObjects:function _collectObjects(a){for(var v,E=[],P=this._groupSelector.ex,D=this._groupSelector.ey,j=P+this._groupSelector.left,B=D+this._groupSelector.top,Q=new w.Point(i(P,j),i(D,B)),$=new w.Point(o(P,j),o(D,B)),ee=!this.selectionFullyContained,te=P===j&&D===B,ne=this._objects.length;ne--&&!((v=this._objects[ne])&&v.selectable&&v.visible&&(ee&&v.intersectsWithRect(Q,$)||v.isContainedWithinRect(Q,$)||ee&&v.containsPoint(Q)||ee&&v.containsPoint($))&&(E.push(v),te)););return E.length>1&&(E=E.filter((function(i){return!i.onSelect({e:a})}))),E},_maybeGroupObjects:function _maybeGroupObjects(i){this.selection&&this._groupSelector&&this._groupSelectedObjects(i),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),w.util.object.extend(w.StaticCanvas.prototype,{toDataURL:function toDataURL(i){i||(i={});var o=i.format||"png",a=i.quality||1,v=(i.multiplier||1)*(i.enableRetinaScaling?this.getRetinaScaling():1),E=this.toCanvasElement(v,i);return w.util.toDataURL(E,o,a)},toCanvasElement:function toCanvasElement(i,o){i=i||1;var a=((o=o||{}).width||this.width)*i,v=(o.height||this.height)*i,E=this.getZoom(),P=this.width,D=this.height,j=E*i,B=this.viewportTransform,Q=(B[4]-(o.left||0))*i,$=(B[5]-(o.top||0))*i,ee=this.interactive,te=[j,0,0,j,Q,$],ne=this.enableRetinaScaling,ie=w.util.createCanvasElement(),le=this.contextTop;return ie.width=a,ie.height=v,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=te,this.width=a,this.height=v,this.calcViewportBoundaries(),this.renderCanvas(ie.getContext("2d"),this._objects),this.viewportTransform=B,this.width=P,this.height=D,this.calcViewportBoundaries(),this.interactive=ee,this.enableRetinaScaling=ne,this.contextTop=le,ie}}),w.util.object.extend(w.StaticCanvas.prototype,{loadFromJSON:function loadFromJSON(i,o,a){if(i){var v="string"===typeof i?JSON.parse(i):w.util.object.clone(i),E=this,P=v.clipPath,D=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete v.clipPath,this._enlivenObjects(v.objects,(function(i){E.clear(),E._setBgOverlay(v,(function(){P?E._enlivenObjects([P],(function(a){E.clipPath=a[0],E.__setupCanvas.call(E,v,i,D,o)})):E.__setupCanvas.call(E,v,i,D,o)}))}),a),this}},__setupCanvas:function __setupCanvas(i,o,a,v){var w=this;o.forEach((function(i,o){w.insertAt(i,o)})),this.renderOnAddRemove=a,delete i.objects,delete i.backgroundImage,delete i.overlayImage,delete i.background,delete i.overlay,this._setOptions(i),this.renderAll(),v&&v()},_setBgOverlay:function _setBgOverlay(i,o){var a={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(i.backgroundImage||i.overlayImage||i.background||i.overlay){var v=function cbIfLoaded(){a.backgroundImage&&a.overlayImage&&a.backgroundColor&&a.overlayColor&&o&&o()};this.__setBgOverlay("backgroundImage",i.backgroundImage,a,v),this.__setBgOverlay("overlayImage",i.overlayImage,a,v),this.__setBgOverlay("backgroundColor",i.background,a,v),this.__setBgOverlay("overlayColor",i.overlay,a,v)}else o&&o()},__setBgOverlay:function __setBgOverlay(i,o,a,v){var E=this;if(!o)return a[i]=!0,void(v&&v());"backgroundImage"===i||"overlayImage"===i?w.util.enlivenObjects([o],(function(o){E[i]=o[0],a[i]=!0,v&&v()})):this["set"+w.util.string.capitalize(i,!0)](o,(function(){a[i]=!0,v&&v()}))},_enlivenObjects:function _enlivenObjects(i,o,a){i&&0!==i.length?w.util.enlivenObjects(i,(function(i){o&&o(i)}),null,a):o&&o([])},_toDataURL:function _toDataURL(i,o){this.clone((function(a){o(a.toDataURL(i))}))},_toDataURLWithMultiplier:function _toDataURLWithMultiplier(i,o,a){this.clone((function(v){a(v.toDataURLWithMultiplier(i,o))}))},clone:function clone(i,o){var a=JSON.stringify(this.toJSON(o));this.cloneWithoutData((function(o){o.loadFromJSON(a,(function(){i&&i(o)}))}))},cloneWithoutData:function cloneWithoutData(i){var o=w.util.createCanvasElement();o.width=this.width,o.height=this.height;var a=new w.Canvas(o);this.backgroundImage?(a.setBackgroundImage(this.backgroundImage.src,(function(){a.renderAll(),i&&i(a)})),a.backgroundImageOpacity=this.backgroundImageOpacity,a.backgroundImageStretch=this.backgroundImageStretch):i&&i(a)}}),function(i){"use strict";var o=i.fabric||(i.fabric={}),a=o.util.object.extend,v=o.util.object.clone,w=o.util.toFixed,E=o.util.string.capitalize,P=o.util.degreesToRadians,D=o.StaticCanvas.supports("setLineDash"),j=!o.isLikelyNode;o.Object||(o.Object=o.util.createClass(o.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:j,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function initialize(i){i&&this.setOptions(i)},_createCacheCanvas:function _createCacheCanvas(){this._cacheProperties={},this._cacheCanvas=o.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function _limitCacheSize(i){var a=o.perfLimitSizeTotal,v=i.width,w=i.height,E=o.maxCacheSideLimit,P=o.minCacheSideLimit;if(v<=E&&w<=E&&v*w<=a)return v<P&&(i.width=P),w<P&&(i.height=P),i;var D=v/w,j=o.util.limitDimsByArea(D,a),B=o.util.capValue,Q=B(P,j.x,E),$=B(P,j.y,E);return v>Q&&(i.zoomX/=v/Q,i.width=Q,i.capped=!0),w>$&&(i.zoomY/=w/$,i.height=$,i.capped=!0),i},_getCacheCanvasDimensions:function _getCacheCanvasDimensions(){var i=this.getTotalObjectScaling(),o=this._getTransformedDimensions(0,0),a=o.x*i.scaleX/this.scaleX,v=o.y*i.scaleY/this.scaleY;return{width:a+2,height:v+2,zoomX:i.scaleX,zoomY:i.scaleY,x:a,y:v}},_updateCacheCanvas:function _updateCacheCanvas(){var i=this.canvas;if(this.noScaleCache&&i&&i._currentTransform){var a=i._currentTransform.target,v=i._currentTransform.action;if(this===a&&v.slice&&"scale"===v.slice(0,5))return!1}var w,E,P=this._cacheCanvas,D=this._limitCacheSize(this._getCacheCanvasDimensions()),j=o.minCacheSideLimit,B=D.width,Q=D.height,$=D.zoomX,ee=D.zoomY,te=B!==this.cacheWidth||Q!==this.cacheHeight,ne=this.zoomX!==$||this.zoomY!==ee,ie=te||ne,le=0,ue=0,fe=!1;if(te){var he=this._cacheCanvas.width,ge=this._cacheCanvas.height,me=B>he||Q>ge;fe=me||(B<.9*he||Q<.9*ge)&&he>j&&ge>j,me&&!D.capped&&(B>j||Q>j)&&(le=.1*B,ue=.1*Q)}return!!ie&&(fe?(P.width=Math.ceil(B+le),P.height=Math.ceil(Q+ue)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,P.width,P.height)),w=D.x/2,E=D.y/2,this.cacheTranslationX=Math.round(P.width/2-w)+w,this.cacheTranslationY=Math.round(P.height/2-E)+E,this.cacheWidth=B,this.cacheHeight=Q,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale($,ee),this.zoomX=$,this.zoomY=ee,!0)},setOptions:function setOptions(i){this._setOptions(i),this._initGradient(i.fill,"fill"),this._initGradient(i.stroke,"stroke"),this._initPattern(i.fill,"fill"),this._initPattern(i.stroke,"stroke")},transform:function transform(i){var o=this.group&&!this.group._transformDone||this.group&&this.canvas&&i===this.canvas.contextTop,a=this.calcTransformMatrix(!o);i.transform(a[0],a[1],a[2],a[3],a[4],a[5])},toObject:function toObject(i){var a=o.Object.NUM_FRACTION_DIGITS,v={type:this.type,version:o.version,originX:this.originX,originY:this.originY,left:w(this.left,a),top:w(this.top,a),width:w(this.width,a),height:w(this.height,a),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:w(this.strokeWidth,a),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:w(this.strokeMiterLimit,a),scaleX:w(this.scaleX,a),scaleY:w(this.scaleY,a),angle:w(this.angle,a),flipX:this.flipX,flipY:this.flipY,opacity:w(this.opacity,a),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:w(this.skewX,a),skewY:w(this.skewY,a)};return this.clipPath&&(v.clipPath=this.clipPath.toObject(i),v.clipPath.inverted=this.clipPath.inverted,v.clipPath.absolutePositioned=this.clipPath.absolutePositioned),o.util.populateWithProperties(this,v,i),this.includeDefaultValues||(v=this._removeDefaultValues(v)),v},toDatalessObject:function toDatalessObject(i){return this.toObject(i)},_removeDefaultValues:function _removeDefaultValues(i){var a=o.util.getKlass(i.type).prototype;return a.stateProperties.forEach((function(o){"left"!==o&&"top"!==o&&(i[o]===a[o]&&delete i[o],"[object Array]"===Object.prototype.toString.call(i[o])&&"[object Array]"===Object.prototype.toString.call(a[o])&&0===i[o].length&&0===a[o].length&&delete i[o])})),i},toString:function toString(){return"#<fabric."+E(this.type)+">"},getObjectScaling:function getObjectScaling(){var i=o.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(i.scaleX),scaleY:Math.abs(i.scaleY)}},getTotalObjectScaling:function getTotalObjectScaling(){var i=this.getObjectScaling(),o=i.scaleX,a=i.scaleY;if(this.canvas){var v=this.canvas.getZoom(),w=this.canvas.getRetinaScaling();o*=v*w,a*=v*w}return{scaleX:o,scaleY:a}},getObjectOpacity:function getObjectOpacity(){var i=this.opacity;return this.group&&(i*=this.group.getObjectOpacity()),i},_set:function _set(i,a){var v="scaleX"===i||"scaleY"===i,w=this[i]!==a,E=!1;return v&&(a=this._constrainScale(a)),"scaleX"===i&&a<0?(this.flipX=!this.flipX,a*=-1):"scaleY"===i&&a<0?(this.flipY=!this.flipY,a*=-1):"shadow"!==i||!a||a instanceof o.Shadow?"dirty"===i&&this.group&&this.group.set("dirty",a):a=new o.Shadow(a),this[i]=a,w&&(E=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(i)>-1?(this.dirty=!0,E&&this.group.set("dirty",!0)):E&&this.stateProperties.indexOf(i)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function setOnGroup(){},getViewportTransform:function getViewportTransform(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:o.iMatrix.concat()},isNotVisible:function isNotVisible(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible},render:function render(i){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(i.save(),this._setupCompositeOperation(i),this.drawSelectionBackground(i),this.transform(i),this._setOpacity(i),this._setShadow(i,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(i)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(i),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),i.restore())},renderCache:function renderCache(i){i=i||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,i.forClipping),this.dirty=!1)},_removeCacheCanvas:function _removeCacheCanvas(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function hasStroke(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function hasFill(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function needsItsOwnCache(){return!("stroke"!==this.paintFirst||!this.hasFill()||!this.hasStroke()||"object"!==typeof this.shadow)||!!this.clipPath},shouldCache:function shouldCache(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function willDrawShadow(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function drawClipPathOnCache(i){var a=this.clipPath;if(i.save(),a.inverted?i.globalCompositeOperation="destination-out":i.globalCompositeOperation="destination-in",a.absolutePositioned){var v=o.util.invertTransform(this.calcTransformMatrix());i.transform(v[0],v[1],v[2],v[3],v[4],v[5])}a.transform(i),i.scale(1/a.zoomX,1/a.zoomY),i.drawImage(a._cacheCanvas,-a.cacheTranslationX,-a.cacheTranslationY),i.restore()},drawObject:function drawObject(i,o){var a=this.fill,v=this.stroke;o?(this.fill="black",this.stroke="",this._setClippingProperties(i)):(this._renderBackground(i),this._setStrokeStyles(i,this),this._setFillStyles(i,this)),this._render(i),this._drawClipPath(i),this.fill=a,this.stroke=v},_drawClipPath:function _drawClipPath(i){var o=this.clipPath;o&&(o.canvas=this.canvas,o.shouldCache(),o._transformDone=!0,o.renderCache({forClipping:!0}),this.drawClipPathOnCache(i))},drawCacheOnCanvas:function drawCacheOnCanvas(i){i.scale(1/this.zoomX,1/this.zoomY),i.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function isCacheDirty(i){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!i&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!i){var o=this.cacheWidth/this.zoomX,a=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-o/2,-a/2,o,a)}return!0}return!1},_renderBackground:function _renderBackground(i){if(this.backgroundColor){var o=this._getNonTransformedDimensions();i.fillStyle=this.backgroundColor,i.fillRect(-o.x/2,-o.y/2,o.x,o.y),this._removeShadow(i)}},_setOpacity:function _setOpacity(i){this.group&&!this.group._transformDone?i.globalAlpha=this.getObjectOpacity():i.globalAlpha*=this.opacity},_setStrokeStyles:function _setStrokeStyles(i,o){o.stroke&&(i.lineWidth=o.strokeWidth,i.lineCap=o.strokeLineCap,i.lineDashOffset=o.strokeDashOffset,i.lineJoin=o.strokeLineJoin,i.miterLimit=o.strokeMiterLimit,i.strokeStyle=o.stroke.toLive?o.stroke.toLive(i,this):o.stroke)},_setFillStyles:function _setFillStyles(i,o){o.fill&&(i.fillStyle=o.fill.toLive?o.fill.toLive(i,this):o.fill)},_setClippingProperties:function _setClippingProperties(i){i.globalAlpha=1,i.strokeStyle="transparent",i.fillStyle="#000000"},_setLineDash:function _setLineDash(i,o,a){o&&0!==o.length&&(1&o.length&&o.push.apply(o,o),D?i.setLineDash(o):a&&a(i))},_renderControls:function _renderControls(i,a){var v,w,E,D=this.getViewportTransform(),j=this.calcTransformMatrix();w="undefined"!==typeof(a=a||{}).hasBorders?a.hasBorders:this.hasBorders,E="undefined"!==typeof a.hasControls?a.hasControls:this.hasControls,j=o.util.multiplyTransformMatrices(D,j),v=o.util.qrDecompose(j),i.save(),i.translate(v.translateX,v.translateY),i.lineWidth=1*this.borderScaleFactor,this.group||(i.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),a.forActiveSelection?(i.rotate(P(v.angle)),w&&this.drawBordersInGroup(i,v,a)):(i.rotate(P(this.angle)),w&&this.drawBorders(i,a)),E&&this.drawControls(i,a),i.restore()},_setShadow:function _setShadow(i){if(this.shadow){var a,v=this.shadow,w=this.canvas,E=w&&w.viewportTransform[0]||1,P=w&&w.viewportTransform[3]||1;a=v.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),w&&w._isRetinaScaling()&&(E*=o.devicePixelRatio,P*=o.devicePixelRatio),i.shadowColor=v.color,i.shadowBlur=v.blur*o.browserShadowBlurConstant*(E+P)*(a.scaleX+a.scaleY)/4,i.shadowOffsetX=v.offsetX*E*a.scaleX,i.shadowOffsetY=v.offsetY*P*a.scaleY}},_removeShadow:function _removeShadow(i){this.shadow&&(i.shadowColor="",i.shadowBlur=i.shadowOffsetX=i.shadowOffsetY=0)},_applyPatternGradientTransform:function _applyPatternGradientTransform(i,o){if(!o||!o.toLive)return{offsetX:0,offsetY:0};var a=o.gradientTransform||o.patternTransform,v=-this.width/2+o.offsetX||0,w=-this.height/2+o.offsetY||0;return"percentage"===o.gradientUnits?i.transform(this.width,0,0,this.height,v,w):i.transform(1,0,0,1,v,w),a&&i.transform(a[0],a[1],a[2],a[3],a[4],a[5]),{offsetX:v,offsetY:w}},_renderPaintInOrder:function _renderPaintInOrder(i){"stroke"===this.paintFirst?(this._renderStroke(i),this._renderFill(i)):(this._renderFill(i),this._renderStroke(i))},_render:function _render(){},_renderFill:function _renderFill(i){this.fill&&(i.save(),this._applyPatternGradientTransform(i,this.fill),"evenodd"===this.fillRule?i.fill("evenodd"):i.fill(),i.restore())},_renderStroke:function _renderStroke(i){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(i),i.save(),this.strokeUniform&&this.group){var o=this.getObjectScaling();i.scale(1/o.scaleX,1/o.scaleY)}else this.strokeUniform&&i.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(i,this.strokeDashArray,this._renderDashedStroke),this.stroke.toLive&&"percentage"===this.stroke.gradientUnits?this._applyPatternForTransformedGradient(i,this.stroke):this._applyPatternGradientTransform(i,this.stroke),i.stroke(),i.restore()}},_applyPatternForTransformedGradient:function _applyPatternForTransformedGradient(i,a){var v,w=this._limitCacheSize(this._getCacheCanvasDimensions()),E=o.util.createCanvasElement(),P=this.canvas.getRetinaScaling(),D=w.x/this.scaleX/P,j=w.y/this.scaleY/P;E.width=D,E.height=j,(v=E.getContext("2d")).beginPath(),v.moveTo(0,0),v.lineTo(D,0),v.lineTo(D,j),v.lineTo(0,j),v.closePath(),v.translate(D/2,j/2),v.scale(w.zoomX/this.scaleX/P,w.zoomY/this.scaleY/P),this._applyPatternGradientTransform(v,a),v.fillStyle=a.toLive(i),v.fill(),i.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),i.scale(P*this.scaleX/w.zoomX,P*this.scaleY/w.zoomY),i.strokeStyle=v.createPattern(E,"no-repeat")},_findCenterFromElement:function _findCenterFromElement(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function _assignTransformMatrixProps(){if(this.transformMatrix){var i=o.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",i.scaleX),this.set("scaleY",i.scaleY),this.angle=i.angle,this.skewX=i.skewX,this.skewY=0}},_removeTransformMatrix:function _removeTransformMatrix(i){var a=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),a=o.util.transformPoint(a,this.transformMatrix)),this.transformMatrix=null,i&&(this.scaleX*=i.scaleX,this.scaleY*=i.scaleY,this.cropX=i.cropX,this.cropY=i.cropY,a.x+=i.offsetLeft,a.y+=i.offsetTop,this.width=i.width,this.height=i.height),this.setPositionByOrigin(a,"center","center")},clone:function clone(i,a){var v=this.toObject(a);this.constructor.fromObject?this.constructor.fromObject(v,i):o.Object._fromObject("Object",v,i)},cloneAsImage:function cloneAsImage(i,a){var v=this.toCanvasElement(a);return i&&i(new o.Image(v)),this},toCanvasElement:function toCanvasElement(i){i||(i={});var a=o.util,v=a.saveObjectTransform(this),w=this.group,E=this.shadow,P=Math.abs,D=(i.multiplier||1)*(i.enableRetinaScaling?o.devicePixelRatio:1);delete this.group,i.withoutTransform&&a.resetObjectTransform(this),i.withoutShadow&&(this.shadow=null);var j,B,Q,$,ee=o.util.createCanvasElement(),te=this.getBoundingRect(!0,!0),ne=this.shadow,ie={x:0,y:0};ne&&(B=ne.blur,j=ne.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),ie.x=2*Math.round(P(ne.offsetX)+B)*P(j.scaleX),ie.y=2*Math.round(P(ne.offsetY)+B)*P(j.scaleY)),Q=te.width+ie.x,$=te.height+ie.y,ee.width=Math.ceil(Q),ee.height=Math.ceil($);var le=new o.StaticCanvas(ee,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===i.format&&(le.backgroundColor="#fff"),this.setPositionByOrigin(new o.Point(le.width/2,le.height/2),"center","center");var ue=this.canvas;le.add(this);var fe=le.toCanvasElement(D||1,i);return this.shadow=E,this.set("canvas",ue),w&&(this.group=w),this.set(v).setCoords(),le._objects=[],le.dispose(),le=null,fe},toDataURL:function toDataURL(i){return i||(i={}),o.util.toDataURL(this.toCanvasElement(i),i.format||"png",i.quality||1)},isType:function isType(i){return this.type===i},complexity:function complexity(){return 1},toJSON:function toJSON(i){return this.toObject(i)},rotate:function rotate(i){var o=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return o&&this._setOriginToCenter(),this.set("angle",i),o&&this._resetOrigin(),this},centerH:function centerH(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function viewportCenterH(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function centerV(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function viewportCenterV(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function center(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function viewportCenter(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function getLocalPointer(i,a){a=a||this.canvas.getPointer(i);var v=new o.Point(a.x,a.y),w=this._getLeftTopCoords();return this.angle&&(v=o.util.rotatePoint(v,w,P(-this.angle))),{x:v.x-w.x,y:v.y-w.y}},_setupCompositeOperation:function _setupCompositeOperation(i){this.globalCompositeOperation&&(i.globalCompositeOperation=this.globalCompositeOperation)}}),o.util.createAccessors&&o.util.createAccessors(o.Object),a(o.Object.prototype,o.Observable),o.Object.NUM_FRACTION_DIGITS=2,o.Object._fromObject=function(i,a,w,E){var P=o[i];a=v(a,!0),o.util.enlivenPatterns([a.fill,a.stroke],(function(i){"undefined"!==typeof i[0]&&(a.fill=i[0]),"undefined"!==typeof i[1]&&(a.stroke=i[1]),o.util.enlivenObjects([a.clipPath],(function(i){a.clipPath=i[0];var o=E?new P(a[E],a):new P(a);w&&w(o)}))}))},o.Object.__uid=0)}(o),function(){var i=w.util.degreesToRadians,o={left:-.5,center:0,right:.5},a={top:-.5,center:0,bottom:.5};w.util.object.extend(w.Object.prototype,{translateToGivenOrigin:function translateToGivenOrigin(i,v,E,P,D){var j,B,Q,$=i.x,ee=i.y;return"string"===typeof v?v=o[v]:v-=.5,"string"===typeof P?P=o[P]:P-=.5,"string"===typeof E?E=a[E]:E-=.5,"string"===typeof D?D=a[D]:D-=.5,B=D-E,((j=P-v)||B)&&(Q=this._getTransformedDimensions(),$=i.x+j*Q.x,ee=i.y+B*Q.y),new w.Point($,ee)},translateToCenterPoint:function translateToCenterPoint(o,a,v){var E=this.translateToGivenOrigin(o,a,v,"center","center");return this.angle?w.util.rotatePoint(E,o,i(this.angle)):E},translateToOriginPoint:function translateToOriginPoint(o,a,v){var E=this.translateToGivenOrigin(o,"center","center",a,v);return this.angle?w.util.rotatePoint(E,o,i(this.angle)):E},getCenterPoint:function getCenterPoint(){var i=new w.Point(this.left,this.top);return this.translateToCenterPoint(i,this.originX,this.originY)},getPointByOrigin:function getPointByOrigin(i,o){var a=this.getCenterPoint();return this.translateToOriginPoint(a,i,o)},toLocalPoint:function toLocalPoint(o,a,v){var E,P,D=this.getCenterPoint();return E="undefined"!==typeof a&&"undefined"!==typeof v?this.translateToGivenOrigin(D,"center","center",a,v):new w.Point(this.left,this.top),P=new w.Point(o.x,o.y),this.angle&&(P=w.util.rotatePoint(P,D,-i(this.angle))),P.subtractEquals(E)},setPositionByOrigin:function setPositionByOrigin(i,o,a){var v=this.translateToCenterPoint(i,o,a),w=this.translateToOriginPoint(v,this.originX,this.originY);this.set("left",w.x),this.set("top",w.y)},adjustPosition:function adjustPosition(a){var v,E,P=i(this.angle),D=this.getScaledWidth(),j=w.util.cos(P)*D,B=w.util.sin(P)*D;v="string"===typeof this.originX?o[this.originX]:this.originX-.5,E="string"===typeof a?o[a]:a-.5,this.left+=j*(E-v),this.top+=B*(E-v),this.setCoords(),this.originX=a},_setOriginToCenter:function _setOriginToCenter(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var i=this.getCenterPoint();this.originX="center",this.originY="center",this.left=i.x,this.top=i.y},_resetOrigin:function _resetOrigin(){var i=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=i.x,this.top=i.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function _getLeftTopCoords(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){var i=w.util,o=i.degreesToRadians,a=i.multiplyTransformMatrices,v=i.transformPoint;i.object.extend(w.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function _getCoords(i,o){return o?i?this.calcACoords():this.calcLineCoords():(this.aCoords&&this.lineCoords||this.setCoords(!0),i?this.aCoords:this.lineCoords)},getCoords:function getCoords(i,o){return function arrayFromCoords(i){return[new w.Point(i.tl.x,i.tl.y),new w.Point(i.tr.x,i.tr.y),new w.Point(i.br.x,i.br.y),new w.Point(i.bl.x,i.bl.y)]}(this._getCoords(i,o))},intersectsWithRect:function intersectsWithRect(i,o,a,v){var E=this.getCoords(a,v);return"Intersection"===w.Intersection.intersectPolygonRectangle(E,i,o).status},intersectsWithObject:function intersectsWithObject(i,o,a){return"Intersection"===w.Intersection.intersectPolygonPolygon(this.getCoords(o,a),i.getCoords(o,a)).status||i.isContainedWithinObject(this,o,a)||this.isContainedWithinObject(i,o,a)},isContainedWithinObject:function isContainedWithinObject(i,o,a){for(var v=this.getCoords(o,a),w=o?i.aCoords:i.lineCoords,E=0,P=i._getImageLines(w);E<4;E++)if(!i.containsPoint(v[E],P))return!1;return!0},isContainedWithinRect:function isContainedWithinRect(i,o,a,v){var w=this.getBoundingRect(a,v);return w.left>=i.x&&w.left+w.width<=o.x&&w.top>=i.y&&w.top+w.height<=o.y},containsPoint:function containsPoint(i,o,a,v){var w=this._getCoords(a,v),E=(o=o||this._getImageLines(w),this._findCrossPoints(i,o));return 0!==E&&E%2===1},isOnScreen:function isOnScreen(i){if(!this.canvas)return!1;var o=this.canvas.vptCoords.tl,a=this.canvas.vptCoords.br;return!!this.getCoords(!0,i).some((function(i){return i.x<=a.x&&i.x>=o.x&&i.y<=a.y&&i.y>=o.y}))||(!!this.intersectsWithRect(o,a,!0,i)||this._containsCenterOfCanvas(o,a,i))},_containsCenterOfCanvas:function _containsCenterOfCanvas(i,o,a){var v={x:(i.x+o.x)/2,y:(i.y+o.y)/2};return!!this.containsPoint(v,null,!0,a)},isPartiallyOnScreen:function isPartiallyOnScreen(i){if(!this.canvas)return!1;var o=this.canvas.vptCoords.tl,a=this.canvas.vptCoords.br;return!!this.intersectsWithRect(o,a,!0,i)||this.getCoords(!0,i).every((function(i){return(i.x>=a.x||i.x<=o.x)&&(i.y>=a.y||i.y<=o.y)}))&&this._containsCenterOfCanvas(o,a,i)},_getImageLines:function _getImageLines(i){return{topline:{o:i.tl,d:i.tr},rightline:{o:i.tr,d:i.br},bottomline:{o:i.br,d:i.bl},leftline:{o:i.bl,d:i.tl}}},_findCrossPoints:function _findCrossPoints(i,o){var a,v,w,E=0;for(var P in o)if(!((w=o[P]).o.y<i.y&&w.d.y<i.y)&&!(w.o.y>=i.y&&w.d.y>=i.y)&&(w.o.x===w.d.x&&w.o.x>=i.x?v=w.o.x:(0,a=(w.d.y-w.o.y)/(w.d.x-w.o.x),v=-(i.y-0*i.x-(w.o.y-a*w.o.x))/(0-a)),v>=i.x&&(E+=1),2===E))break;return E},getBoundingRect:function getBoundingRect(o,a){var v=this.getCoords(o,a);return i.makeBoundingBoxFromPoints(v)},getScaledWidth:function getScaledWidth(){return this._getTransformedDimensions().x},getScaledHeight:function getScaledHeight(){return this._getTransformedDimensions().y},_constrainScale:function _constrainScale(i){return Math.abs(i)<this.minScaleLimit?i<0?-this.minScaleLimit:this.minScaleLimit:0===i?1e-4:i},scale:function scale(i){return this._set("scaleX",i),this._set("scaleY",i),this.setCoords()},scaleToWidth:function scaleToWidth(i,o){var a=this.getBoundingRect(o).width/this.getScaledWidth();return this.scale(i/this.width/a)},scaleToHeight:function scaleToHeight(i,o){var a=this.getBoundingRect(o).height/this.getScaledHeight();return this.scale(i/this.height/a)},calcCoords:function calcCoords(i){return i?this.calcACoords():this.calcOCoords()},calcLineCoords:function calcLineCoords(){var a=this.getViewportTransform(),w=this.padding,E=o(this.angle),P=i.cos(E)*w,D=i.sin(E)*w,j=P+D,B=P-D,Q=this.calcACoords(),$={tl:v(Q.tl,a),tr:v(Q.tr,a),bl:v(Q.bl,a),br:v(Q.br,a)};return w&&($.tl.x-=B,$.tl.y-=j,$.tr.x+=j,$.tr.y-=B,$.bl.x-=j,$.bl.y+=B,$.br.x+=B,$.br.y+=j),$},calcOCoords:function calcOCoords(){var i=this._calcRotateMatrix(),o=this._calcTranslateMatrix(),v=this.getViewportTransform(),w=a(v,o),E=a(w,i),P=(E=a(E,[1/v[0],0,0,1/v[3],0,0]),this._calculateCurrentDimensions()),D={};return this.forEachControl((function(i,o,a){D[o]=i.positionHandler(P,E,a)})),D},calcACoords:function calcACoords(){var i=this._calcRotateMatrix(),o=this._calcTranslateMatrix(),w=a(o,i),E=this._getTransformedDimensions(),P=E.x/2,D=E.y/2;return{tl:v({x:-P,y:-D},w),tr:v({x:P,y:-D},w),bl:v({x:-P,y:D},w),br:v({x:P,y:D},w)}},setCoords:function setCoords(i){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),i||(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords()),this},_calcRotateMatrix:function _calcRotateMatrix(){return i.calcRotateMatrix(this)},_calcTranslateMatrix:function _calcTranslateMatrix(){var i=this.getCenterPoint();return[1,0,0,1,i.x,i.y]},transformMatrixKey:function transformMatrixKey(i){var o="";return!i&&this.group&&(o=this.group.transformMatrixKey(i)+"_"),o+this.top+"_"+this.left+"_"+this.scaleX+"_"+this.scaleY+"_"+this.skewX+"_"+this.skewY+"_"+this.angle+"_"+this.originX+"_"+this.originY+"_"+this.width+"_"+this.height+"_"+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function calcTransformMatrix(i){var o=this.calcOwnMatrix();if(i||!this.group)return o;var v=this.transformMatrixKey(i),w=this.matrixCache||(this.matrixCache={});return w.key===v?w.value:(this.group&&(o=a(this.group.calcTransformMatrix(!1),o)),w.key=v,w.value=o,o)},calcOwnMatrix:function calcOwnMatrix(){var o=this.transformMatrixKey(!0),a=this.ownMatrixCache||(this.ownMatrixCache={});if(a.key===o)return a.value;var v=this._calcTranslateMatrix(),w={angle:this.angle,translateX:v[4],translateY:v[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return a.key=o,a.value=i.composeMatrix(w),a.value},_calcDimensionsTransformMatrix:function _calcDimensionsTransformMatrix(o,a,v){return i.calcDimensionsMatrix({skewX:o,skewY:a,scaleX:this.scaleX*(v&&this.flipX?-1:1),scaleY:this.scaleY*(v&&this.flipY?-1:1)})},_getNonTransformedDimensions:function _getNonTransformedDimensions(){var i=this.strokeWidth;return{x:this.width+i,y:this.height+i}},_getTransformedDimensions:function _getTransformedDimensions(o,a){"undefined"===typeof o&&(o=this.skewX),"undefined"===typeof a&&(a=this.skewY);var v,w,E=this._getNonTransformedDimensions(),P=0===o&&0===a;if(this.strokeUniform?(v=this.width,w=this.height):(v=E.x,w=E.y),P)return this._finalizeDimensions(v*this.scaleX,w*this.scaleY);var D=i.sizeAfterTransform(v,w,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:o,skewY:a});return this._finalizeDimensions(D.x,D.y)},_finalizeDimensions:function _finalizeDimensions(i,o){return this.strokeUniform?{x:i+this.strokeWidth,y:o+this.strokeWidth}:{x:i,y:o}},_calculateCurrentDimensions:function _calculateCurrentDimensions(){var i=this.getViewportTransform(),o=this._getTransformedDimensions();return v(o,i,!0).scalarAdd(2*this.padding)}})}(),w.util.object.extend(w.Object.prototype,{sendToBack:function sendToBack(){return this.group?w.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function bringToFront(){return this.group?w.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function sendBackwards(i){return this.group?w.StaticCanvas.prototype.sendBackwards.call(this.group,this,i):this.canvas&&this.canvas.sendBackwards(this,i),this},bringForward:function bringForward(i){return this.group?w.StaticCanvas.prototype.bringForward.call(this.group,this,i):this.canvas&&this.canvas.bringForward(this,i),this},moveTo:function moveTo(i){return this.group&&"activeSelection"!==this.group.type?w.StaticCanvas.prototype.moveTo.call(this.group,this,i):this.canvas&&this.canvas.moveTo(this,i),this}}),function(){function getSvgColorString(i,o){if(o){if(o.toLive)return i+": url(#SVGID_"+o.id+"); ";var a=new w.Color(o),v=i+": "+a.toRgb()+"; ",E=a.getAlpha();return 1!==E&&(v+=i+"-opacity: "+E.toString()+"; "),v}return i+": none; "}var i=w.util.toFixed;w.util.object.extend(w.Object.prototype,{getSvgStyles:function getSvgStyles(i){var o=this.fillRule?this.fillRule:"nonzero",a=this.strokeWidth?this.strokeWidth:"0",v=this.strokeDashArray?this.strokeDashArray.join(" "):"none",w=this.strokeDashOffset?this.strokeDashOffset:"0",E=this.strokeLineCap?this.strokeLineCap:"butt",P=this.strokeLineJoin?this.strokeLineJoin:"miter",D=this.strokeMiterLimit?this.strokeMiterLimit:"4",j="undefined"!==typeof this.opacity?this.opacity:"1",B=this.visible?"":" visibility: hidden;",Q=i?"":this.getSvgFilter(),$=getSvgColorString("fill",this.fill);return[getSvgColorString("stroke",this.stroke),"stroke-width: ",a,"; ","stroke-dasharray: ",v,"; ","stroke-linecap: ",E,"; ","stroke-dashoffset: ",w,"; ","stroke-linejoin: ",P,"; ","stroke-miterlimit: ",D,"; ",$,"fill-rule: ",o,"; ","opacity: ",j,";",Q,B].join("")},getSvgSpanStyles:function getSvgSpanStyles(i,o){var a=i.fontFamily?"font-family: "+(-1===i.fontFamily.indexOf("'")&&-1===i.fontFamily.indexOf('"')?"'"+i.fontFamily+"'":i.fontFamily)+"; ":"",v=i.strokeWidth?"stroke-width: "+i.strokeWidth+"; ":"",w=(a=a,i.fontSize?"font-size: "+i.fontSize+"px; ":""),E=i.fontStyle?"font-style: "+i.fontStyle+"; ":"",P=i.fontWeight?"font-weight: "+i.fontWeight+"; ":"",D=i.fill?getSvgColorString("fill",i.fill):"",j=i.stroke?getSvgColorString("stroke",i.stroke):"",B=this.getSvgTextDecoration(i);return B&&(B="text-decoration: "+B+"; "),[j,v,a,w,E,P,B,D,i.deltaY?"baseline-shift: "+-i.deltaY+"; ":"",o?"white-space: pre; ":""].join("")},getSvgTextDecoration:function getSvgTextDecoration(i){return["overline","underline","line-through"].filter((function(o){return i[o.replace("-","")]})).join(" ")},getSvgFilter:function getSvgFilter(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function getSvgCommons(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function getSvgTransform(i,o){var a=i?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+w.util.matrixToSVG(a)+(o||"")+'" '},_setSVGBg:function _setSVGBg(o){if(this.backgroundColor){var a=w.Object.NUM_FRACTION_DIGITS;o.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',i(-this.width/2,a),'" y="',i(-this.height/2,a),'" width="',i(this.width,a),'" height="',i(this.height,a),'"></rect>\n')}},toSVG:function toSVG(i){return this._createBaseSVGMarkup(this._toSVG(i),{reviver:i})},toClipPathSVG:function toClipPathSVG(i){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(i),{reviver:i})},_createBaseClipPathSVGMarkup:function _createBaseClipPathSVGMarkup(i,o){var a=(o=o||{}).reviver,v=o.additionalTransform||"",w=[this.getSvgTransform(!0,v),this.getSvgCommons()].join(""),E=i.indexOf("COMMON_PARTS");return i[E]=w,a?a(i.join("")):i.join("")},_createBaseSVGMarkup:function _createBaseSVGMarkup(i,o){var a,v,E=(o=o||{}).noStyle,P=o.reviver,D=E?"":'style="'+this.getSvgStyles()+'" ',j=o.withShadow?'style="'+this.getSvgFilter()+'" ':"",B=this.clipPath,Q=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",$=B&&B.absolutePositioned,ee=this.stroke,te=this.fill,ne=this.shadow,ie=[],le=i.indexOf("COMMON_PARTS"),ue=o.additionalTransform;return B&&(B.clipPathId="CLIPPATH_"+w.Object.__uid++,v='<clipPath id="'+B.clipPathId+'" >\n'+B.toClipPathSVG(P)+"</clipPath>\n"),$&&ie.push("<g ",j,this.getSvgCommons()," >\n"),ie.push("<g ",this.getSvgTransform(!1),$?"":j+this.getSvgCommons()," >\n"),a=[D,Q,E?"":this.addPaintOrder()," ",ue?'transform="'+ue+'" ':""].join(""),i[le]=a,te&&te.toLive&&ie.push(te.toSVG(this)),ee&&ee.toLive&&ie.push(ee.toSVG(this)),ne&&ie.push(ne.toSVG(this)),B&&ie.push(v),ie.push(i.join("")),ie.push("</g>\n"),$&&ie.push("</g>\n"),P?P(ie.join("")):ie.join("")},addPaintOrder:function addPaintOrder(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var i=w.util.object.extend;function saveProps(o,a,v){var w={};v.forEach((function(i){w[i]=o[i]})),i(o[a],w,!0)}w.util.object.extend(w.Object.prototype,{hasStateChanged:function hasStateChanged(i){var o="_"+(i=i||"stateProperties");return Object.keys(this[o]).length<this[i].length||!function _isEqual(i,o,a){if(i===o)return!0;if(Array.isArray(i)){if(!Array.isArray(o)||i.length!==o.length)return!1;for(var v=0,w=i.length;v<w;v++)if(!_isEqual(i[v],o[v]))return!1;return!0}if(i&&"object"===typeof i){var E,P=Object.keys(i);if(!o||"object"!==typeof o||!a&&P.length!==Object.keys(o).length)return!1;for(v=0,w=P.length;v<w;v++)if("canvas"!==(E=P[v])&&"group"!==E&&!_isEqual(i[E],o[E]))return!1;return!0}}(this[o],this,!0)},saveState:function saveState(i){var o=i&&i.propertySet||"stateProperties",a="_"+o;return this[a]?(saveProps(this,a,this[o]),i&&i.stateProperties&&saveProps(this,a,i.stateProperties),this):this.setupState(i)},setupState:function setupState(i){var o=(i=i||{}).propertySet||"stateProperties";return i.propertySet=o,this["_"+o]={},this.saveState(i),this}})}(),function(){var i=w.util.degreesToRadians;w.util.object.extend(w.Object.prototype,{_findTargetCorner:function _findTargetCorner(i,o){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var a,v,w,E=i.x,P=i.y,D=Object.keys(this.oCoords),j=D.length-1;for(this.__corner=0;j>=0;j--)if(w=D[j],this.isControlVisible(w)&&(v=this._getImageLines(o?this.oCoords[w].touchCorner:this.oCoords[w].corner),0!==(a=this._findCrossPoints({x:E,y:P},v))&&a%2===1))return this.__corner=w,w;return!1},forEachControl:function forEachControl(i){for(var o in this.controls)i(this.controls[o],o,this)},_setCornerCoords:function _setCornerCoords(){var o,a,v=this.oCoords,E=i(45-this.angle),P=w.util.cos(E),D=w.util.sin(E),j=.707106*this.cornerSize,B=.707106*this.touchCornerSize,Q=j*P,$=j*D,ee=B*P,te=B*D;for(var ne in v)o=v[ne].x,a=v[ne].y,v[ne].corner={tl:{x:o-$,y:a-Q},tr:{x:o+Q,y:a-$},bl:{x:o-Q,y:a+$},br:{x:o+$,y:a+Q}},v[ne].touchCorner={tl:{x:o-te,y:a-ee},tr:{x:o+ee,y:a-te},bl:{x:o-ee,y:a+te},br:{x:o+te,y:a+ee}}},drawSelectionBackground:function drawSelectionBackground(o){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;o.save();var a=this.getCenterPoint(),v=this._calculateCurrentDimensions(),w=this.canvas.viewportTransform;return o.translate(a.x,a.y),o.scale(1/w[0],1/w[3]),o.rotate(i(this.angle)),o.fillStyle=this.selectionBackgroundColor,o.fillRect(-v.x/2,-v.y/2,v.x,v.y),o.restore(),this},drawBorders:function drawBorders(i,o){o=o||{};var a=this._calculateCurrentDimensions(),v=this.borderScaleFactor,w=a.x+v,E=a.y+v,P="undefined"!==typeof o.hasControls?o.hasControls:this.hasControls,D=!1;return i.save(),i.strokeStyle=o.borderColor||this.borderColor,this._setLineDash(i,o.borderDashArray||this.borderDashArray,null),i.strokeRect(-w/2,-E/2,w,E),P&&(i.beginPath(),this.forEachControl((function(o,a,v){o.withConnection&&o.getVisibility(v,a)&&(D=!0,i.moveTo(o.x*w,o.y*E),i.lineTo(o.x*w+o.offsetX,o.y*E+o.offsetY))})),D&&i.stroke()),i.restore(),this},drawBordersInGroup:function drawBordersInGroup(i,o,a){a=a||{};var v=w.util.sizeAfterTransform(this.width,this.height,o),E=this.strokeWidth,P=this.strokeUniform,D=this.borderScaleFactor,j=v.x+E*(P?this.canvas.getZoom():o.scaleX)+D,B=v.y+E*(P?this.canvas.getZoom():o.scaleY)+D;return i.save(),this._setLineDash(i,a.borderDashArray||this.borderDashArray,null),i.strokeStyle=a.borderColor||this.borderColor,i.strokeRect(-j/2,-B/2,j,B),i.restore(),this},drawControls:function drawControls(i,o){return o=o||{},i.save(),i.setTransform(this.canvas.getRetinaScaling(),0,0,this.canvas.getRetinaScaling(),0,0),i.strokeStyle=i.fillStyle=o.cornerColor||this.cornerColor,this.transparentCorners||(i.strokeStyle=o.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(i,o.cornerDashArray||this.cornerDashArray,null),this.setCoords(),this.forEachControl((function(a,v,w){a.getVisibility(w,v)&&a.render(i,w.oCoords[v].x,w.oCoords[v].y,o,w)})),i.restore(),this},isControlVisible:function isControlVisible(i){return this.controls[i]&&this.controls[i].getVisibility(this,i)},setControlVisible:function setControlVisible(i,o){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[i]=o,this},setControlsVisibility:function setControlsVisibility(i){for(var o in i||(i={}),i)this.setControlVisible(o,i[o]);return this},onDeselect:function onDeselect(){},onSelect:function onSelect(){}})}(),w.util.object.extend(w.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function fxCenterObjectH(i,o){var a=function empty(){},v=(o=o||{}).onComplete||a,E=o.onChange||a,P=this;return w.util.animate({startValue:i.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function onChange(o){i.set("left",o),P.requestRenderAll(),E()},onComplete:function onComplete(){i.setCoords(),v()}}),this},fxCenterObjectV:function fxCenterObjectV(i,o){var a=function empty(){},v=(o=o||{}).onComplete||a,E=o.onChange||a,P=this;return w.util.animate({startValue:i.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function onChange(o){i.set("top",o),P.requestRenderAll(),E()},onComplete:function onComplete(){i.setCoords(),v()}}),this},fxRemove:function fxRemove(i,o){var a=function empty(){},v=(o=o||{}).onComplete||a,E=o.onChange||a,P=this;return w.util.animate({startValue:i.opacity,endValue:0,duration:this.FX_DURATION,onChange:function onChange(o){i.set("opacity",o),P.requestRenderAll(),E()},onComplete:function onComplete(){P.remove(i),v()}}),this}}),w.util.object.extend(w.Object.prototype,{animate:function animate(){if(arguments[0]&&"object"===typeof arguments[0]){var i,o,a=[];for(i in arguments[0])a.push(i);for(var v=0,w=a.length;v<w;v++)i=a[v],o=v!==w-1,this._animate(i,arguments[0][i],arguments[1],o)}else this._animate.apply(this,arguments);return this},_animate:function _animate(i,o,a,v){var E,P=this;o=o.toString(),a=a?w.util.object.clone(a):{},~i.indexOf(".")&&(E=i.split("."));var D=P.colorProperties.indexOf(i)>-1||E&&P.colorProperties.indexOf(E[1])>-1,j=E?this.get(E[0])[E[1]]:this.get(i);"from"in a||(a.from=j),D||(o=~o.indexOf("=")?j+parseFloat(o.replace("=","")):parseFloat(o));var B={startValue:a.from,endValue:o,byValue:a.by,easing:a.easing,duration:a.duration,abort:a.abort&&function(){return a.abort.call(P)},onChange:function onChange(o,w,D){E?P[E[0]][E[1]]=o:P.set(i,o),v||a.onChange&&a.onChange(o,w,D)},onComplete:function onComplete(i,o,w){v||(P.setCoords(),a.onComplete&&a.onComplete(i,o,w))}};D?w.util.animateColor(B.startValue,B.endValue,B.duration,B):w.util.animate(B)}}),function(i){"use strict";var o=i.fabric||(i.fabric={}),a=o.util.object.extend,v=o.util.object.clone,w={x1:1,x2:1,y1:1,y2:1},E=o.StaticCanvas.supports("setLineDash");function makeEdgeToOriginGetter(i,o){var a=i.origin,v=i.axis1,w=i.axis2,E=i.dimension,P=o.nearest,D=o.center,j=o.farthest;return function(){switch(this.get(a)){case P:return Math.min(this.get(v),this.get(w));case D:return Math.min(this.get(v),this.get(w))+.5*this.get(E);case j:return Math.max(this.get(v),this.get(w))}}}o.Line?o.warn("fabric.Line is already defined"):(o.Line=o.util.createClass(o.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:o.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function initialize(i,o){i||(i=[0,0,0,0]),this.callSuper("initialize",o),this.set("x1",i[0]),this.set("y1",i[1]),this.set("x2",i[2]),this.set("y2",i[3]),this._setWidthHeight(o)},_setWidthHeight:function _setWidthHeight(i){i||(i={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in i?i.left:this._getLeftToOriginX(),this.top="top"in i?i.top:this._getTopToOriginY()},_set:function _set(i,o){return this.callSuper("_set",i,o),"undefined"!==typeof w[i]&&this._setWidthHeight(),this},_getLeftToOriginX:makeEdgeToOriginGetter({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:makeEdgeToOriginGetter({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function _render(i){if(i.beginPath(),!this.strokeDashArray||this.strokeDashArray&&E){var o=this.calcLinePoints();i.moveTo(o.x1,o.y1),i.lineTo(o.x2,o.y2)}i.lineWidth=this.strokeWidth;var a=i.strokeStyle;i.strokeStyle=this.stroke||i.fillStyle,this.stroke&&this._renderStroke(i),i.strokeStyle=a},_renderDashedStroke:function _renderDashedStroke(i){var a=this.calcLinePoints();i.beginPath(),o.util.drawDashedLine(i,a.x1,a.y1,a.x2,a.y2,this.strokeDashArray),i.closePath()},_findCenterFromElement:function _findCenterFromElement(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function toObject(i){return a(this.callSuper("toObject",i),this.calcLinePoints())},_getNonTransformedDimensions:function _getNonTransformedDimensions(){var i=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(i.y-=this.strokeWidth),0===this.height&&(i.x-=this.strokeWidth)),i},calcLinePoints:function calcLinePoints(){var i=this.x1<=this.x2?-1:1,o=this.y1<=this.y2?-1:1,a=i*this.width*.5,v=o*this.height*.5;return{x1:a,x2:i*this.width*-.5,y1:v,y2:o*this.height*-.5}},_toSVG:function _toSVG(){var i=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',i.x1,'" y1="',i.y1,'" x2="',i.x2,'" y2="',i.y2,'" />\n']}}),o.Line.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),o.Line.fromElement=function(i,v,w){w=w||{};var E=o.parseAttributes(i,o.Line.ATTRIBUTE_NAMES),P=[E.x1||0,E.y1||0,E.x2||0,E.y2||0];v(new o.Line(P,a(E,w)))},o.Line.fromObject=function(i,a){var w=v(i,!0);w.points=[i.x1,i.y1,i.x2,i.y2],o.Object._fromObject("Line",w,(function _callback(i){delete i.points,a&&a(i)}),"points")})}(o),function(i){"use strict";var o=i.fabric||(i.fabric={}),a=Math.PI;o.Circle?o.warn("fabric.Circle is already defined."):(o.Circle=o.util.createClass(o.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*a,cacheProperties:o.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function _set(i,o){return this.callSuper("_set",i,o),"radius"===i&&this.setRadius(o),this},toObject:function toObject(i){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(i))},_toSVG:function _toSVG(){var i,v=(this.endAngle-this.startAngle)%(2*a);if(0===v)i=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var w=o.util.cos(this.startAngle)*this.radius,E=o.util.sin(this.startAngle)*this.radius,P=o.util.cos(this.endAngle)*this.radius,D=o.util.sin(this.endAngle)*this.radius,j=v>a?"1":"0";i=['<path d="M '+w+" "+E," A "+this.radius+" "+this.radius," 0 ",+j+" 1"," "+P+" "+D,'" ',"COMMON_PARTS"," />\n"]}return i},_render:function _render(i){i.beginPath(),i.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(i)},getRadiusX:function getRadiusX(){return this.get("radius")*this.get("scaleX")},getRadiusY:function getRadiusY(){return this.get("radius")*this.get("scaleY")},setRadius:function setRadius(i){return this.radius=i,this.set("width",2*i).set("height",2*i)}}),o.Circle.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),o.Circle.fromElement=function(i,a){var v=o.parseAttributes(i,o.Circle.ATTRIBUTE_NAMES);if(!function isValidRadius(i){return"radius"in i&&i.radius>=0}(v))throw new Error("value of `r` attribute is required and can not be negative");v.left=(v.left||0)-v.radius,v.top=(v.top||0)-v.radius,a(new o.Circle(v))},o.Circle.fromObject=function(i,a){return o.Object._fromObject("Circle",i,a)})}(o),function(i){"use strict";var o=i.fabric||(i.fabric={});o.Triangle?o.warn("fabric.Triangle is already defined"):(o.Triangle=o.util.createClass(o.Object,{type:"triangle",width:100,height:100,_render:function _render(i){var o=this.width/2,a=this.height/2;i.beginPath(),i.moveTo(-o,a),i.lineTo(0,-a),i.lineTo(o,a),i.closePath(),this._renderPaintInOrder(i)},_renderDashedStroke:function _renderDashedStroke(i){var a=this.width/2,v=this.height/2;i.beginPath(),o.util.drawDashedLine(i,-a,v,0,-v,this.strokeDashArray),o.util.drawDashedLine(i,0,-v,a,v,this.strokeDashArray),o.util.drawDashedLine(i,a,v,-a,v,this.strokeDashArray),i.closePath()},_toSVG:function _toSVG(){var i=this.width/2,o=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-i+" "+o,"0 "+-o,i+" "+o].join(","),'" />']}}),o.Triangle.fromObject=function(i,a){return o.Object._fromObject("Triangle",i,a)})}(o),function(i){"use strict";var o=i.fabric||(i.fabric={}),a=2*Math.PI;o.Ellipse?o.warn("fabric.Ellipse is already defined."):(o.Ellipse=o.util.createClass(o.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:o.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function initialize(i){this.callSuper("initialize",i),this.set("rx",i&&i.rx||0),this.set("ry",i&&i.ry||0)},_set:function _set(i,o){switch(this.callSuper("_set",i,o),i){case"rx":this.rx=o,this.set("width",2*o);break;case"ry":this.ry=o,this.set("height",2*o)}return this},getRx:function getRx(){return this.get("rx")*this.get("scaleX")},getRy:function getRy(){return this.get("ry")*this.get("scaleY")},toObject:function toObject(i){return this.callSuper("toObject",["rx","ry"].concat(i))},_toSVG:function _toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function _render(i){i.beginPath(),i.save(),i.transform(1,0,0,this.ry/this.rx,0,0),i.arc(0,0,this.rx,0,a,!1),i.restore(),this._renderPaintInOrder(i)}}),o.Ellipse.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),o.Ellipse.fromElement=function(i,a){var v=o.parseAttributes(i,o.Ellipse.ATTRIBUTE_NAMES);v.left=(v.left||0)-v.rx,v.top=(v.top||0)-v.ry,a(new o.Ellipse(v))},o.Ellipse.fromObject=function(i,a){return o.Object._fromObject("Ellipse",i,a)})}(o),function(i){"use strict";var o=i.fabric||(i.fabric={}),a=o.util.object.extend;o.Rect?o.warn("fabric.Rect is already defined"):(o.Rect=o.util.createClass(o.Object,{stateProperties:o.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:o.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function initialize(i){this.callSuper("initialize",i),this._initRxRy()},_initRxRy:function _initRxRy(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function _render(i){var o=this.rx?Math.min(this.rx,this.width/2):0,a=this.ry?Math.min(this.ry,this.height/2):0,v=this.width,w=this.height,E=-this.width/2,P=-this.height/2,D=0!==o||0!==a,j=.4477152502;i.beginPath(),i.moveTo(E+o,P),i.lineTo(E+v-o,P),D&&i.bezierCurveTo(E+v-j*o,P,E+v,P+j*a,E+v,P+a),i.lineTo(E+v,P+w-a),D&&i.bezierCurveTo(E+v,P+w-j*a,E+v-j*o,P+w,E+v-o,P+w),i.lineTo(E+o,P+w),D&&i.bezierCurveTo(E+j*o,P+w,E,P+w-j*a,E,P+w-a),i.lineTo(E,P+a),D&&i.bezierCurveTo(E,P+j*a,E+j*o,P,E+o,P),i.closePath(),this._renderPaintInOrder(i)},_renderDashedStroke:function _renderDashedStroke(i){var a=-this.width/2,v=-this.height/2,w=this.width,E=this.height;i.beginPath(),o.util.drawDashedLine(i,a,v,a+w,v,this.strokeDashArray),o.util.drawDashedLine(i,a+w,v,a+w,v+E,this.strokeDashArray),o.util.drawDashedLine(i,a+w,v+E,a,v+E,this.strokeDashArray),o.util.drawDashedLine(i,a,v+E,a,v,this.strokeDashArray),i.closePath()},toObject:function toObject(i){return this.callSuper("toObject",["rx","ry"].concat(i))},_toSVG:function _toSVG(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),o.Rect.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),o.Rect.fromElement=function(i,v,w){if(!i)return v(null);w=w||{};var E=o.parseAttributes(i,o.Rect.ATTRIBUTE_NAMES);E.left=E.left||0,E.top=E.top||0,E.height=E.height||0,E.width=E.width||0;var P=new o.Rect(a(w?o.util.object.clone(w):{},E));P.visible=P.visible&&P.width>0&&P.height>0,v(P)},o.Rect.fromObject=function(i,a){return o.Object._fromObject("Rect",i,a)})}(o),function(i){"use strict";var o=i.fabric||(i.fabric={}),a=o.util.object.extend,v=o.util.array.min,w=o.util.array.max,E=o.util.toFixed;o.Polyline?o.warn("fabric.Polyline is already defined"):(o.Polyline=o.util.createClass(o.Object,{type:"polyline",points:null,cacheProperties:o.Object.prototype.cacheProperties.concat("points"),initialize:function initialize(i,o){o=o||{},this.points=i||[],this.callSuper("initialize",o),this._setPositionDimensions(o)},_setPositionDimensions:function _setPositionDimensions(i){var o,a=this._calcDimensions(i);this.width=a.width,this.height=a.height,i.fromSVG||(o=this.translateToGivenOrigin({x:a.left-this.strokeWidth/2,y:a.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),"undefined"===typeof i.left&&(this.left=i.fromSVG?a.left:o.x),"undefined"===typeof i.top&&(this.top=i.fromSVG?a.top:o.y),this.pathOffset={x:a.left+this.width/2,y:a.top+this.height/2}},_calcDimensions:function _calcDimensions(){var i=this.points,o=v(i,"x")||0,a=v(i,"y")||0;return{left:o,top:a,width:(w(i,"x")||0)-o,height:(w(i,"y")||0)-a}},toObject:function toObject(i){return a(this.callSuper("toObject",i),{points:this.points.concat()})},_toSVG:function _toSVG(){for(var i=[],a=this.pathOffset.x,v=this.pathOffset.y,w=o.Object.NUM_FRACTION_DIGITS,P=0,D=this.points.length;P<D;P++)i.push(E(this.points[P].x-a,w),",",E(this.points[P].y-v,w)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',i.join(""),'" />\n']},commonRender:function commonRender(i){var o,a=this.points.length,v=this.pathOffset.x,w=this.pathOffset.y;if(!a||isNaN(this.points[a-1].y))return!1;i.beginPath(),i.moveTo(this.points[0].x-v,this.points[0].y-w);for(var E=0;E<a;E++)o=this.points[E],i.lineTo(o.x-v,o.y-w);return!0},_render:function _render(i){this.commonRender(i)&&this._renderPaintInOrder(i)},_renderDashedStroke:function _renderDashedStroke(i){var a,v;i.beginPath();for(var w=0,E=this.points.length;w<E;w++)a=this.points[w],v=this.points[w+1]||a,o.util.drawDashedLine(i,a.x,a.y,v.x,v.y,this.strokeDashArray)},complexity:function complexity(){return this.get("points").length}}),o.Polyline.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat(),o.Polyline.fromElementGenerator=function(i){return function(v,w,E){if(!v)return w(null);E||(E={});var P=o.parsePointsAttribute(v.getAttribute("points")),D=o.parseAttributes(v,o[i].ATTRIBUTE_NAMES);D.fromSVG=!0,w(new o[i](P,a(D,E)))}},o.Polyline.fromElement=o.Polyline.fromElementGenerator("Polyline"),o.Polyline.fromObject=function(i,a){return o.Object._fromObject("Polyline",i,a,"points")})}(o),function(i){"use strict";var o=i.fabric||(i.fabric={});o.Polygon?o.warn("fabric.Polygon is already defined"):(o.Polygon=o.util.createClass(o.Polyline,{type:"polygon",_render:function _render(i){this.commonRender(i)&&(i.closePath(),this._renderPaintInOrder(i))},_renderDashedStroke:function _renderDashedStroke(i){this.callSuper("_renderDashedStroke",i),i.closePath()}}),o.Polygon.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat(),o.Polygon.fromElement=o.Polyline.fromElementGenerator("Polygon"),o.Polygon.fromObject=function(i,a){return o.Object._fromObject("Polygon",i,a,"points")})}(o),function(i){"use strict";var o=i.fabric||(i.fabric={}),a=o.util.array.min,v=o.util.array.max,w=o.util.object.extend,E=Object.prototype.toString,P=o.util.toFixed;o.Path?o.warn("fabric.Path is already defined"):(o.Path=o.util.createClass(o.Object,{type:"path",path:null,cacheProperties:o.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:o.Object.prototype.stateProperties.concat("path"),initialize:function initialize(i,a){a=a||{},this.callSuper("initialize",a),i||(i=[]);var v="[object Array]"===E.call(i);this.path=v?o.util.makePathSimpler(i):o.util.makePathSimpler(o.util.parsePath(i)),this.path&&o.Polyline.prototype._setPositionDimensions.call(this,a)},_renderPathCommands:function _renderPathCommands(i){var o,a=0,v=0,w=0,E=0,P=0,D=0,j=-this.pathOffset.x,B=-this.pathOffset.y;i.beginPath();for(var Q=0,$=this.path.length;Q<$;++Q)switch((o=this.path[Q])[0]){case"L":w=o[1],E=o[2],i.lineTo(w+j,E+B);break;case"M":a=w=o[1],v=E=o[2],i.moveTo(w+j,E+B);break;case"C":w=o[5],E=o[6],P=o[3],D=o[4],i.bezierCurveTo(o[1]+j,o[2]+B,P+j,D+B,w+j,E+B);break;case"Q":i.quadraticCurveTo(o[1]+j,o[2]+B,o[3]+j,o[4]+B),w=o[3],E=o[4],P=o[1],D=o[2];break;case"z":case"Z":w=a,E=v,i.closePath()}},_render:function _render(i){this._renderPathCommands(i),this._renderPaintInOrder(i)},toString:function toString(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function toObject(i){return w(this.callSuper("toObject",i),{path:this.path.map((function(i){return i.slice()}))})},toDatalessObject:function toDatalessObject(i){var o=this.toObject(["sourcePath"].concat(i));return o.sourcePath&&delete o.path,o},_toSVG:function _toSVG(){return["<path ","COMMON_PARTS",'d="',this.path.map((function(i){return i.join(" ")})).join(" "),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function _getOffsetTransform(){var i=o.Object.NUM_FRACTION_DIGITS;return" translate("+P(-this.pathOffset.x,i)+", "+P(-this.pathOffset.y,i)+")"},toClipPathSVG:function toClipPathSVG(i){var o=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:i,additionalTransform:o})},toSVG:function toSVG(i){var o=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:i,additionalTransform:o})},complexity:function complexity(){return this.path.length},_calcDimensions:function _calcDimensions(){for(var i,w,E=[],P=[],D=0,j=0,B=0,Q=0,$=0,ee=this.path.length;$<ee;++$){switch((i=this.path[$])[0]){case"L":B=i[1],Q=i[2],w=[];break;case"M":D=B=i[1],j=Q=i[2],w=[];break;case"C":w=o.util.getBoundsOfCurve(B,Q,i[1],i[2],i[3],i[4],i[5],i[6]),B=i[5],Q=i[6];break;case"Q":w=o.util.getBoundsOfCurve(B,Q,i[1],i[2],i[1],i[2],i[3],i[4]),B=i[3],Q=i[4];break;case"z":case"Z":B=D,Q=j}w.forEach((function(i){E.push(i.x),P.push(i.y)})),E.push(B),P.push(Q)}var te=a(E)||0,ne=a(P)||0;return{left:te,top:ne,width:(v(E)||0)-te,height:(v(P)||0)-ne}}}),o.Path.fromObject=function(i,a){if("string"===typeof i.sourcePath){var v=i.sourcePath;o.loadSVGFromURL(v,(function(o){var v=o[0];v.setOptions(i),a&&a(v)}))}else o.Object._fromObject("Path",i,a,"path")},o.Path.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat(["d"]),o.Path.fromElement=function(i,a,v){var E=o.parseAttributes(i,o.Path.ATTRIBUTE_NAMES);E.fromSVG=!0,a(new o.Path(E.d,w(E,v)))})}(o),function(i){"use strict";var o=i.fabric||(i.fabric={}),a=o.util.array.min,v=o.util.array.max;o.Group||(o.Group=o.util.createClass(o.Object,o.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function initialize(i,o,a){o=o||{},this._objects=[],a&&this.callSuper("initialize",o),this._objects=i||[];for(var v=this._objects.length;v--;)this._objects[v].group=this;if(a)this._updateObjectsACoords();else{var w=o&&o.centerPoint;void 0!==o.originX&&(this.originX=o.originX),void 0!==o.originY&&(this.originY=o.originY),w||this._calcBounds(),this._updateObjectsCoords(w),delete o.centerPoint,this.callSuper("initialize",o)}this.setCoords()},_updateObjectsACoords:function _updateObjectsACoords(){for(var i=this._objects.length;i--;)this._objects[i].setCoords(!0)},_updateObjectsCoords:function _updateObjectsCoords(i){i=i||this.getCenterPoint();for(var o=this._objects.length;o--;)this._updateObjectCoords(this._objects[o],i)},_updateObjectCoords:function _updateObjectCoords(i,o){var a=i.left,v=i.top;i.set({left:a-o.x,top:v-o.y}),i.group=this,i.setCoords(!0)},toString:function toString(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function addWithUpdate(i){return this._restoreObjectsState(),o.util.resetObjectTransform(this),i&&(this._objects.push(i),i.group=this,i._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},removeWithUpdate:function removeWithUpdate(i){return this._restoreObjectsState(),o.util.resetObjectTransform(this),this.remove(i),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function _onObjectAdded(i){this.dirty=!0,i.group=this,i._set("canvas",this.canvas)},_onObjectRemoved:function _onObjectRemoved(i){this.dirty=!0,delete i.group},_set:function _set(i,a){var v=this._objects.length;if(this.useSetOnGroup)for(;v--;)this._objects[v].setOnGroup(i,a);if("canvas"===i)for(;v--;)this._objects[v]._set(i,a);o.Object.prototype._set.call(this,i,a)},toObject:function toObject(i){var a=this.includeDefaultValues,v=this._objects.map((function(o){var v=o.includeDefaultValues;o.includeDefaultValues=a;var w=o.toObject(i);return o.includeDefaultValues=v,w})),w=o.Object.prototype.toObject.call(this,i);return w.objects=v,w},toDatalessObject:function toDatalessObject(i){var a,v=this.sourcePath;if(v)a=v;else{var w=this.includeDefaultValues;a=this._objects.map((function(o){var a=o.includeDefaultValues;o.includeDefaultValues=w;var v=o.toDatalessObject(i);return o.includeDefaultValues=a,v}))}var E=o.Object.prototype.toDatalessObject.call(this,i);return E.objects=a,E},render:function render(i){this._transformDone=!0,this.callSuper("render",i),this._transformDone=!1},shouldCache:function shouldCache(){var i=o.Object.prototype.shouldCache.call(this);if(i)for(var a=0,v=this._objects.length;a<v;a++)if(this._objects[a].willDrawShadow())return this.ownCaching=!1,!1;return i},willDrawShadow:function willDrawShadow(){if(o.Object.prototype.willDrawShadow.call(this))return!0;for(var i=0,a=this._objects.length;i<a;i++)if(this._objects[i].willDrawShadow())return!0;return!1},isOnACache:function isOnACache(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function drawObject(i){for(var o=0,a=this._objects.length;o<a;o++)this._objects[o].render(i);this._drawClipPath(i)},isCacheDirty:function isCacheDirty(i){if(this.callSuper("isCacheDirty",i))return!0;if(!this.statefullCache)return!1;for(var o=0,a=this._objects.length;o<a;o++)if(this._objects[o].isCacheDirty(!0)){if(this._cacheCanvas){var v=this.cacheWidth/this.zoomX,w=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-v/2,-w/2,v,w)}return!0}return!1},_restoreObjectsState:function _restoreObjectsState(){return this._objects.forEach(this._restoreObjectState,this),this},realizeTransform:function realizeTransform(i){var a=i.calcTransformMatrix(),v=o.util.qrDecompose(a),w=new o.Point(v.translateX,v.translateY);return i.flipX=!1,i.flipY=!1,i.set("scaleX",v.scaleX),i.set("scaleY",v.scaleY),i.skewX=v.skewX,i.skewY=v.skewY,i.angle=v.angle,i.setPositionByOrigin(w,"center","center"),i},_restoreObjectState:function _restoreObjectState(i){return this.realizeTransform(i),delete i.group,i.setCoords(),this},destroy:function destroy(){return this._objects.forEach((function(i){i.set("dirty",!0)})),this._restoreObjectsState()},toActiveSelection:function toActiveSelection(){if(this.canvas){var i=this._objects,a=this.canvas;this._objects=[];var v=this.toObject();delete v.objects;var w=new o.ActiveSelection([]);return w.set(v),w.type="activeSelection",a.remove(this),i.forEach((function(i){i.group=w,i.dirty=!0,a.add(i)})),w.canvas=a,w._objects=i,a._activeObject=w,w.setCoords(),w}},ungroupOnCanvas:function ungroupOnCanvas(){return this._restoreObjectsState()},setObjectsCoords:function setObjectsCoords(){return this.forEachObject((function(i){i.setCoords(!0)})),this},_calcBounds:function _calcBounds(i){for(var o,a,v,w=[],E=[],P=["tr","br","bl","tl"],D=0,j=this._objects.length,B=P.length;D<j;++D)for((o=this._objects[D]).aCoords=o.calcACoords(),v=0;v<B;v++)a=P[v],w.push(o.aCoords[a].x),E.push(o.aCoords[a].y);this._getBounds(w,E,i)},_getBounds:function _getBounds(i,w,E){var P=new o.Point(a(i),a(w)),D=new o.Point(v(i),v(w)),j=P.y||0,B=P.x||0,Q=D.x-P.x||0,$=D.y-P.y||0;this.width=Q,this.height=$,E||this.setPositionByOrigin({x:B,y:j},"left","top")},_toSVG:function _toSVG(i){for(var o=["<g ","COMMON_PARTS"," >\n"],a=0,v=this._objects.length;a<v;a++)o.push("\t\t",this._objects[a].toSVG(i));return o.push("</g>\n"),o},getSvgStyles:function getSvgStyles(){var i="undefined"!==typeof this.opacity&&1!==this.opacity?"opacity: "+this.opacity+";":"",o=this.visible?"":" visibility: hidden;";return[i,this.getSvgFilter(),o].join("")},toClipPathSVG:function toClipPathSVG(i){for(var o=[],a=0,v=this._objects.length;a<v;a++)o.push("\t",this._objects[a].toClipPathSVG(i));return this._createBaseClipPathSVGMarkup(o,{reviver:i})}}),o.Group.fromObject=function(i,a){var v=i.objects,w=o.util.object.clone(i,!0);delete w.objects,"string"!==typeof v?o.util.enlivenObjects(v,(function(v){o.util.enlivenObjects([i.clipPath],(function(w){var E=o.util.object.clone(i,!0);E.clipPath=w[0],delete E.objects,a&&a(new o.Group(v,E,!0))}))})):o.loadSVGFromURL(v,(function(E){var P=o.util.groupSVGElements(E,i,v);P.set(w),a&&a(P)}))})}(o),function(i){"use strict";var o=i.fabric||(i.fabric={});o.ActiveSelection||(o.ActiveSelection=o.util.createClass(o.Group,{type:"activeSelection",initialize:function initialize(i,a){a=a||{},this._objects=i||[];for(var v=this._objects.length;v--;)this._objects[v].group=this;a.originX&&(this.originX=a.originX),a.originY&&(this.originY=a.originY),this._calcBounds(),this._updateObjectsCoords(),o.Object.prototype.initialize.call(this,a),this.setCoords()},toGroup:function toGroup(){var i=this._objects.concat();this._objects=[];var a=o.Object.prototype.toObject.call(this),v=new o.Group([]);if(delete a.type,v.set(a),i.forEach((function(i){i.canvas.remove(i),i.group=v})),v._objects=i,!this.canvas)return v;var w=this.canvas;return w.add(v),w._activeObject=v,v.setCoords(),v},onDeselect:function onDeselect(){return this.destroy(),!1},toString:function toString(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function shouldCache(){return!1},isOnACache:function isOnACache(){return!1},_renderControls:function _renderControls(i,o,a){i.save(),i.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",i,o),"undefined"===typeof(a=a||{}).hasControls&&(a.hasControls=!1),a.forActiveSelection=!0;for(var v=0,w=this._objects.length;v<w;v++)this._objects[v]._renderControls(i,a);i.restore()}}),o.ActiveSelection.fromObject=function(i,a){o.util.enlivenObjects(i.objects,(function(v){delete i.objects,a&&a(new o.ActiveSelection(v,i,!0))}))})}(o),function(i){"use strict";var o=w.util.object.extend;i.fabric||(i.fabric={}),i.fabric.Image?w.warn("fabric.Image is already defined."):(w.Image=w.util.createClass(w.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:w.Object.prototype.stateProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function initialize(i,o){o||(o={}),this.filters=[],this.cacheKey="texture"+w.Object.__uid++,this.callSuper("initialize",o),this._initElement(i,o)},getElement:function getElement(){return this._element||{}},setElement:function setElement(i,o){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=i,this._originalElement=i,this._initConfig(o),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function removeTexture(i){var o=w.filterBackend;o&&o.evictCachesForKey&&o.evictCachesForKey(i)},dispose:function dispose(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(i){w.util.cleanUpJsdomNode(this[i]),this[i]=void 0}.bind(this))},getCrossOrigin:function getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function getOriginalSize(){var i=this.getElement();return{width:i.naturalWidth||i.width,height:i.naturalHeight||i.height}},_stroke:function _stroke(i){if(this.stroke&&0!==this.strokeWidth){var o=this.width/2,a=this.height/2;i.beginPath(),i.moveTo(-o,-a),i.lineTo(o,-a),i.lineTo(o,a),i.lineTo(-o,a),i.lineTo(-o,-a),i.closePath()}},_renderDashedStroke:function _renderDashedStroke(i){var o=-this.width/2,a=-this.height/2,v=this.width,E=this.height;i.save(),this._setStrokeStyles(i,this),i.beginPath(),w.util.drawDashedLine(i,o,a,o+v,a,this.strokeDashArray),w.util.drawDashedLine(i,o+v,a,o+v,a+E,this.strokeDashArray),w.util.drawDashedLine(i,o+v,a+E,o,a+E,this.strokeDashArray),w.util.drawDashedLine(i,o,a+E,o,a,this.strokeDashArray),i.closePath(),i.restore()},toObject:function toObject(i){var a=[];this.filters.forEach((function(i){i&&a.push(i.toObject())}));var v=o(this.callSuper("toObject",["cropX","cropY"].concat(i)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:a});return this.resizeFilter&&(v.resizeFilter=this.resizeFilter.toObject()),v},hasCrop:function hasCrop(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function _toSVG(){var i,o=[],a=[],v=this._element,E=-this.width/2,P=-this.height/2,D="",j="";if(!v)return[];if(this.hasCrop()){var B=w.Object.__uid++;o.push('<clipPath id="imageCrop_'+B+'">\n','\t<rect x="'+E+'" y="'+P+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),D=' clip-path="url(#imageCrop_'+B+')" '}if(this.imageSmoothing||(j='" image-rendering="optimizeSpeed'),a.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',E-this.cropX,'" y="',P-this.cropY,'" width="',v.width||v.naturalWidth,'" height="',v.height||v.height,j,'"',D,"></image>\n"),this.stroke||this.strokeDashArray){var Q=this.fill;this.fill=null,i=["\t<rect ",'x="',E,'" y="',P,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=Q}return o="fill"!==this.paintFirst?o.concat(i,a):o.concat(a,i)},getSrc:function getSrc(i){var o=i?this._element:this._originalElement;return o?o.toDataURL?o.toDataURL():this.srcFromAttribute?o.getAttribute("src"):o.src:this.src||""},setSrc:function setSrc(i,o,a){return w.util.loadImage(i,(function(i,v){this.setElement(i,a),this._setWidthHeight(),o&&o(this,v)}),this,a&&a.crossOrigin),this},toString:function toString(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function applyResizeFilters(){var i=this.resizeFilter,o=this.minimumScaleTrigger,a=this.getTotalObjectScaling(),v=a.scaleX,E=a.scaleY,P=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!i||v>o&&E>o)return this._element=P,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=v,void(this._lastScaleY=E);w.filterBackend||(w.filterBackend=w.initFilterBackend());var D=w.util.createCanvasElement(),j=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,B=P.width,Q=P.height;D.width=B,D.height=Q,this._element=D,this._lastScaleX=i.scaleX=v,this._lastScaleY=i.scaleY=E,w.filterBackend.applyFilters([i],P,B,Q,this._element,j),this._filterScalingX=D.width/this._originalElement.width,this._filterScalingY=D.height/this._originalElement.height},applyFilters:function applyFilters(i){if(i=(i=i||this.filters||[]).filter((function(i){return i&&!i.isNeutralState()})),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===i.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var o=this._originalElement,a=o.naturalWidth||o.width,v=o.naturalHeight||o.height;if(this._element===this._originalElement){var E=w.util.createCanvasElement();E.width=a,E.height=v,this._element=E,this._filteredEl=E}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,a,v),this._lastScaleX=1,this._lastScaleY=1;return w.filterBackend||(w.filterBackend=w.initFilterBackend()),w.filterBackend.applyFilters(i,this._originalElement,a,v,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function _render(i){w.util.setImageSmoothing(i,this.imageSmoothing),!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(i),this._renderPaintInOrder(i)},drawCacheOnCanvas:function drawCacheOnCanvas(i){w.util.setImageSmoothing(i,this.imageSmoothing),w.Object.prototype.drawCacheOnCanvas.call(this,i)},shouldCache:function shouldCache(){return this.needsItsOwnCache()},_renderFill:function _renderFill(i){var o=this._element;if(o){var a=this._filterScalingX,v=this._filterScalingY,w=this.width,E=this.height,P=Math.min,D=Math.max,j=D(this.cropX,0),B=D(this.cropY,0),Q=o.naturalWidth||o.width,$=o.naturalHeight||o.height,ee=j*a,te=B*v,ne=P(w*a,Q-ee),ie=P(E*v,$-te),le=-w/2,ue=-E/2,fe=P(w,Q/a-j),he=P(E,$/a-B);o&&i.drawImage(o,ee,te,ne,ie,le,ue,fe,he)}},_needsResize:function _needsResize(){var i=this.getTotalObjectScaling();return i.scaleX!==this._lastScaleX||i.scaleY!==this._lastScaleY},_resetWidthHeight:function _resetWidthHeight(){this.set(this.getOriginalSize())},_initElement:function _initElement(i,o){this.setElement(w.util.getById(i),o),w.util.addClass(this.getElement(),w.Image.CSS_CANVAS)},_initConfig:function _initConfig(i){i||(i={}),this.setOptions(i),this._setWidthHeight(i)},_initFilters:function _initFilters(i,o){i&&i.length?w.util.enlivenObjects(i,(function(i){o&&o(i)}),"fabric.Image.filters"):o&&o()},_setWidthHeight:function _setWidthHeight(i){i||(i={});var o=this.getElement();this.width=i.width||o.naturalWidth||o.width||0,this.height=i.height||o.naturalHeight||o.height||0},parsePreserveAspectRatioAttribute:function parsePreserveAspectRatioAttribute(){var i,o=w.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),a=this._element.width,v=this._element.height,E=1,P=1,D=0,j=0,B=0,Q=0,$=this.width,ee=this.height,te={width:$,height:ee};return!o||"none"===o.alignX&&"none"===o.alignY?(E=$/a,P=ee/v):("meet"===o.meetOrSlice&&(i=($-a*(E=P=w.util.findScaleToFit(this._element,te)))/2,"Min"===o.alignX&&(D=-i),"Max"===o.alignX&&(D=i),i=(ee-v*P)/2,"Min"===o.alignY&&(j=-i),"Max"===o.alignY&&(j=i)),"slice"===o.meetOrSlice&&(i=a-$/(E=P=w.util.findScaleToCover(this._element,te)),"Mid"===o.alignX&&(B=i/2),"Max"===o.alignX&&(B=i),i=v-ee/P,"Mid"===o.alignY&&(Q=i/2),"Max"===o.alignY&&(Q=i),a=$/E,v=ee/P)),{width:a,height:v,scaleX:E,scaleY:P,offsetLeft:D,offsetTop:j,cropX:B,cropY:Q}}}),w.Image.CSS_CANVAS="canvas-img",w.Image.prototype.getSvgSrc=w.Image.prototype.getSrc,w.Image.fromObject=function(i,o){var a=w.util.object.clone(i);w.util.loadImage(a.src,(function(i,v){v?o&&o(null,!0):w.Image.prototype._initFilters.call(a,a.filters,(function(v){a.filters=v||[],w.Image.prototype._initFilters.call(a,[a.resizeFilter],(function(v){a.resizeFilter=v[0],w.util.enlivenObjects([a.clipPath],(function(v){a.clipPath=v[0];var E=new w.Image(i,a);o(E,!1)}))}))}))}),null,a.crossOrigin)},w.Image.fromURL=function(i,o,a){w.util.loadImage(i,(function(i,v){o&&o(new w.Image(i,a),v)}),null,a&&a.crossOrigin)},w.Image.ATTRIBUTE_NAMES=w.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),w.Image.fromElement=function(i,a,v){var E=w.parseAttributes(i,w.Image.ATTRIBUTE_NAMES);w.Image.fromURL(E["xlink:href"],a,o(v?w.util.object.clone(v):{},E))})}(o),w.util.object.extend(w.Object.prototype,{_getAngleValueForStraighten:function _getAngleValueForStraighten(){var i=this.angle%360;return i>0?90*Math.round((i-1)/90):90*Math.round(i/90)},straighten:function straighten(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function fxStraighten(i){var o=function empty(){},a=(i=i||{}).onComplete||o,v=i.onChange||o,E=this;return w.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function onChange(i){E.rotate(i),v()},onComplete:function onComplete(){E.setCoords(),a()}}),this}}),w.util.object.extend(w.StaticCanvas.prototype,{straightenObject:function straightenObject(i){return i.straighten(),this.requestRenderAll(),this},fxStraightenObject:function fxStraightenObject(i){return i.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){"use strict";function testPrecision(i,o){var a="precision "+o+" float;\nvoid main(){}",v=i.createShader(i.FRAGMENT_SHADER);return i.shaderSource(v,a),i.compileShader(v),!!i.getShaderParameter(v,i.COMPILE_STATUS)}function WebglFilterBackend(i){i&&i.tileSize&&(this.tileSize=i.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}w.isWebglSupported=function(i){if(w.isLikelyNode)return!1;i=i||w.WebglFilterBackend.prototype.tileSize;var o=document.createElement("canvas"),a=o.getContext("webgl")||o.getContext("experimental-webgl"),v=!1;if(a){w.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE),v=w.maxTextureSize>=i;for(var E=["highp","mediump","lowp"],P=0;P<3;P++)if(testPrecision(a,E[P])){w.webGlPrecision=E[P];break}}return this.isSupported=v,v},w.WebglFilterBackend=WebglFilterBackend,WebglFilterBackend.prototype={tileSize:2048,resources:{},setupGLContext:function setupGLContext(i,o){this.dispose(),this.createWebGLCanvas(i,o),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(i,o)},chooseFastestCopyGLTo2DMethod:function chooseFastestCopyGLTo2DMethod(i,o){var a,v="undefined"!==typeof window.performance;try{new ImageData(1,1),a=!0}catch(ee){a=!1}var E="undefined"!==typeof ArrayBuffer,P="undefined"!==typeof Uint8ClampedArray;if(v&&a&&E&&P){var D=w.util.createCanvasElement(),j=new ArrayBuffer(i*o*4);if(w.forceGLPutImageData)return this.imageBuffer=j,void(this.copyGLTo2D=copyGLTo2DPutImageData);var B,Q,$={imageBuffer:j,destinationWidth:i,destinationHeight:o,targetCanvas:D};D.width=i,D.height=o,B=window.performance.now(),copyGLTo2DDrawImage.call($,this.gl,$),Q=window.performance.now()-B,B=window.performance.now(),copyGLTo2DPutImageData.call($,this.gl,$),Q>window.performance.now()-B?(this.imageBuffer=j,this.copyGLTo2D=copyGLTo2DPutImageData):this.copyGLTo2D=copyGLTo2DDrawImage}},createWebGLCanvas:function createWebGLCanvas(i,o){var a=w.util.createCanvasElement();a.width=i,a.height=o;var v={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},E=a.getContext("webgl",v);E||(E=a.getContext("experimental-webgl",v)),E&&(E.clearColor(0,0,0,0),this.canvas=a,this.gl=E)},applyFilters:function applyFilters(i,o,a,v,w,E){var P,D=this.gl;E&&(P=this.getCachedTexture(E,o));var j={originalWidth:o.width||o.originalWidth,originalHeight:o.height||o.originalHeight,sourceWidth:a,sourceHeight:v,destinationWidth:a,destinationHeight:v,context:D,sourceTexture:this.createTexture(D,a,v,!P&&o),targetTexture:this.createTexture(D,a,v),originalTexture:P||this.createTexture(D,a,v,!P&&o),passes:i.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:w},B=D.createFramebuffer();return D.bindFramebuffer(D.FRAMEBUFFER,B),i.forEach((function(i){i&&i.applyTo(j)})),function resizeCanvasIfNeeded(i){var o=i.targetCanvas,a=o.width,v=o.height,w=i.destinationWidth,E=i.destinationHeight;a===w&&v===E||(o.width=w,o.height=E)}(j),this.copyGLTo2D(D,j),D.bindTexture(D.TEXTURE_2D,null),D.deleteTexture(j.sourceTexture),D.deleteTexture(j.targetTexture),D.deleteFramebuffer(B),w.getContext("2d").setTransform(1,0,0,1,0,0),j},dispose:function dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function clearWebGLCaches(){this.programCache={},this.textureCache={}},createTexture:function createTexture(i,o,a,v){var w=i.createTexture();return i.bindTexture(i.TEXTURE_2D,w),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),v?i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,v):i.texImage2D(i.TEXTURE_2D,0,i.RGBA,o,a,0,i.RGBA,i.UNSIGNED_BYTE,null),w},getCachedTexture:function getCachedTexture(i,o){if(this.textureCache[i])return this.textureCache[i];var a=this.createTexture(this.gl,o.width,o.height,o);return this.textureCache[i]=a,a},evictCachesForKey:function evictCachesForKey(i){this.textureCache[i]&&(this.gl.deleteTexture(this.textureCache[i]),delete this.textureCache[i])},copyGLTo2D:copyGLTo2DDrawImage,captureGPUInfo:function captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;var i=this.gl,o={renderer:"",vendor:""};if(!i)return o;var a=i.getExtension("WEBGL_debug_renderer_info");if(a){var v=i.getParameter(a.UNMASKED_RENDERER_WEBGL),w=i.getParameter(a.UNMASKED_VENDOR_WEBGL);v&&(o.renderer=v.toLowerCase()),w&&(o.vendor=w.toLowerCase())}return this.gpuInfo=o,o}}}(),function(){"use strict";var i=function noop(){};function Canvas2dFilterBackend(){}w.Canvas2dFilterBackend=Canvas2dFilterBackend,Canvas2dFilterBackend.prototype={evictCachesForKey:i,dispose:i,clearWebGLCaches:i,resources:{},applyFilters:function applyFilters(i,o,a,v,w){var E=w.getContext("2d");E.drawImage(o,0,0,a,v);var P={sourceWidth:a,sourceHeight:v,imageData:E.getImageData(0,0,a,v),originalEl:o,originalImageData:E.getImageData(0,0,a,v),canvasEl:w,ctx:E,filterBackend:this};return i.forEach((function(i){i.applyTo(P)})),P.imageData.width===a&&P.imageData.height===v||(w.width=P.imageData.width,w.height=P.imageData.height),E.putImageData(P.imageData,0,0),P}}}(),w.Image=w.Image||{},w.Image.filters=w.Image.filters||{},w.Image.filters.BaseFilter=w.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function initialize(i){i&&this.setOptions(i)},setOptions:function setOptions(i){for(var o in i)this[o]=i[o]},createProgram:function createProgram(i,o,a){o=o||this.fragmentSource,a=a||this.vertexSource,"highp"!==w.webGlPrecision&&(o=o.replace(/precision highp float/g,"precision "+w.webGlPrecision+" float"));var v=i.createShader(i.VERTEX_SHADER);if(i.shaderSource(v,a),i.compileShader(v),!i.getShaderParameter(v,i.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+i.getShaderInfoLog(v));var E=i.createShader(i.FRAGMENT_SHADER);if(i.shaderSource(E,o),i.compileShader(E),!i.getShaderParameter(E,i.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+i.getShaderInfoLog(E));var P=i.createProgram();if(i.attachShader(P,v),i.attachShader(P,E),i.linkProgram(P),!i.getProgramParameter(P,i.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+i.getProgramInfoLog(P));var D=this.getAttributeLocations(i,P),j=this.getUniformLocations(i,P)||{};return j.uStepW=i.getUniformLocation(P,"uStepW"),j.uStepH=i.getUniformLocation(P,"uStepH"),{program:P,attributeLocations:D,uniformLocations:j}},getAttributeLocations:function getAttributeLocations(i,o){return{aPosition:i.getAttribLocation(o,"aPosition")}},getUniformLocations:function getUniformLocations(){return{}},sendAttributeData:function sendAttributeData(i,o,a){var v=o.aPosition,w=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,w),i.enableVertexAttribArray(v),i.vertexAttribPointer(v,2,i.FLOAT,!1,0,0),i.bufferData(i.ARRAY_BUFFER,a,i.STATIC_DRAW)},_setupFrameBuffer:function _setupFrameBuffer(i){var o,a,v=i.context;i.passes>1?(o=i.destinationWidth,a=i.destinationHeight,i.sourceWidth===o&&i.sourceHeight===a||(v.deleteTexture(i.targetTexture),i.targetTexture=i.filterBackend.createTexture(v,o,a)),v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,i.targetTexture,0)):(v.bindFramebuffer(v.FRAMEBUFFER,null),v.finish())},_swapTextures:function _swapTextures(i){i.passes--,i.pass++;var o=i.targetTexture;i.targetTexture=i.sourceTexture,i.sourceTexture=o},isNeutralState:function isNeutralState(){var i=this.mainParameter,o=w.Image.filters[this.type].prototype;if(i){if(Array.isArray(o[i])){for(var a=o[i].length;a--;)if(this[i][a]!==o[i][a])return!1;return!0}return o[i]===this[i]}return!1},applyTo:function applyTo(i){i.webgl?(this._setupFrameBuffer(i),this.applyToWebGL(i),this._swapTextures(i)):this.applyTo2d(i)},retrieveShader:function retrieveShader(i){return i.programCache.hasOwnProperty(this.type)||(i.programCache[this.type]=this.createProgram(i.context)),i.programCache[this.type]},applyToWebGL:function applyToWebGL(i){var o=i.context,a=this.retrieveShader(i);0===i.pass&&i.originalTexture?o.bindTexture(o.TEXTURE_2D,i.originalTexture):o.bindTexture(o.TEXTURE_2D,i.sourceTexture),o.useProgram(a.program),this.sendAttributeData(o,a.attributeLocations,i.aPosition),o.uniform1f(a.uniformLocations.uStepW,1/i.sourceWidth),o.uniform1f(a.uniformLocations.uStepH,1/i.sourceHeight),this.sendUniformData(o,a.uniformLocations),o.viewport(0,0,i.destinationWidth,i.destinationHeight),o.drawArrays(o.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function bindAdditionalTexture(i,o,a){i.activeTexture(a),i.bindTexture(i.TEXTURE_2D,o),i.activeTexture(i.TEXTURE0)},unbindAdditionalTexture:function unbindAdditionalTexture(i,o){i.activeTexture(o),i.bindTexture(i.TEXTURE_2D,null),i.activeTexture(i.TEXTURE0)},getMainParameter:function getMainParameter(){return this[this.mainParameter]},setMainParameter:function setMainParameter(i){this[this.mainParameter]=i},sendUniformData:function sendUniformData(){},createHelpLayer:function createHelpLayer(i){if(!i.helpLayer){var o=document.createElement("canvas");o.width=i.sourceWidth,o.height=i.sourceHeight,i.helpLayer=o}},toObject:function toObject(){var i={type:this.type},o=this.mainParameter;return o&&(i[o]=this[o]),i},toJSON:function toJSON(){return this.toObject()}}),w.Image.filters.BaseFilter.fromObject=function(i,o){var a=new w.Image.filters[i.type](i);return o&&o(a),a},function(i){"use strict";var o=i.fabric||(i.fabric={}),a=o.Image.filters,v=o.util.createClass;a.ColorMatrix=v(a.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function initialize(i){this.callSuper("initialize",i),this.matrix=this.matrix.slice(0)},applyTo2d:function applyTo2d(i){var o,a,v,w,E,P=i.imageData.data,D=P.length,j=this.matrix,B=this.colorsOnly;for(E=0;E<D;E+=4)o=P[E],a=P[E+1],v=P[E+2],B?(P[E]=o*j[0]+a*j[1]+v*j[2]+255*j[4],P[E+1]=o*j[5]+a*j[6]+v*j[7]+255*j[9],P[E+2]=o*j[10]+a*j[11]+v*j[12]+255*j[14]):(w=P[E+3],P[E]=o*j[0]+a*j[1]+v*j[2]+w*j[3]+255*j[4],P[E+1]=o*j[5]+a*j[6]+v*j[7]+w*j[8]+255*j[9],P[E+2]=o*j[10]+a*j[11]+v*j[12]+w*j[13]+255*j[14],P[E+3]=o*j[15]+a*j[16]+v*j[17]+w*j[18]+255*j[19])},getUniformLocations:function getUniformLocations(i,o){return{uColorMatrix:i.getUniformLocation(o,"uColorMatrix"),uConstants:i.getUniformLocation(o,"uConstants")}},sendUniformData:function sendUniformData(i,o){var a=this.matrix,v=[a[0],a[1],a[2],a[3],a[5],a[6],a[7],a[8],a[10],a[11],a[12],a[13],a[15],a[16],a[17],a[18]],w=[a[4],a[9],a[14],a[19]];i.uniformMatrix4fv(o.uColorMatrix,!1,v),i.uniform4fv(o.uConstants,w)}}),o.Image.filters.ColorMatrix.fromObject=o.Image.filters.BaseFilter.fromObject}(o),function(i){"use strict";var o=i.fabric||(i.fabric={}),a=o.Image.filters,v=o.util.createClass;a.Brightness=v(a.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function applyTo2d(i){if(0!==this.brightness){var o,a=i.imageData.data,v=a.length,w=Math.round(255*this.brightness);for(o=0;o<v;o+=4)a[o]=a[o]+w,a[o+1]=a[o+1]+w,a[o+2]=a[o+2]+w}},getUniformLocations:function getUniformLocations(i,o){return{uBrightness:i.getUniformLocation(o,"uBrightness")}},sendUniformData:function sendUniformData(i,o){i.uniform1f(o.uBrightness,this.brightness)}}),o.Image.filters.Brightness.fromObject=o.Image.filters.BaseFilter.fromObject}(o),function(i){"use strict";var o=i.fabric||(i.fabric={}),a=o.util.object.extend,v=o.Image.filters,w=o.util.createClass;v.Convolute=w(v.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function retrieveShader(i){var o=Math.sqrt(this.matrix.length),a=this.type+"_"+o+"_"+(this.opaque?1:0),v=this.fragmentSource[a];return i.programCache.hasOwnProperty(a)||(i.programCache[a]=this.createProgram(i.context,v)),i.programCache[a]},applyTo2d:function applyTo2d(i){var o,a,v,w,E,P,D,j,B,Q,$,ee,te,ne=i.imageData,ie=ne.data,le=this.matrix,ue=Math.round(Math.sqrt(le.length)),fe=Math.floor(ue/2),he=ne.width,ge=ne.height,me=i.ctx.createImageData(he,ge),ye=me.data,_e=this.opaque?1:0;for($=0;$<ge;$++)for(Q=0;Q<he;Q++){for(E=4*($*he+Q),o=0,a=0,v=0,w=0,te=0;te<ue;te++)for(ee=0;ee<ue;ee++)P=Q+ee-fe,(D=$+te-fe)<0||D>=ge||P<0||P>=he||(j=4*(D*he+P),B=le[te*ue+ee],o+=ie[j]*B,a+=ie[j+1]*B,v+=ie[j+2]*B,_e||(w+=ie[j+3]*B));ye[E]=o,ye[E+1]=a,ye[E+2]=v,ye[E+3]=_e?ie[E+3]:w}i.imageData=me},getUniformLocations:function getUniformLocations(i,o){return{uMatrix:i.getUniformLocation(o,"uMatrix"),uOpaque:i.getUniformLocation(o,"uOpaque"),uHalfSize:i.getUniformLocation(o,"uHalfSize"),uSize:i.getUniformLocation(o,"uSize")}},sendUniformData:function sendUniformData(i,o){i.uniform1fv(o.uMatrix,this.matrix)},toObject:function toObject(){return a(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),o.Image.filters.Convolute.fromObject=o.Image.filters.BaseFilter.fromObject}(o),function(i){"use strict";var o=i.fabric||(i.fabric={}),a=o.Image.filters,v=o.util.createClass;a.Grayscale=v(a.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function applyTo2d(i){var o,a,v=i.imageData.data,w=v.length,E=this.mode;for(o=0;o<w;o+=4)"average"===E?a=(v[o]+v[o+1]+v[o+2])/3:"lightness"===E?a=(Math.min(v[o],v[o+1],v[o+2])+Math.max(v[o],v[o+1],v[o+2]))/2:"luminosity"===E&&(a=.21*v[o]+.72*v[o+1]+.07*v[o+2]),v[o]=a,v[o+1]=a,v[o+2]=a},retrieveShader:function retrieveShader(i){var o=this.type+"_"+this.mode;if(!i.programCache.hasOwnProperty(o)){var a=this.fragmentSource[this.mode];i.programCache[o]=this.createProgram(i.context,a)}return i.programCache[o]},getUniformLocations:function getUniformLocations(i,o){return{uMode:i.getUniformLocation(o,"uMode")}},sendUniformData:function sendUniformData(i,o){i.uniform1i(o.uMode,1)},isNeutralState:function isNeutralState(){return!1}}),o.Image.filters.Grayscale.fromObject=o.Image.filters.BaseFilter.fromObject}(o),function(i){"use strict";var o=i.fabric||(i.fabric={}),a=o.Image.filters,v=o.util.createClass;a.Invert=v(a.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function applyTo2d(i){var o,a=i.imageData.data,v=a.length;for(o=0;o<v;o+=4)a[o]=255-a[o],a[o+1]=255-a[o+1],a[o+2]=255-a[o+2]},isNeutralState:function isNeutralState(){return!this.invert},getUniformLocations:function getUniformLocations(i,o){return{uInvert:i.getUniformLocation(o,"uInvert")}},sendUniformData:function sendUniformData(i,o){i.uniform1i(o.uInvert,this.invert)}}),o.Image.filters.Invert.fromObject=o.Image.filters.BaseFilter.fromObject}(o),function(i){"use strict";var o=i.fabric||(i.fabric={}),a=o.util.object.extend,v=o.Image.filters,w=o.util.createClass;v.Noise=w(v.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function applyTo2d(i){if(0!==this.noise){var o,a,v=i.imageData.data,w=v.length,E=this.noise;for(o=0,w=v.length;o<w;o+=4)a=(.5-Math.random())*E,v[o]+=a,v[o+1]+=a,v[o+2]+=a}},getUniformLocations:function getUniformLocations(i,o){return{uNoise:i.getUniformLocation(o,"uNoise"),uSeed:i.getUniformLocation(o,"uSeed")}},sendUniformData:function sendUniformData(i,o){i.uniform1f(o.uNoise,this.noise/255),i.uniform1f(o.uSeed,Math.random())},toObject:function toObject(){return a(this.callSuper("toObject"),{noise:this.noise})}}),o.Image.filters.Noise.fromObject=o.Image.filters.BaseFilter.fromObject}(o),function(i){"use strict";var o=i.fabric||(i.fabric={}),a=o.Image.filters,v=o.util.createClass;a.Pixelate=v(a.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function applyTo2d(i){var o,a,v,w,E,P,D,j,B,Q,$,ee=i.imageData,te=ee.data,ne=ee.height,ie=ee.width;for(a=0;a<ne;a+=this.blocksize)for(v=0;v<ie;v+=this.blocksize)for(w=te[o=4*a*ie+4*v],E=te[o+1],P=te[o+2],D=te[o+3],Q=Math.min(a+this.blocksize,ne),$=Math.min(v+this.blocksize,ie),j=a;j<Q;j++)for(B=v;B<$;B++)te[o=4*j*ie+4*B]=w,te[o+1]=E,te[o+2]=P,te[o+3]=D},isNeutralState:function isNeutralState(){return 1===this.blocksize},getUniformLocations:function getUniformLocations(i,o){return{uBlocksize:i.getUniformLocation(o,"uBlocksize"),uStepW:i.getUniformLocation(o,"uStepW"),uStepH:i.getUniformLocation(o,"uStepH")}},sendUniformData:function sendUniformData(i,o){i.uniform1f(o.uBlocksize,this.blocksize)}}),o.Image.filters.Pixelate.fromObject=o.Image.filters.BaseFilter.fromObject}(o),function(i){"use strict";var o=i.fabric||(i.fabric={}),a=o.util.object.extend,v=o.Image.filters,w=o.util.createClass;v.RemoveColor=w(v.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function applyTo2d(i){var a,v,w,E,P=i.imageData.data,D=255*this.distance,j=new o.Color(this.color).getSource(),B=[j[0]-D,j[1]-D,j[2]-D],Q=[j[0]+D,j[1]+D,j[2]+D];for(a=0;a<P.length;a+=4)v=P[a],w=P[a+1],E=P[a+2],v>B[0]&&w>B[1]&&E>B[2]&&v<Q[0]&&w<Q[1]&&E<Q[2]&&(P[a+3]=0)},getUniformLocations:function getUniformLocations(i,o){return{uLow:i.getUniformLocation(o,"uLow"),uHigh:i.getUniformLocation(o,"uHigh")}},sendUniformData:function sendUniformData(i,a){var v=new o.Color(this.color).getSource(),w=parseFloat(this.distance),E=[0+v[0]/255-w,0+v[1]/255-w,0+v[2]/255-w,1],P=[v[0]/255+w,v[1]/255+w,v[2]/255+w,1];i.uniform4fv(a.uLow,E),i.uniform4fv(a.uHigh,P)},toObject:function toObject(){return a(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),o.Image.filters.RemoveColor.fromObject=o.Image.filters.BaseFilter.fromObject}(o),function(i){"use strict";var o=i.fabric||(i.fabric={}),a=o.Image.filters,v=o.util.createClass,w={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var E in w)a[E]=v(a.ColorMatrix,{type:E,matrix:w[E],mainParameter:!1,colorsOnly:!0}),o.Image.filters[E].fromObject=o.Image.filters.BaseFilter.fromObject}(o),function(i){"use strict";var o=i.fabric,a=o.Image.filters,v=o.util.createClass;a.BlendColor=v(a.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function buildSource(i){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[i]+"}\n}"},retrieveShader:function retrieveShader(i){var o,a=this.type+"_"+this.mode;return i.programCache.hasOwnProperty(a)||(o=this.buildSource(this.mode),i.programCache[a]=this.createProgram(i.context,o)),i.programCache[a]},applyTo2d:function applyTo2d(i){var a,v,w,E,P,D,j,B=i.imageData.data,Q=B.length,$=1-this.alpha;a=(j=new o.Color(this.color).getSource())[0]*this.alpha,v=j[1]*this.alpha,w=j[2]*this.alpha;for(var ee=0;ee<Q;ee+=4)switch(E=B[ee],P=B[ee+1],D=B[ee+2],this.mode){case"multiply":B[ee]=E*a/255,B[ee+1]=P*v/255,B[ee+2]=D*w/255;break;case"screen":B[ee]=255-(255-E)*(255-a)/255,B[ee+1]=255-(255-P)*(255-v)/255,B[ee+2]=255-(255-D)*(255-w)/255;break;case"add":B[ee]=E+a,B[ee+1]=P+v,B[ee+2]=D+w;break;case"diff":case"difference":B[ee]=Math.abs(E-a),B[ee+1]=Math.abs(P-v),B[ee+2]=Math.abs(D-w);break;case"subtract":B[ee]=E-a,B[ee+1]=P-v,B[ee+2]=D-w;break;case"darken":B[ee]=Math.min(E,a),B[ee+1]=Math.min(P,v),B[ee+2]=Math.min(D,w);break;case"lighten":B[ee]=Math.max(E,a),B[ee+1]=Math.max(P,v),B[ee+2]=Math.max(D,w);break;case"overlay":B[ee]=a<128?2*E*a/255:255-2*(255-E)*(255-a)/255,B[ee+1]=v<128?2*P*v/255:255-2*(255-P)*(255-v)/255,B[ee+2]=w<128?2*D*w/255:255-2*(255-D)*(255-w)/255;break;case"exclusion":B[ee]=a+E-2*a*E/255,B[ee+1]=v+P-2*v*P/255,B[ee+2]=w+D-2*w*D/255;break;case"tint":B[ee]=a+E*$,B[ee+1]=v+P*$,B[ee+2]=w+D*$}},getUniformLocations:function getUniformLocations(i,o){return{uColor:i.getUniformLocation(o,"uColor")}},sendUniformData:function sendUniformData(i,a){var v=new o.Color(this.color).getSource();v[0]=this.alpha*v[0]/255,v[1]=this.alpha*v[1]/255,v[2]=this.alpha*v[2]/255,v[3]=this.alpha,i.uniform4fv(a.uColor,v)},toObject:function toObject(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),o.Image.filters.BlendColor.fromObject=o.Image.filters.BaseFilter.fromObject}(o),function(i){"use strict";var o=i.fabric,a=o.Image.filters,v=o.util.createClass;a.BlendImage=v(a.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function retrieveShader(i){var o=this.type+"_"+this.mode,a=this.fragmentSource[this.mode];return i.programCache.hasOwnProperty(o)||(i.programCache[o]=this.createProgram(i.context,a)),i.programCache[o]},applyToWebGL:function applyToWebGL(i){var o=i.context,a=this.createTexture(i.filterBackend,this.image);this.bindAdditionalTexture(o,a,o.TEXTURE1),this.callSuper("applyToWebGL",i),this.unbindAdditionalTexture(o,o.TEXTURE1)},createTexture:function createTexture(i,o){return i.getCachedTexture(o.cacheKey,o._element)},calculateMatrix:function calculateMatrix(){var i=this.image,o=i._element.width,a=i._element.height;return[1/i.scaleX,0,0,0,1/i.scaleY,0,-i.left/o,-i.top/a,1]},applyTo2d:function applyTo2d(i){var a,v,w,E,P,D,j,B,Q,$,ee,te=i.imageData,ne=i.filterBackend.resources,ie=te.data,le=ie.length,ue=te.width,fe=te.height,he=this.image;ne.blendImage||(ne.blendImage=o.util.createCanvasElement()),$=(Q=ne.blendImage).getContext("2d"),Q.width!==ue||Q.height!==fe?(Q.width=ue,Q.height=fe):$.clearRect(0,0,ue,fe),$.setTransform(he.scaleX,0,0,he.scaleY,he.left,he.top),$.drawImage(he._element,0,0,ue,fe),ee=$.getImageData(0,0,ue,fe).data;for(var ge=0;ge<le;ge+=4)switch(P=ie[ge],D=ie[ge+1],j=ie[ge+2],B=ie[ge+3],a=ee[ge],v=ee[ge+1],w=ee[ge+2],E=ee[ge+3],this.mode){case"multiply":ie[ge]=P*a/255,ie[ge+1]=D*v/255,ie[ge+2]=j*w/255,ie[ge+3]=B*E/255;break;case"mask":ie[ge+3]=E}},getUniformLocations:function getUniformLocations(i,o){return{uTransformMatrix:i.getUniformLocation(o,"uTransformMatrix"),uImage:i.getUniformLocation(o,"uImage")}},sendUniformData:function sendUniformData(i,o){var a=this.calculateMatrix();i.uniform1i(o.uImage,1),i.uniformMatrix3fv(o.uTransformMatrix,!1,a)},toObject:function toObject(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),o.Image.filters.BlendImage.fromObject=function(i,a){o.Image.fromObject(i.image,(function(v){var w=o.util.object.clone(i);w.image=v,a(new o.Image.filters.BlendImage(w))}))}}(o),function(i){"use strict";var o=i.fabric||(i.fabric={}),a=Math.pow,v=Math.floor,w=Math.sqrt,E=Math.abs,P=Math.round,D=Math.sin,j=Math.ceil,B=o.Image.filters,Q=o.util.createClass;B.Resize=Q(B.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function getUniformLocations(i,o){return{uDelta:i.getUniformLocation(o,"uDelta"),uTaps:i.getUniformLocation(o,"uTaps")}},sendUniformData:function sendUniformData(i,o){i.uniform2fv(o.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),i.uniform1fv(o.uTaps,this.taps)},retrieveShader:function retrieveShader(i){var o=this.getFilterWindow(),a=this.type+"_"+o;if(!i.programCache.hasOwnProperty(a)){var v=this.generateShader(o);i.programCache[a]=this.createProgram(i.context,v)}return i.programCache[a]},getFilterWindow:function getFilterWindow(){var i=this.tempScale;return Math.ceil(this.lanczosLobes/i)},getTaps:function getTaps(){for(var i=this.lanczosCreate(this.lanczosLobes),o=this.tempScale,a=this.getFilterWindow(),v=new Array(a),w=1;w<=a;w++)v[w-1]=i(w*o);return v},generateShader:function generateShader(i){for(var o=new Array(i),a=this.fragmentSourceTOP,v=1;v<=i;v++)o[v-1]=v+".0 * uDelta";return a+="uniform float uTaps["+i+"];\n",a+="void main() {\n",a+="  vec4 color = texture2D(uTexture, vTexCoord);\n",a+="  float sum = 1.0;\n",o.forEach((function(i,o){a+="  color += texture2D(uTexture, vTexCoord + "+i+") * uTaps["+o+"];\n",a+="  color += texture2D(uTexture, vTexCoord - "+i+") * uTaps["+o+"];\n",a+="  sum += 2.0 * uTaps["+o+"];\n"})),a+="  gl_FragColor = color / sum;\n",a+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function applyTo(i){i.webgl?(i.passes++,this.width=i.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=i.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),i.destinationWidth=this.dW,this._setupFrameBuffer(i),this.applyToWebGL(i),this._swapTextures(i),i.sourceWidth=i.destinationWidth,this.height=i.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),i.destinationHeight=this.dH,this._setupFrameBuffer(i),this.applyToWebGL(i),this._swapTextures(i),i.sourceHeight=i.destinationHeight):this.applyTo2d(i)},isNeutralState:function isNeutralState(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function lanczosCreate(i){return function(o){if(o>=i||o<=-i)return 0;if(o<1.1920929e-7&&o>-1.1920929e-7)return 1;var a=(o*=Math.PI)/i;return D(o)/o*D(a)/a}},applyTo2d:function applyTo2d(i){var o=i.imageData,a=this.scaleX,v=this.scaleY;this.rcpScaleX=1/a,this.rcpScaleY=1/v;var w,E=o.width,D=o.height,j=P(E*a),B=P(D*v);"sliceHack"===this.resizeType?w=this.sliceByTwo(i,E,D,j,B):"hermite"===this.resizeType?w=this.hermiteFastResize(i,E,D,j,B):"bilinear"===this.resizeType?w=this.bilinearFiltering(i,E,D,j,B):"lanczos"===this.resizeType&&(w=this.lanczosResize(i,E,D,j,B)),i.imageData=w},sliceByTwo:function sliceByTwo(i,a,w,E,P){var D,j,B=i.imageData,Q=!1,$=!1,ee=.5*a,te=.5*w,ne=o.filterBackend.resources,ie=0,le=0,ue=a,fe=0;for(ne.sliceByTwo||(ne.sliceByTwo=document.createElement("canvas")),((D=ne.sliceByTwo).width<1.5*a||D.height<w)&&(D.width=1.5*a,D.height=w),(j=D.getContext("2d")).clearRect(0,0,1.5*a,w),j.putImageData(B,0,0),E=v(E),P=v(P);!Q||!$;)a=ee,w=te,E<v(.5*ee)?ee=v(.5*ee):(ee=E,Q=!0),P<v(.5*te)?te=v(.5*te):(te=P,$=!0),j.drawImage(D,ie,le,a,w,ue,fe,ee,te),ie=ue,le=fe,fe+=te;return j.getImageData(ie,le,E,P)},lanczosResize:function lanczosResize(i,o,P,D,B){var Q=i.imageData.data,$=i.ctx.createImageData(D,B),ee=$.data,te=this.lanczosCreate(this.lanczosLobes),ne=this.rcpScaleX,ie=this.rcpScaleY,le=2/this.rcpScaleX,ue=2/this.rcpScaleY,fe=j(ne*this.lanczosLobes/2),he=j(ie*this.lanczosLobes/2),ge={},me={},ye={};return function process(i){var j,_e,we,Se,Te,ke,Pe,De,Me,je,Re;for(me.x=(i+.5)*ne,ye.x=v(me.x),j=0;j<B;j++){for(me.y=(j+.5)*ie,ye.y=v(me.y),Te=0,ke=0,Pe=0,De=0,Me=0,_e=ye.x-fe;_e<=ye.x+fe;_e++)if(!(_e<0||_e>=o)){je=v(1e3*E(_e-me.x)),ge[je]||(ge[je]={});for(var Le=ye.y-he;Le<=ye.y+he;Le++)Le<0||Le>=P||(Re=v(1e3*E(Le-me.y)),ge[je][Re]||(ge[je][Re]=te(w(a(je*le,2)+a(Re*ue,2))/1e3)),(we=ge[je][Re])>0&&(Te+=we,ke+=we*Q[Se=4*(Le*o+_e)],Pe+=we*Q[Se+1],De+=we*Q[Se+2],Me+=we*Q[Se+3]))}ee[Se=4*(j*D+i)]=ke/Te,ee[Se+1]=Pe/Te,ee[Se+2]=De/Te,ee[Se+3]=Me/Te}return++i<D?process(i):$}(0)},bilinearFiltering:function bilinearFiltering(i,o,a,w,E){var P,D,j,B,Q,$,ee,te,ne,ie=0,le=this.rcpScaleX,ue=this.rcpScaleY,fe=4*(o-1),he=i.imageData.data,ge=i.ctx.createImageData(w,E),me=ge.data;for(j=0;j<E;j++)for(B=0;B<w;B++)for(Q=le*B-(P=v(le*B)),$=ue*j-(D=v(ue*j)),ne=4*(D*o+P),ee=0;ee<4;ee++)te=he[ne+ee]*(1-Q)*(1-$)+he[ne+4+ee]*Q*(1-$)+he[ne+fe+ee]*$*(1-Q)+he[ne+fe+4+ee]*Q*$,me[ie++]=te;return ge},hermiteFastResize:function hermiteFastResize(i,o,a,P,D){for(var B=this.rcpScaleX,Q=this.rcpScaleY,$=j(B/2),ee=j(Q/2),te=i.imageData.data,ne=i.ctx.createImageData(P,D),ie=ne.data,le=0;le<D;le++)for(var ue=0;ue<P;ue++){for(var fe=4*(ue+le*P),he=0,ge=0,me=0,ye=0,_e=0,we=0,Se=0,Te=(le+.5)*Q,ke=v(le*Q);ke<(le+1)*Q;ke++)for(var Pe=E(Te-(ke+.5))/ee,De=(ue+.5)*B,Me=Pe*Pe,je=v(ue*B);je<(ue+1)*B;je++){var Re=E(De-(je+.5))/$,Le=w(Me+Re*Re);Le>1&&Le<-1||(he=2*Le*Le*Le-3*Le*Le+1)>0&&(Se+=he*te[(Re=4*(je+ke*o))+3],me+=he,te[Re+3]<255&&(he=he*te[Re+3]/250),ye+=he*te[Re],_e+=he*te[Re+1],we+=he*te[Re+2],ge+=he)}ie[fe]=ye/ge,ie[fe+1]=_e/ge,ie[fe+2]=we/ge,ie[fe+3]=Se/me}return ne},toObject:function toObject(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),o.Image.filters.Resize.fromObject=o.Image.filters.BaseFilter.fromObject}(o),function(i){"use strict";var o=i.fabric||(i.fabric={}),a=o.Image.filters,v=o.util.createClass;a.Contrast=v(a.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function applyTo2d(i){if(0!==this.contrast){var o,a=i.imageData.data,v=a.length,w=Math.floor(255*this.contrast),E=259*(w+255)/(255*(259-w));for(o=0;o<v;o+=4)a[o]=E*(a[o]-128)+128,a[o+1]=E*(a[o+1]-128)+128,a[o+2]=E*(a[o+2]-128)+128}},getUniformLocations:function getUniformLocations(i,o){return{uContrast:i.getUniformLocation(o,"uContrast")}},sendUniformData:function sendUniformData(i,o){i.uniform1f(o.uContrast,this.contrast)}}),o.Image.filters.Contrast.fromObject=o.Image.filters.BaseFilter.fromObject}(o),function(i){"use strict";var o=i.fabric||(i.fabric={}),a=o.Image.filters,v=o.util.createClass;a.Saturation=v(a.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function applyTo2d(i){if(0!==this.saturation){var o,a,v=i.imageData.data,w=v.length,E=-this.saturation;for(o=0;o<w;o+=4)a=Math.max(v[o],v[o+1],v[o+2]),v[o]+=a!==v[o]?(a-v[o])*E:0,v[o+1]+=a!==v[o+1]?(a-v[o+1])*E:0,v[o+2]+=a!==v[o+2]?(a-v[o+2])*E:0}},getUniformLocations:function getUniformLocations(i,o){return{uSaturation:i.getUniformLocation(o,"uSaturation")}},sendUniformData:function sendUniformData(i,o){i.uniform1f(o.uSaturation,-this.saturation)}}),o.Image.filters.Saturation.fromObject=o.Image.filters.BaseFilter.fromObject}(o),function(i){"use strict";var o=i.fabric||(i.fabric={}),a=o.Image.filters,v=o.util.createClass;a.Blur=v(a.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function applyTo(i){i.webgl?(this.aspectRatio=i.sourceWidth/i.sourceHeight,i.passes++,this._setupFrameBuffer(i),this.horizontal=!0,this.applyToWebGL(i),this._swapTextures(i),this._setupFrameBuffer(i),this.horizontal=!1,this.applyToWebGL(i),this._swapTextures(i)):this.applyTo2d(i)},applyTo2d:function applyTo2d(i){i.imageData=this.simpleBlur(i)},simpleBlur:function simpleBlur(i){var a,v,w=i.filterBackend.resources,E=i.imageData.width,P=i.imageData.height;w.blurLayer1||(w.blurLayer1=o.util.createCanvasElement(),w.blurLayer2=o.util.createCanvasElement()),a=w.blurLayer1,v=w.blurLayer2,a.width===E&&a.height===P||(v.width=a.width=E,v.height=a.height=P);var D,j,B,Q,$=a.getContext("2d"),ee=v.getContext("2d"),te=.06*this.blur*.5;for($.putImageData(i.imageData,0,0),ee.clearRect(0,0,E,P),Q=-15;Q<=15;Q++)B=te*(j=Q/15)*E+(D=(Math.random()-.5)/4),ee.globalAlpha=1-Math.abs(j),ee.drawImage(a,B,D),$.drawImage(v,0,0),ee.globalAlpha=1,ee.clearRect(0,0,v.width,v.height);for(Q=-15;Q<=15;Q++)B=te*(j=Q/15)*P+(D=(Math.random()-.5)/4),ee.globalAlpha=1-Math.abs(j),ee.drawImage(a,D,B),$.drawImage(v,0,0),ee.globalAlpha=1,ee.clearRect(0,0,v.width,v.height);i.ctx.drawImage(a,0,0);var ne=i.ctx.getImageData(0,0,a.width,a.height);return $.globalAlpha=1,$.clearRect(0,0,a.width,a.height),ne},getUniformLocations:function getUniformLocations(i,o){return{delta:i.getUniformLocation(o,"uDelta")}},sendUniformData:function sendUniformData(i,o){var a=this.chooseRightDelta();i.uniform2fv(o.delta,a)},chooseRightDelta:function chooseRightDelta(){var i,o=1,a=[0,0];return this.horizontal?this.aspectRatio>1&&(o=1/this.aspectRatio):this.aspectRatio<1&&(o=this.aspectRatio),i=o*this.blur*.12,this.horizontal?a[0]=i:a[1]=i,a}}),a.Blur.fromObject=o.Image.filters.BaseFilter.fromObject}(o),function(i){"use strict";var o=i.fabric||(i.fabric={}),a=o.Image.filters,v=o.util.createClass;a.Gamma=v(a.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function initialize(i){this.gamma=[1,1,1],a.BaseFilter.prototype.initialize.call(this,i)},applyTo2d:function applyTo2d(i){var o,a=i.imageData.data,v=this.gamma,w=a.length,E=1/v[0],P=1/v[1],D=1/v[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),o=0,w=256;o<w;o++)this.rVals[o]=255*Math.pow(o/255,E),this.gVals[o]=255*Math.pow(o/255,P),this.bVals[o]=255*Math.pow(o/255,D);for(o=0,w=a.length;o<w;o+=4)a[o]=this.rVals[a[o]],a[o+1]=this.gVals[a[o+1]],a[o+2]=this.bVals[a[o+2]]},getUniformLocations:function getUniformLocations(i,o){return{uGamma:i.getUniformLocation(o,"uGamma")}},sendUniformData:function sendUniformData(i,o){i.uniform3fv(o.uGamma,this.gamma)}}),o.Image.filters.Gamma.fromObject=o.Image.filters.BaseFilter.fromObject}(o),function(i){"use strict";var o=i.fabric||(i.fabric={}),a=o.Image.filters,v=o.util.createClass;a.Composed=v(a.BaseFilter,{type:"Composed",subFilters:[],initialize:function initialize(i){this.callSuper("initialize",i),this.subFilters=this.subFilters.slice(0)},applyTo:function applyTo(i){i.passes+=this.subFilters.length-1,this.subFilters.forEach((function(o){o.applyTo(i)}))},toObject:function toObject(){return o.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map((function(i){return i.toObject()}))})},isNeutralState:function isNeutralState(){return!this.subFilters.some((function(i){return!i.isNeutralState()}))}}),o.Image.filters.Composed.fromObject=function(i,a){var v=(i.subFilters||[]).map((function(i){return new o.Image.filters[i.type](i)})),w=new o.Image.filters.Composed({subFilters:v});return a&&a(w),w}}(o),function(i){"use strict";var o=i.fabric||(i.fabric={}),a=o.Image.filters,v=o.util.createClass;a.HueRotation=v(a.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function calculateMatrix(){var i=this.rotation*Math.PI,a=o.util.cos(i),v=o.util.sin(i),w=Math.sqrt(1/3)*v,E=1-a;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=a+E/3,this.matrix[1]=1/3*E-w,this.matrix[2]=1/3*E+w,this.matrix[5]=1/3*E+w,this.matrix[6]=a+1/3*E,this.matrix[7]=1/3*E-w,this.matrix[10]=1/3*E-w,this.matrix[11]=1/3*E+w,this.matrix[12]=a+1/3*E},isNeutralState:function isNeutralState(i){return this.calculateMatrix(),a.BaseFilter.prototype.isNeutralState.call(this,i)},applyTo:function applyTo(i){this.calculateMatrix(),a.BaseFilter.prototype.applyTo.call(this,i)}}),o.Image.filters.HueRotation.fromObject=o.Image.filters.BaseFilter.fromObject}(o),function(i){"use strict";var o=i.fabric||(i.fabric={}),a=o.util.object.clone;o.Text?o.warn("fabric.Text is already defined"):(o.Text=o.util.createClass(o.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:o.Object.prototype.stateProperties.concat("fontFamily","fontWeight","fontSize","text","underline","overline","linethrough","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),cacheProperties:o.Object.prototype.cacheProperties.concat("fontFamily","fontWeight","fontSize","text","underline","overline","linethrough","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),stroke:null,shadow:null,_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function initialize(i,o){this.styles=o&&o.styles||{},this.text=i,this.__skipDimension=!0,this.callSuper("initialize",o),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},getMeasuringContext:function getMeasuringContext(){return o._measuringContext||(o._measuringContext=this.canvas&&this.canvas.contextCache||o.util.createCanvasElement().getContext("2d")),o._measuringContext},_splitText:function _splitText(){var i=this._splitTextIntoLines(this.text);return this.textLines=i.lines,this._textLines=i.graphemeLines,this._unwrappedTextLines=i._unwrappedLines,this._text=i.graphemeText,i},initDimensions:function initDimensions(){this.__skipDimension||(this._splitText(),this._clearCache(),this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function enlargeSpaces(){for(var i,o,a,v,w,E,P,D=0,j=this._textLines.length;D<j;D++)if(("justify"===this.textAlign||D!==j-1&&!this.isEndOfWrapping(D))&&(v=0,w=this._textLines[D],(o=this.getLineWidth(D))<this.width&&(P=this.textLines[D].match(this._reSpacesAndTabs)))){a=P.length,i=(this.width-o)/a;for(var B=0,Q=w.length;B<=Q;B++)E=this.__charBounds[D][B],this._reSpaceAndTab.test(w[B])?(E.width+=i,E.kernedWidth+=i,E.left+=v,v+=i):E.left+=v}},isEndOfWrapping:function isEndOfWrapping(i){return i===this._textLines.length-1},missingNewlineOffset:function missingNewlineOffset(){return 1},toString:function toString(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function _getCacheCanvasDimensions(){var i=this.callSuper("_getCacheCanvasDimensions"),o=this.fontSize;return i.width+=o*i.zoomX,i.height+=o*i.zoomY,i},_render:function _render(i){this._setTextStyles(i),this._renderTextLinesBackground(i),this._renderTextDecoration(i,"underline"),this._renderText(i),this._renderTextDecoration(i,"overline"),this._renderTextDecoration(i,"linethrough")},_renderText:function _renderText(i){"stroke"===this.paintFirst?(this._renderTextStroke(i),this._renderTextFill(i)):(this._renderTextFill(i),this._renderTextStroke(i))},_setTextStyles:function _setTextStyles(i,o,a){i.textBaseline="alphabetic",i.font=this._getFontDeclaration(o,a)},calcTextWidth:function calcTextWidth(){for(var i=this.getLineWidth(0),o=1,a=this._textLines.length;o<a;o++){var v=this.getLineWidth(o);v>i&&(i=v)}return i},_renderTextLine:function _renderTextLine(i,o,a,v,w,E){this._renderChars(i,o,a,v,w,E)},_renderTextLinesBackground:function _renderTextLinesBackground(i){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var o,a,v,w,E,P,D=0,j=i.fillStyle,B=this._getLeftOffset(),Q=this._getTopOffset(),$=0,ee=0,te=0,ne=this._textLines.length;te<ne;te++)if(o=this.getHeightOfLine(te),this.textBackgroundColor||this.styleHas("textBackgroundColor",te)){v=this._textLines[te],a=this._getLineLeftOffset(te),ee=0,$=0,w=this.getValueOfPropertyAt(te,0,"textBackgroundColor");for(var ie=0,le=v.length;ie<le;ie++)E=this.__charBounds[te][ie],(P=this.getValueOfPropertyAt(te,ie,"textBackgroundColor"))!==w?(i.fillStyle=w,w&&i.fillRect(B+a+$,Q+D,ee,o/this.lineHeight),$=E.left,ee=E.width,w=P):ee+=E.kernedWidth;P&&(i.fillStyle=P,i.fillRect(B+a+$,Q+D,ee,o/this.lineHeight)),D+=o}else D+=o;i.fillStyle=j,this._removeShadow(i)}},getFontCache:function getFontCache(i){var a=i.fontFamily.toLowerCase();o.charWidthsCache[a]||(o.charWidthsCache[a]={});var v=o.charWidthsCache[a],w=i.fontStyle.toLowerCase()+"_"+(i.fontWeight+"").toLowerCase();return v[w]||(v[w]={}),v[w]},_applyCharStyles:function _applyCharStyles(i,o,a,v,w){this._setFillStyles(o,w),this._setStrokeStyles(o,w),o.font=this._getFontDeclaration(w)},_measureChar:function _measureChar(i,o,a,v){var w,E,P,D,j=this.getFontCache(o),B=a+i,Q=this._getFontDeclaration(o)===this._getFontDeclaration(v),$=o.fontSize/this.CACHE_FONT_SIZE;if(a&&void 0!==j[a]&&(P=j[a]),void 0!==j[i]&&(D=w=j[i]),Q&&void 0!==j[B]&&(D=(E=j[B])-P),void 0===w||void 0===P||void 0===E){var ee=this.getMeasuringContext();this._setTextStyles(ee,o,!0)}return void 0===w&&(D=w=ee.measureText(i).width,j[i]=w),void 0===P&&Q&&a&&(P=ee.measureText(a).width,j[a]=P),Q&&void 0===E&&(E=ee.measureText(B).width,j[B]=E,D=E-P),{width:w*$,kernedWidth:D*$}},getHeightOfChar:function getHeightOfChar(i,o){return this.getValueOfPropertyAt(i,o,"fontSize")},measureLine:function measureLine(i){var o=this._measureLine(i);return 0!==this.charSpacing&&(o.width-=this._getWidthOfCharSpacing()),o.width<0&&(o.width=0),o},_measureLine:function _measureLine(i){var o,a,v,w,E=0,P=this._textLines[i],D=new Array(P.length);for(this.__charBounds[i]=D,o=0;o<P.length;o++)a=P[o],w=this._getGraphemeBox(a,i,o,v),D[o]=w,E+=w.kernedWidth,v=a;return D[o]={left:w?w.left+w.width:0,width:0,kernedWidth:0,height:this.fontSize},{width:E,numOfSpaces:0}},_getGraphemeBox:function _getGraphemeBox(i,o,a,v,w){var E,P=this.getCompleteStyleDeclaration(o,a),D=v?this.getCompleteStyleDeclaration(o,a-1):{},j=this._measureChar(i,P,v,D),B=j.kernedWidth,Q=j.width;0!==this.charSpacing&&(Q+=E=this._getWidthOfCharSpacing(),B+=E);var $={width:Q,left:0,height:P.fontSize,kernedWidth:B,deltaY:P.deltaY};if(a>0&&!w){var ee=this.__charBounds[o][a-1];$.left=ee.left+ee.width+j.kernedWidth-j.width}return $},getHeightOfLine:function getHeightOfLine(i){if(this.__lineHeights[i])return this.__lineHeights[i];for(var o=this._textLines[i],a=this.getHeightOfChar(i,0),v=1,w=o.length;v<w;v++)a=Math.max(this.getHeightOfChar(i,v),a);return this.__lineHeights[i]=a*this.lineHeight*this._fontSizeMult},calcTextHeight:function calcTextHeight(){for(var i,o=0,a=0,v=this._textLines.length;a<v;a++)i=this.getHeightOfLine(a),o+=a===v-1?i/this.lineHeight:i;return o},_getLeftOffset:function _getLeftOffset(){return-this.width/2},_getTopOffset:function _getTopOffset(){return-this.height/2},_renderTextCommon:function _renderTextCommon(i,o){i.save();for(var a=0,v=this._getLeftOffset(),w=this._getTopOffset(),E=this._applyPatternGradientTransform(i,"fillText"===o?this.fill:this.stroke),P=0,D=this._textLines.length;P<D;P++){var j=this.getHeightOfLine(P),B=j/this.lineHeight,Q=this._getLineLeftOffset(P);this._renderTextLine(o,i,this._textLines[P],v+Q-E.offsetX,w+a+B-E.offsetY,P),a+=j}i.restore()},_renderTextFill:function _renderTextFill(i){(this.fill||this.styleHas("fill"))&&this._renderTextCommon(i,"fillText")},_renderTextStroke:function _renderTextStroke(i){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(i),i.save(),this._setLineDash(i,this.strokeDashArray),i.beginPath(),this._renderTextCommon(i,"strokeText"),i.closePath(),i.restore())},_renderChars:function _renderChars(i,o,a,v,w,E){var P,D,j,B,Q=this.getHeightOfLine(E),$=-1!==this.textAlign.indexOf("justify"),ee="",te=0,ne=!$&&0===this.charSpacing&&this.isEmptyStyles(E);if(o.save(),w-=Q*this._fontSizeFraction/this.lineHeight,ne)return this._renderChar(i,o,E,0,a.join(""),v,w,Q),void o.restore();for(var ie=0,le=a.length-1;ie<=le;ie++)B=ie===le||this.charSpacing,ee+=a[ie],j=this.__charBounds[E][ie],0===te?(v+=j.kernedWidth-j.width,te+=j.width):te+=j.kernedWidth,$&&!B&&this._reSpaceAndTab.test(a[ie])&&(B=!0),B||(P=P||this.getCompleteStyleDeclaration(E,ie),D=this.getCompleteStyleDeclaration(E,ie+1),B=this._hasStyleChanged(P,D)),B&&(this._renderChar(i,o,E,ie,ee,v,w,Q),ee="",P=D,v+=te,te=0);o.restore()},_renderChar:function _renderChar(i,o,a,v,w,E,P){var D=this._getStyleDeclaration(a,v),j=this.getCompleteStyleDeclaration(a,v),B="fillText"===i&&j.fill,Q="strokeText"===i&&j.stroke&&j.strokeWidth;(Q||B)&&(D&&o.save(),this._applyCharStyles(i,o,a,v,j),D&&D.textBackgroundColor&&this._removeShadow(o),D&&D.deltaY&&(P+=D.deltaY),B&&o.fillText(w,E,P),Q&&o.strokeText(w,E,P),D&&o.restore())},setSuperscript:function setSuperscript(i,o){return this._setScript(i,o,this.superscript)},setSubscript:function setSubscript(i,o){return this._setScript(i,o,this.subscript)},_setScript:function _setScript(i,o,a){var v=this.get2DCursorLocation(i,!0),w=this.getValueOfPropertyAt(v.lineIndex,v.charIndex,"fontSize"),E=this.getValueOfPropertyAt(v.lineIndex,v.charIndex,"deltaY"),P={fontSize:w*a.size,deltaY:E+w*a.baseline};return this.setSelectionStyles(P,i,o),this},_hasStyleChanged:function _hasStyleChanged(i,o){return i.fill!==o.fill||i.stroke!==o.stroke||i.strokeWidth!==o.strokeWidth||i.fontSize!==o.fontSize||i.fontFamily!==o.fontFamily||i.fontWeight!==o.fontWeight||i.fontStyle!==o.fontStyle||i.deltaY!==o.deltaY},_hasStyleChangedForSvg:function _hasStyleChangedForSvg(i,o){return this._hasStyleChanged(i,o)||i.overline!==o.overline||i.underline!==o.underline||i.linethrough!==o.linethrough},_getLineLeftOffset:function _getLineLeftOffset(i){var o=this.getLineWidth(i);return"center"===this.textAlign?(this.width-o)/2:"right"===this.textAlign?this.width-o:"justify-center"===this.textAlign&&this.isEndOfWrapping(i)?(this.width-o)/2:"justify-right"===this.textAlign&&this.isEndOfWrapping(i)?this.width-o:0},_clearCache:function _clearCache(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function _shouldClearDimensionCache(){var i=this._forceClearCache;return i||(i=this.hasStateChanged("_dimensionAffectingProps")),i&&(this.dirty=!0,this._forceClearCache=!1),i},getLineWidth:function getLineWidth(i){return this.__lineWidths[i]?this.__lineWidths[i]:(o=""===this._textLines[i]?0:this.measureLine(i).width,this.__lineWidths[i]=o,o);var o},_getWidthOfCharSpacing:function _getWidthOfCharSpacing(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function getValueOfPropertyAt(i,o,a){var v=this._getStyleDeclaration(i,o);return v&&"undefined"!==typeof v[a]?v[a]:this[a]},_renderTextDecoration:function _renderTextDecoration(i,o){if(this[o]||this.styleHas(o)){for(var a,v,w,E,P,D,j,B,Q,$,ee,te,ne,ie,le,ue,fe=this._getLeftOffset(),he=this._getTopOffset(),ge=this._getWidthOfCharSpacing(),me=0,ye=this._textLines.length;me<ye;me++)if(a=this.getHeightOfLine(me),this[o]||this.styleHas(o,me)){j=this._textLines[me],ie=a/this.lineHeight,E=this._getLineLeftOffset(me),$=0,ee=0,B=this.getValueOfPropertyAt(me,0,o),ue=this.getValueOfPropertyAt(me,0,"fill"),Q=he+ie*(1-this._fontSizeFraction),v=this.getHeightOfChar(me,0),P=this.getValueOfPropertyAt(me,0,"deltaY");for(var _e=0,we=j.length;_e<we;_e++)te=this.__charBounds[me][_e],ne=this.getValueOfPropertyAt(me,_e,o),le=this.getValueOfPropertyAt(me,_e,"fill"),w=this.getHeightOfChar(me,_e),D=this.getValueOfPropertyAt(me,_e,"deltaY"),(ne!==B||le!==ue||w!==v||D!==P)&&ee>0?(i.fillStyle=ue,B&&ue&&i.fillRect(fe+E+$,Q+this.offsets[o]*v+P,ee,this.fontSize/15),$=te.left,ee=te.width,B=ne,ue=le,v=w,P=D):ee+=te.kernedWidth;i.fillStyle=le,ne&&le&&i.fillRect(fe+E+$,Q+this.offsets[o]*v+P,ee-ge,this.fontSize/15),he+=a}else he+=a;this._removeShadow(i)}},_getFontDeclaration:function _getFontDeclaration(i,a){var v=i||this,w=this.fontFamily,E=o.Text.genericFonts.indexOf(w.toLowerCase())>-1,P=void 0===w||w.indexOf("'")>-1||w.indexOf(",")>-1||w.indexOf('"')>-1||E?v.fontFamily:'"'+v.fontFamily+'"';return[o.isLikelyNode?v.fontWeight:v.fontStyle,o.isLikelyNode?v.fontStyle:v.fontWeight,a?this.CACHE_FONT_SIZE+"px":v.fontSize+"px",P].join(" ")},render:function render(i){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",i)))},_splitTextIntoLines:function _splitTextIntoLines(i){for(var a=i.split(this._reNewline),v=new Array(a.length),w=["\n"],E=[],P=0;P<a.length;P++)v[P]=o.util.string.graphemeSplit(a[P]),E=E.concat(v[P],w);return E.pop(),{_unwrappedLines:v,lines:a,graphemeText:E,graphemeLines:v}},toObject:function toObject(i){var o=["text","fontSize","fontWeight","fontFamily","fontStyle","lineHeight","underline","overline","linethrough","textAlign","textBackgroundColor","charSpacing"].concat(i),v=this.callSuper("toObject",o);return v.styles=a(this.styles,!0),v},set:function set(i,o){this.callSuper("set",i,o);var a=!1;if("object"===typeof i)for(var v in i)a=a||-1!==this._dimensionAffectingProps.indexOf(v);else a=-1!==this._dimensionAffectingProps.indexOf(i);return a&&(this.initDimensions(),this.setCoords()),this},complexity:function complexity(){return 1}}),o.Text.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),o.Text.DEFAULT_SVG_FONT_SIZE=16,o.Text.fromElement=function(i,v,w){if(!i)return v(null);var E=o.parseAttributes(i,o.Text.ATTRIBUTE_NAMES),P=E.textAnchor||"left";if((w=o.util.object.extend(w?a(w):{},E)).top=w.top||0,w.left=w.left||0,E.textDecoration){var D=E.textDecoration;-1!==D.indexOf("underline")&&(w.underline=!0),-1!==D.indexOf("overline")&&(w.overline=!0),-1!==D.indexOf("line-through")&&(w.linethrough=!0),delete w.textDecoration}"dx"in E&&(w.left+=E.dx),"dy"in E&&(w.top+=E.dy),"fontSize"in w||(w.fontSize=o.Text.DEFAULT_SVG_FONT_SIZE);var j="";"textContent"in i?j=i.textContent:"firstChild"in i&&null!==i.firstChild&&"data"in i.firstChild&&null!==i.firstChild.data&&(j=i.firstChild.data),j=j.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var B=w.strokeWidth;w.strokeWidth=0;var Q=new o.Text(j,w),$=Q.getScaledHeight()/Q.height,ee=((Q.height+Q.strokeWidth)*Q.lineHeight-Q.height)*$,te=Q.getScaledHeight()+ee,ne=0;"center"===P&&(ne=Q.getScaledWidth()/2),"right"===P&&(ne=Q.getScaledWidth()),Q.set({left:Q.left-ne,top:Q.top-(te-Q.fontSize*(.07+Q._fontSizeFraction))/Q.lineHeight,strokeWidth:"undefined"!==typeof B?B:1}),v(Q)},o.Text.fromObject=function(i,a){return o.Object._fromObject("Text",i,a,"text")},o.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],o.util.createAccessors&&o.util.createAccessors(o.Text))}(o),w.util.object.extend(w.Text.prototype,{isEmptyStyles:function isEmptyStyles(i){if(!this.styles)return!0;if("undefined"!==typeof i&&!this.styles[i])return!0;var o="undefined"===typeof i?this.styles:{line:this.styles[i]};for(var a in o)for(var v in o[a])for(var w in o[a][v])return!1;return!0},styleHas:function styleHas(i,o){if(!this.styles||!i||""===i)return!1;if("undefined"!==typeof o&&!this.styles[o])return!1;var a="undefined"===typeof o?this.styles:{0:this.styles[o]};for(var v in a)for(var w in a[v])if("undefined"!==typeof a[v][w][i])return!0;return!1},cleanStyle:function cleanStyle(i){if(!this.styles||!i||""===i)return!1;var o,a,v=this.styles,w=0,E=!0,P=0;for(var D in v){for(var j in o=0,v[D]){var B;w++,(B=v[D][j]).hasOwnProperty(i)?(a?B[i]!==a&&(E=!1):a=B[i],B[i]===this[i]&&delete B[i]):E=!1,0!==Object.keys(B).length?o++:delete v[D][j]}0===o&&delete v[D]}for(var Q=0;Q<this._textLines.length;Q++)P+=this._textLines[Q].length;E&&w===P&&(this[i]=a,this.removeStyle(i))},removeStyle:function removeStyle(i){if(this.styles&&i&&""!==i){var o,a,v,w=this.styles;for(a in w){for(v in o=w[a])delete o[v][i],0===Object.keys(o[v]).length&&delete o[v];0===Object.keys(o).length&&delete w[a]}}},_extendStyles:function _extendStyles(i,o){var a=this.get2DCursorLocation(i);this._getLineStyle(a.lineIndex)||this._setLineStyle(a.lineIndex),this._getStyleDeclaration(a.lineIndex,a.charIndex)||this._setStyleDeclaration(a.lineIndex,a.charIndex,{}),w.util.object.extend(this._getStyleDeclaration(a.lineIndex,a.charIndex),o)},get2DCursorLocation:function get2DCursorLocation(i,o){"undefined"===typeof i&&(i=this.selectionStart);for(var a=o?this._unwrappedTextLines:this._textLines,v=a.length,w=0;w<v;w++){if(i<=a[w].length)return{lineIndex:w,charIndex:i};i-=a[w].length+this.missingNewlineOffset(w)}return{lineIndex:w-1,charIndex:a[w-1].length<i?a[w-1].length:i}},getSelectionStyles:function getSelectionStyles(i,o,a){"undefined"===typeof i&&(i=this.selectionStart||0),"undefined"===typeof o&&(o=this.selectionEnd||i);for(var v=[],w=i;w<o;w++)v.push(this.getStyleAtPosition(w,a));return v},getStyleAtPosition:function getStyleAtPosition(i,o){var a=this.get2DCursorLocation(i);return(o?this.getCompleteStyleDeclaration(a.lineIndex,a.charIndex):this._getStyleDeclaration(a.lineIndex,a.charIndex))||{}},setSelectionStyles:function setSelectionStyles(i,o,a){"undefined"===typeof o&&(o=this.selectionStart||0),"undefined"===typeof a&&(a=this.selectionEnd||o);for(var v=o;v<a;v++)this._extendStyles(v,i);return this._forceClearCache=!0,this},_getStyleDeclaration:function _getStyleDeclaration(i,o){var a=this.styles&&this.styles[i];return a?a[o]:null},getCompleteStyleDeclaration:function getCompleteStyleDeclaration(i,o){for(var a,v=this._getStyleDeclaration(i,o)||{},w={},E=0;E<this._styleProperties.length;E++)w[a=this._styleProperties[E]]="undefined"===typeof v[a]?this[a]:v[a];return w},_setStyleDeclaration:function _setStyleDeclaration(i,o,a){this.styles[i][o]=a},_deleteStyleDeclaration:function _deleteStyleDeclaration(i,o){delete this.styles[i][o]},_getLineStyle:function _getLineStyle(i){return!!this.styles[i]},_setLineStyle:function _setLineStyle(i){this.styles[i]={}},_deleteLineStyle:function _deleteLineStyle(i){delete this.styles[i]}}),function(){function parseDecoration(i){i.textDecoration&&(i.textDecoration.indexOf("underline")>-1&&(i.underline=!0),i.textDecoration.indexOf("line-through")>-1&&(i.linethrough=!0),i.textDecoration.indexOf("overline")>-1&&(i.overline=!0),delete i.textDecoration)}w.IText=w.util.createClass(w.Text,w.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function initialize(i,o){this.callSuper("initialize",i,o),this.initBehavior()},setSelectionStart:function setSelectionStart(i){i=Math.max(i,0),this._updateAndFire("selectionStart",i)},setSelectionEnd:function setSelectionEnd(i){i=Math.min(i,this.text.length),this._updateAndFire("selectionEnd",i)},_updateAndFire:function _updateAndFire(i,o){this[i]!==o&&(this._fireSelectionChanged(),this[i]=o),this._updateTextarea()},_fireSelectionChanged:function _fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function initDimensions(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function render(i){this.clearContextTop(),this.callSuper("render",i),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function _render(i){this.callSuper("_render",i)},clearContextTop:function clearContextTop(i){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var o=this.canvas.contextTop,a=this.canvas.viewportTransform;o.save(),o.transform(a[0],a[1],a[2],a[3],a[4],a[5]),this.transform(o),this._clearTextArea(o),i||o.restore()}},renderCursorOrSelection:function renderCursorOrSelection(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var i=this._getCursorBoundaries(),o=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(i,o):this.renderSelection(i,o),o.restore()}},_clearTextArea:function _clearTextArea(i){var o=this.width+4,a=this.height+4;i.clearRect(-o/2,-a/2,o,a)},_getCursorBoundaries:function _getCursorBoundaries(i){"undefined"===typeof i&&(i=this.selectionStart);var o=this._getLeftOffset(),a=this._getTopOffset(),v=this._getCursorBoundariesOffsets(i);return{left:o,top:a,leftOffset:v.left,topOffset:v.top}},_getCursorBoundariesOffsets:function _getCursorBoundariesOffsets(i){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var o,a,v,w,E=0,P=0,D=this.get2DCursorLocation(i);v=D.charIndex,a=D.lineIndex;for(var j=0;j<a;j++)E+=this.getHeightOfLine(j);o=this._getLineLeftOffset(a);var B=this.__charBounds[a][v];return B&&(P=B.left),0!==this.charSpacing&&v===this._textLines[a].length&&(P-=this._getWidthOfCharSpacing()),w={top:E,left:o+(P>0?P:0)},this.cursorOffsetCache=w,this.cursorOffsetCache},renderCursor:function renderCursor(i,o){var a=this.get2DCursorLocation(),v=a.lineIndex,w=a.charIndex>0?a.charIndex-1:0,E=this.getValueOfPropertyAt(v,w,"fontSize"),P=this.scaleX*this.canvas.getZoom(),D=this.cursorWidth/P,j=i.topOffset,B=this.getValueOfPropertyAt(v,w,"deltaY");j+=(1-this._fontSizeFraction)*this.getHeightOfLine(v)/this.lineHeight-E*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(i,o),o.fillStyle=this.cursorColor||this.getValueOfPropertyAt(v,w,"fill"),o.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,o.fillRect(i.left+i.leftOffset-D/2,j+i.top+B,D,E)},renderSelection:function renderSelection(i,o){for(var a=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,v=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,w=-1!==this.textAlign.indexOf("justify"),E=this.get2DCursorLocation(a),P=this.get2DCursorLocation(v),D=E.lineIndex,j=P.lineIndex,B=E.charIndex<0?0:E.charIndex,Q=P.charIndex<0?0:P.charIndex,$=D;$<=j;$++){var ee,te=this._getLineLeftOffset($)||0,ne=this.getHeightOfLine($),ie=0,le=0;if($===D&&(ie=this.__charBounds[D][B].left),$>=D&&$<j)le=w&&!this.isEndOfWrapping($)?this.width:this.getLineWidth($)||5;else if($===j)if(0===Q)le=this.__charBounds[j][Q].left;else{var ue=this._getWidthOfCharSpacing();le=this.__charBounds[j][Q-1].left+this.__charBounds[j][Q-1].width-ue}ee=ne,(this.lineHeight<1||$===j&&this.lineHeight>1)&&(ne/=this.lineHeight),this.inCompositionMode?(o.fillStyle=this.compositionColor||"black",o.fillRect(i.left+te+ie,i.top+i.topOffset+ne,le-ie,1)):(o.fillStyle=this.selectionColor,o.fillRect(i.left+te+ie,i.top+i.topOffset,le-ie,ne)),i.topOffset+=ee}},getCurrentCharFontSize:function getCurrentCharFontSize(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fontSize")},getCurrentCharColor:function getCurrentCharColor(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fill")},_getCurrentCharIndex:function _getCurrentCharIndex(){var i=this.get2DCursorLocation(this.selectionStart,!0),o=i.charIndex>0?i.charIndex-1:0;return{l:i.lineIndex,c:o}}}),w.IText.fromObject=function(i,o){if(parseDecoration(i),i.styles)for(var a in i.styles)for(var v in i.styles[a])parseDecoration(i.styles[a][v]);w.Object._fromObject("IText",i,o,"text")}}(),function(){var i=w.util.object.clone;w.util.object.extend(w.IText.prototype,{initBehavior:function initBehavior(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function onDeselect(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function initAddedHandler(){var i=this;this.on("added",(function(){var o=i.canvas;o&&(o._hasITextHandlers||(o._hasITextHandlers=!0,i._initCanvasHandlers(o)),o._iTextInstances=o._iTextInstances||[],o._iTextInstances.push(i))}))},initRemovedHandler:function initRemovedHandler(){var i=this;this.on("removed",(function(){var o=i.canvas;o&&(o._iTextInstances=o._iTextInstances||[],w.util.removeFromArray(o._iTextInstances,i),0===o._iTextInstances.length&&(o._hasITextHandlers=!1,i._removeCanvasHandlers(o)))}))},_initCanvasHandlers:function _initCanvasHandlers(i){i._mouseUpITextHandler=function(){i._iTextInstances&&i._iTextInstances.forEach((function(i){i.__isMousedown=!1}))},i.on("mouse:up",i._mouseUpITextHandler)},_removeCanvasHandlers:function _removeCanvasHandlers(i){i.off("mouse:up",i._mouseUpITextHandler)},_tick:function _tick(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function _animateCursor(i,o,a,v){var w;return w={isAborted:!1,abort:function abort(){this.isAborted=!0}},i.animate("_currentCursorOpacity",o,{duration:a,onComplete:function onComplete(){w.isAborted||i[v]()},onChange:function onChange(){i.canvas&&i.selectionStart===i.selectionEnd&&i.renderCursorOrSelection()},abort:function abort(){return w.isAborted}}),w},_onTickComplete:function _onTickComplete(){var i=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout((function(){i._currentTickCompleteState=i._animateCursor(i,0,this.cursorDuration/2,"_tick")}),100)},initDelayedCursor:function initDelayedCursor(i){var o=this,a=i?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout((function(){o._tick()}),a)},abortCursorAnimation:function abortCursorAnimation(){var i=this._currentTickState||this._currentTickCompleteState,o=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,i&&o&&o.clearContext(o.contextTop||o.contextContainer)},selectAll:function selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function findWordBoundaryLeft(i){var o=0,a=i-1;if(this._reSpace.test(this._text[a]))for(;this._reSpace.test(this._text[a]);)o++,a--;for(;/\S/.test(this._text[a])&&a>-1;)o++,a--;return i-o},findWordBoundaryRight:function findWordBoundaryRight(i){var o=0,a=i;if(this._reSpace.test(this._text[a]))for(;this._reSpace.test(this._text[a]);)o++,a++;for(;/\S/.test(this._text[a])&&a<this._text.length;)o++,a++;return i+o},findLineBoundaryLeft:function findLineBoundaryLeft(i){for(var o=0,a=i-1;!/\n/.test(this._text[a])&&a>-1;)o++,a--;return i-o},findLineBoundaryRight:function findLineBoundaryRight(i){for(var o=0,a=i;!/\n/.test(this._text[a])&&a<this._text.length;)o++,a++;return i+o},searchWordBoundary:function searchWordBoundary(i,o){for(var a=this._text,v=this._reSpace.test(a[i])?i-1:i,E=a[v],P=w.reNonWord;!P.test(E)&&v>0&&v<a.length;)E=a[v+=o];return P.test(E)&&(v+=1===o?0:1),v},selectWord:function selectWord(i){i=i||this.selectionStart;var o=this.searchWordBoundary(i,-1),a=this.searchWordBoundary(i,1);this.selectionStart=o,this.selectionEnd=a,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function selectLine(i){i=i||this.selectionStart;var o=this.findLineBoundaryLeft(i),a=this.findLineBoundaryRight(i);return this.selectionStart=o,this.selectionEnd=a,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function enterEditing(i){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(i),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function exitEditingOnOthers(i){i._iTextInstances&&i._iTextInstances.forEach((function(i){i.selected=!1,i.isEditing&&i.exitEditing()}))},initMouseMoveHandler:function initMouseMoveHandler(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function mouseMoveHandler(i){if(this.__isMousedown&&this.isEditing){var o=this.getSelectionStartFromPointer(i.e),a=this.selectionStart,v=this.selectionEnd;(o===this.__selectionStartOnMouseDown&&a!==v||a!==o&&v!==o)&&(o>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=o):(this.selectionStart=o,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===a&&this.selectionEnd===v||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function _setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function fromStringToGraphemeSelection(i,o,a){var v=a.slice(0,i),E=w.util.string.graphemeSplit(v).length;if(i===o)return{selectionStart:E,selectionEnd:E};var P=a.slice(i,o);return{selectionStart:E,selectionEnd:E+w.util.string.graphemeSplit(P).length}},fromGraphemeToStringSelection:function fromGraphemeToStringSelection(i,o,a){var v=a.slice(0,i).join("").length;return i===o?{selectionStart:v,selectionEnd:v}:{selectionStart:v,selectionEnd:v+a.slice(i,o).join("").length}},_updateTextarea:function _updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var i=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=i.selectionStart,this.hiddenTextarea.selectionEnd=i.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function updateFromTextArea(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var i=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=i.selectionEnd,this.inCompositionMode||(this.selectionStart=i.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){var i=this._calcTextareaPosition();this.hiddenTextarea.style.left=i.left,this.hiddenTextarea.style.top=i.top}},_calcTextareaPosition:function _calcTextareaPosition(){if(!this.canvas)return{x:1,y:1};var i=this.inCompositionMode?this.compositionStart:this.selectionStart,o=this._getCursorBoundaries(i),a=this.get2DCursorLocation(i),v=a.lineIndex,E=a.charIndex,P=this.getValueOfPropertyAt(v,E,"fontSize")*this.lineHeight,D=o.leftOffset,j=this.calcTransformMatrix(),B={x:o.left+D,y:o.top+o.topOffset+P},Q=this.canvas.getRetinaScaling(),$=this.canvas.upperCanvasEl,ee=$.width/Q,te=$.height/Q,ne=ee-P,ie=te-P,le=$.clientWidth/ee,ue=$.clientHeight/te;return B=w.util.transformPoint(B,j),(B=w.util.transformPoint(B,this.canvas.viewportTransform)).x*=le,B.y*=ue,B.x<0&&(B.x=0),B.x>ne&&(B.x=ne),B.y<0&&(B.y=0),B.y>ie&&(B.y=ie),B.x+=this.canvas._offset.left,B.y+=this.canvas._offset.top,{left:B.x+"px",top:B.y+"px",fontSize:P+"px",charHeight:P}},_saveEditingProps:function _saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function _restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function exitEditing(){var i=this._textBeforeEdit!==this.text,o=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,o&&(o.blur&&o.blur(),o.parentNode&&o.parentNode.removeChild(o)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),i&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),i&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function _removeExtraneousStyles(){for(var i in this.styles)this._textLines[i]||delete this.styles[i]},removeStyleFromTo:function removeStyleFromTo(i,o){var a,v,w=this.get2DCursorLocation(i,!0),E=this.get2DCursorLocation(o,!0),P=w.lineIndex,D=w.charIndex,j=E.lineIndex,B=E.charIndex;if(P!==j){if(this.styles[P])for(a=D;a<this._unwrappedTextLines[P].length;a++)delete this.styles[P][a];if(this.styles[j])for(a=B;a<this._unwrappedTextLines[j].length;a++)(v=this.styles[j][a])&&(this.styles[P]||(this.styles[P]={}),this.styles[P][D+a-B]=v);for(a=P+1;a<=j;a++)delete this.styles[a];this.shiftLineStyles(j,P-j)}else if(this.styles[P]){v=this.styles[P];var Q,$,ee=B-D;for(a=D;a<B;a++)delete v[a];for($ in this.styles[P])(Q=parseInt($,10))>=B&&(v[Q-ee]=v[$],delete v[$])}},shiftLineStyles:function shiftLineStyles(o,a){var v=i(this.styles);for(var w in this.styles){var E=parseInt(w,10);E>o&&(this.styles[E+a]=v[E],v[E-a]||delete this.styles[E])}},restartCursorIfNeeded:function restartCursorIfNeeded(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function insertNewlineStyleObject(o,a,v,w){var E,P={},D=!1,j=this._unwrappedTextLines[o].length===a;for(var B in v||(v=1),this.shiftLineStyles(o,v),this.styles[o]&&(E=this.styles[o][0===a?a:a-1]),this.styles[o]){var Q=parseInt(B,10);Q>=a&&(D=!0,P[Q-a]=this.styles[o][B],j&&0===a||delete this.styles[o][B])}var $=!1;for(D&&!j&&(this.styles[o+v]=P,$=!0),$&&v--;v>0;)w&&w[v-1]?this.styles[o+v]={0:i(w[v-1])}:E?this.styles[o+v]={0:i(E)}:delete this.styles[o+v],v--;this._forceClearCache=!0},insertCharStyleObject:function insertCharStyleObject(o,a,v,w){this.styles||(this.styles={});var E=this.styles[o],P=E?i(E):{};for(var D in v||(v=1),P){var j=parseInt(D,10);j>=a&&(E[j+v]=P[j],P[j-v]||delete E[j])}if(this._forceClearCache=!0,w)for(;v--;)Object.keys(w[v]).length&&(this.styles[o]||(this.styles[o]={}),this.styles[o][a+v]=i(w[v]));else if(E)for(var B=E[a?a-1:1];B&&v--;)this.styles[o][a+v]=i(B)},insertNewStyleBlock:function insertNewStyleBlock(i,o,a){for(var v=this.get2DCursorLocation(o,!0),w=[0],E=0,P=0;P<i.length;P++)"\n"===i[P]?w[++E]=0:w[E]++;w[0]>0&&(this.insertCharStyleObject(v.lineIndex,v.charIndex,w[0],a),a=a&&a.slice(w[0]+1)),E&&this.insertNewlineStyleObject(v.lineIndex,v.charIndex+w[0],E);for(P=1;P<E;P++)w[P]>0?this.insertCharStyleObject(v.lineIndex+P,0,w[P],a):a&&(this.styles[v.lineIndex+P][0]=a[0]),a=a&&a.slice(w[P]+1);w[P]>0&&this.insertCharStyleObject(v.lineIndex+P,0,w[P],a)},setSelectionStartEndWithShift:function setSelectionStartEndWithShift(i,o,a){a<=i?(o===i?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=i),this.selectionStart=a):a>i&&a<o?"right"===this._selectionDirection?this.selectionEnd=a:this.selectionStart=a:(o===i?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=o),this.selectionEnd=a)},setSelectionInBoundaries:function setSelectionInBoundaries(){var i=this.text.length;this.selectionStart>i?this.selectionStart=i:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>i?this.selectionEnd=i:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),w.util.object.extend(w.IText.prototype,{initDoubleClickSimulation:function initDoubleClickSimulation(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function onMouseDown(i){if(this.canvas){this.__newClickTime=+new Date;var o=i.pointer;this.isTripleClick(o)&&(this.fire("tripleclick",i),this._stopEvent(i.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=o,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function isTripleClick(i){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===i.x&&this.__lastPointer.y===i.y},_stopEvent:function _stopEvent(i){i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()},initCursorSelectionHandlers:function initCursorSelectionHandlers(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function doubleClickHandler(i){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(i.e))},tripleClickHandler:function tripleClickHandler(i){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(i.e))},initClicks:function initClicks(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function _mouseDownHandler(i){!this.canvas||!this.editable||i.e.button&&1!==i.e.button||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(i.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function _mouseDownHandlerBefore(i){!this.canvas||!this.editable||i.e.button&&1!==i.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function initMousedownHandler(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function initMouseupHandler(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function mouseUpHandler(i){if(this.__isMousedown=!1,!(!this.editable||this.group||i.transform&&i.transform.actionPerformed||i.e.button&&1!==i.e.button)){if(this.canvas){var o=this.canvas._activeObject;if(o&&o!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(i.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function setCursorByClick(i){var o=this.getSelectionStartFromPointer(i),a=this.selectionStart,v=this.selectionEnd;i.shiftKey?this.setSelectionStartEndWithShift(a,v,o):(this.selectionStart=o,this.selectionEnd=o),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function getSelectionStartFromPointer(i){for(var o=this.getLocalPointer(i),a=0,v=0,w=0,E=0,P=0,D=0,j=this._textLines.length;D<j&&w<=o.y;D++)w+=this.getHeightOfLine(D)*this.scaleY,P=D,D>0&&(E+=this._textLines[D-1].length+this.missingNewlineOffset(D-1));v=this._getLineLeftOffset(P)*this.scaleX;for(var B=0,Q=this._textLines[P].length;B<Q&&(a=v,(v+=this.__charBounds[P][B].kernedWidth*this.scaleX)<=o.x);B++)E++;return this._getNewSelectionStartFromOffset(o,a,v,E,Q)},_getNewSelectionStartFromOffset:function _getNewSelectionStartFromOffset(i,o,a,v,w){var E=i.x-o,P=a-i.x,D=v+(P>E||P<0?0:1);return this.flipX&&(D=w-D),D>this._text.length&&(D=this._text.length),D}}),w.util.object.extend(w.IText.prototype,{initHiddenTextarea:function initHiddenTextarea(){this.hiddenTextarea=w.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var i=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+i.top+"; left: "+i.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uff70top: "+i.fontSize+";",w.document.body.appendChild(this.hiddenTextarea),w.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),w.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),w.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),w.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),w.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),w.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),w.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),w.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),w.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(w.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function onClick(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function onKeyDown(i){if(this.isEditing){if(i.keyCode in this.keysMap)this[this.keysMap[i.keyCode]](i);else{if(!(i.keyCode in this.ctrlKeysMapDown)||!i.ctrlKey&&!i.metaKey)return;this[this.ctrlKeysMapDown[i.keyCode]](i)}i.stopImmediatePropagation(),i.preventDefault(),i.keyCode>=33&&i.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function onKeyUp(i){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:i.keyCode in this.ctrlKeysMapUp&&(i.ctrlKey||i.metaKey)&&(this[this.ctrlKeysMapUp[i.keyCode]](i),i.stopImmediatePropagation(),i.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function onInput(i){var o=this.fromPaste;if(this.fromPaste=!1,i&&i.stopPropagation(),this.isEditing){var a,v,E,P,D,j=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,B=this._text.length,Q=j.length,$=Q-B,ee=this.selectionStart,te=this.selectionEnd,ne=ee!==te;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var ie=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),le=ee>ie.selectionStart;ne?(a=this._text.slice(ee,te),$+=te-ee):Q<B&&(a=le?this._text.slice(te+$,te):this._text.slice(ee,ee-$)),v=j.slice(ie.selectionEnd-$,ie.selectionEnd),a&&a.length&&(v.length&&(E=this.getSelectionStyles(ee,ee+1,!1),E=v.map((function(){return E[0]}))),ne?(P=ee,D=te):le?(P=te-a.length,D=te):(P=te,D=te+a.length),this.removeStyleFromTo(P,D)),v.length&&(o&&v.join("")===w.copiedText&&!w.disableStyleCopyPaste&&(E=w.copiedTextStyle),this.insertNewStyleBlock(v,ee,E)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function onCompositionStart(){this.inCompositionMode=!0},onCompositionEnd:function onCompositionEnd(){this.inCompositionMode=!1},onCompositionUpdate:function onCompositionUpdate(i){this.compositionStart=i.target.selectionStart,this.compositionEnd=i.target.selectionEnd,this.updateTextareaPosition()},copy:function copy(){this.selectionStart!==this.selectionEnd&&(w.copiedText=this.getSelectedText(),w.disableStyleCopyPaste?w.copiedTextStyle=null:w.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function paste(){this.fromPaste=!0},_getClipboardData:function _getClipboardData(i){return i&&i.clipboardData||w.window.clipboardData},_getWidthBeforeCursor:function _getWidthBeforeCursor(i,o){var a,v=this._getLineLeftOffset(i);return o>0&&(v+=(a=this.__charBounds[i][o-1]).left+a.width),v},getDownCursorOffset:function getDownCursorOffset(i,o){var a=this._getSelectionForOffset(i,o),v=this.get2DCursorLocation(a),w=v.lineIndex;if(w===this._textLines.length-1||i.metaKey||34===i.keyCode)return this._text.length-a;var E=v.charIndex,P=this._getWidthBeforeCursor(w,E),D=this._getIndexOnLine(w+1,P);return this._textLines[w].slice(E).length+D+1+this.missingNewlineOffset(w)},_getSelectionForOffset:function _getSelectionForOffset(i,o){return i.shiftKey&&this.selectionStart!==this.selectionEnd&&o?this.selectionEnd:this.selectionStart},getUpCursorOffset:function getUpCursorOffset(i,o){var a=this._getSelectionForOffset(i,o),v=this.get2DCursorLocation(a),w=v.lineIndex;if(0===w||i.metaKey||33===i.keyCode)return-a;var E=v.charIndex,P=this._getWidthBeforeCursor(w,E),D=this._getIndexOnLine(w-1,P),j=this._textLines[w].slice(0,E),B=this.missingNewlineOffset(w-1);return-this._textLines[w-1].length+D-j.length+(1-B)},_getIndexOnLine:function _getIndexOnLine(i,o){for(var a,v,w=this._textLines[i],E=this._getLineLeftOffset(i),P=0,D=0,j=w.length;D<j;D++)if((E+=a=this.__charBounds[i][D].width)>o){v=!0;var B=E-a,Q=E,$=Math.abs(B-o);P=Math.abs(Q-o)<$?D:D-1;break}return v||(P=w.length-1),P},moveCursorDown:function moveCursorDown(i){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",i)},moveCursorUp:function moveCursorUp(i){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",i)},_moveCursorUpOrDown:function _moveCursorUpOrDown(i,o){var a=this["get"+i+"CursorOffset"](o,"right"===this._selectionDirection);o.shiftKey?this.moveCursorWithShift(a):this.moveCursorWithoutShift(a),0!==a&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function moveCursorWithShift(i){var o="left"===this._selectionDirection?this.selectionStart+i:this.selectionEnd+i;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,o),0!==i},moveCursorWithoutShift:function moveCursorWithoutShift(i){return i<0?(this.selectionStart+=i,this.selectionEnd=this.selectionStart):(this.selectionEnd+=i,this.selectionStart=this.selectionEnd),0!==i},moveCursorLeft:function moveCursorLeft(i){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",i)},_move:function _move(i,o,a){var v;if(i.altKey)v=this["findWordBoundary"+a](this[o]);else{if(!i.metaKey&&35!==i.keyCode&&36!==i.keyCode)return this[o]+="Left"===a?-1:1,!0;v=this["findLineBoundary"+a](this[o])}if(void 0!==typeof v&&this[o]!==v)return this[o]=v,!0},_moveLeft:function _moveLeft(i,o){return this._move(i,o,"Left")},_moveRight:function _moveRight(i,o){return this._move(i,o,"Right")},moveCursorLeftWithoutShift:function moveCursorLeftWithoutShift(i){var o=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(o=this._moveLeft(i,"selectionStart")),this.selectionEnd=this.selectionStart,o},moveCursorLeftWithShift:function moveCursorLeftWithShift(i){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(i,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(i,"selectionStart")):void 0},moveCursorRight:function moveCursorRight(i){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",i)},_moveCursorLeftOrRight:function _moveCursorLeftOrRight(i,o){var a="moveCursor"+i+"With";this._currentCursorOpacity=1,o.shiftKey?a+="Shift":a+="outShift",this[a](o)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function moveCursorRightWithShift(i){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(i,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(i,"selectionEnd")):void 0},moveCursorRightWithoutShift:function moveCursorRightWithoutShift(i){var o=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(o=this._moveRight(i,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,o},removeChars:function removeChars(i,o){"undefined"===typeof o&&(o=i+1),this.removeStyleFromTo(i,o),this._text.splice(i,o-i),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function insertChars(i,o,a,v){"undefined"===typeof v&&(v=a),v>a&&this.removeStyleFromTo(a,v);var E=w.util.string.graphemeSplit(i);this.insertNewStyleBlock(E,a,o),this._text=[].concat(this._text.slice(0,a),E,this._text.slice(v)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var i=w.util.toFixed,o=/  +/g;w.util.object.extend(w.Text.prototype,{_toSVG:function _toSVG(){var i=this._getSVGLeftTopOffsets(),o=this._getSVGTextAndBg(i.textTop,i.textLeft);return this._wrapSVGTextAndBg(o)},toSVG:function toSVG(i){return this._createBaseSVGMarkup(this._toSVG(),{reviver:i,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function _getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function _wrapSVGTextAndBg(i){var o=this.getSvgTextDecoration(this);return[i.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",o?'text-decoration="'+o+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",i.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function _getSVGTextAndBg(i,o){var a,v=[],w=[],E=i;this._setSVGBg(w);for(var P=0,D=this._textLines.length;P<D;P++)a=this._getLineLeftOffset(P),(this.textBackgroundColor||this.styleHas("textBackgroundColor",P))&&this._setSVGTextLineBg(w,P,o+a,E),this._setSVGTextLineText(v,P,o+a,E),E+=this.getHeightOfLine(P);return{textSpans:v,textBgRects:w}},_createTextCharSpan:function _createTextCharSpan(a,v,E,P){var D=a!==a.trim()||a.match(o),j=this.getSvgSpanStyles(v,D),B=j?'style="'+j+'"':"",Q=v.deltaY,$="",ee=w.Object.NUM_FRACTION_DIGITS;return Q&&($=' dy="'+i(Q,ee)+'" '),['<tspan x="',i(E,ee),'" y="',i(P,ee),'" ',$,B,">",w.util.string.escapeXml(a),"</tspan>"].join("")},_setSVGTextLineText:function _setSVGTextLineText(i,o,a,v){var w,E,P,D,j,B=this.getHeightOfLine(o),Q=-1!==this.textAlign.indexOf("justify"),$="",ee=0,te=this._textLines[o];v+=B*(1-this._fontSizeFraction)/this.lineHeight;for(var ne=0,ie=te.length-1;ne<=ie;ne++)j=ne===ie||this.charSpacing,$+=te[ne],P=this.__charBounds[o][ne],0===ee?(a+=P.kernedWidth-P.width,ee+=P.width):ee+=P.kernedWidth,Q&&!j&&this._reSpaceAndTab.test(te[ne])&&(j=!0),j||(w=w||this.getCompleteStyleDeclaration(o,ne),E=this.getCompleteStyleDeclaration(o,ne+1),j=this._hasStyleChangedForSvg(w,E)),j&&(D=this._getStyleDeclaration(o,ne)||{},i.push(this._createTextCharSpan($,D,a,v)),$="",w=E,a+=ee,ee=0)},_pushTextBgRect:function _pushTextBgRect(o,a,v,E,P,D){var j=w.Object.NUM_FRACTION_DIGITS;o.push("\t\t<rect ",this._getFillAttributes(a),' x="',i(v,j),'" y="',i(E,j),'" width="',i(P,j),'" height="',i(D,j),'"></rect>\n')},_setSVGTextLineBg:function _setSVGTextLineBg(i,o,a,v){for(var w,E,P=this._textLines[o],D=this.getHeightOfLine(o)/this.lineHeight,j=0,B=0,Q=this.getValueOfPropertyAt(o,0,"textBackgroundColor"),$=0,ee=P.length;$<ee;$++)w=this.__charBounds[o][$],(E=this.getValueOfPropertyAt(o,$,"textBackgroundColor"))!==Q?(Q&&this._pushTextBgRect(i,Q,a+B,v,j,D),B=w.left,j=w.width,Q=E):j+=w.kernedWidth;E&&this._pushTextBgRect(i,E,a+B,v,j,D)},_getFillAttributes:function _getFillAttributes(i){var o=i&&"string"===typeof i?new w.Color(i):"";return o&&o.getSource()&&1!==o.getAlpha()?'opacity="'+o.getAlpha()+'" fill="'+o.setAlpha(1).toRgb()+'"':'fill="'+i+'"'},_getSVGLineTopOffset:function _getSVGLineTopOffset(i){for(var o,a=0,v=0;v<i;v++)a+=this.getHeightOfLine(v);return o=this.getHeightOfLine(v),{lineTop:a,offset:(this._fontSizeMult-this._fontSizeFraction)*o/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function getSvgStyles(i){return w.Object.prototype.getSvgStyles.call(this,i)+" white-space: pre;"}})}(),function(i){"use strict";var o=i.fabric||(i.fabric={});o.Textbox=o.util.createClass(o.IText,o.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:o.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function initDimensions(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function _generateStyleMap(i){for(var o=0,a=0,v=0,w={},E=0;E<i.graphemeLines.length;E++)"\n"===i.graphemeText[v]&&E>0?(a=0,v++,o++):!this.splitByGrapheme&&this._reSpaceAndTab.test(i.graphemeText[v])&&E>0&&(a++,v++),w[E]={line:o,offset:a},v+=i.graphemeLines[E].length,a+=i.graphemeLines[E].length;return w},styleHas:function styleHas(i,a){if(this._styleMap&&!this.isWrapping){var v=this._styleMap[a];v&&(a=v.line)}return o.Text.prototype.styleHas.call(this,i,a)},isEmptyStyles:function isEmptyStyles(i){if(!this.styles)return!0;var o,a,v=0,w=!1,E=this._styleMap[i],P=this._styleMap[i+1];for(var D in E&&(i=E.line,v=E.offset),P&&(w=P.line===i,o=P.offset),a="undefined"===typeof i?this.styles:{line:this.styles[i]})for(var j in a[D])if(j>=v&&(!w||j<o))for(var B in a[D][j])return!1;return!0},_getStyleDeclaration:function _getStyleDeclaration(i,o){if(this._styleMap&&!this.isWrapping){var a=this._styleMap[i];if(!a)return null;i=a.line,o=a.offset+o}return this.callSuper("_getStyleDeclaration",i,o)},_setStyleDeclaration:function _setStyleDeclaration(i,o,a){var v=this._styleMap[i];i=v.line,o=v.offset+o,this.styles[i][o]=a},_deleteStyleDeclaration:function _deleteStyleDeclaration(i,o){var a=this._styleMap[i];i=a.line,o=a.offset+o,delete this.styles[i][o]},_getLineStyle:function _getLineStyle(i){var o=this._styleMap[i];return!!this.styles[o.line]},_setLineStyle:function _setLineStyle(i){var o=this._styleMap[i];this.styles[o.line]={}},_wrapText:function _wrapText(i,o){var a,v=[];for(this.isWrapping=!0,a=0;a<i.length;a++)v=v.concat(this._wrapLine(i[a],a,o));return this.isWrapping=!1,v},_measureWord:function _measureWord(i,o,a){var v,w=0;a=a||0;for(var E=0,P=i.length;E<P;E++){w+=this._getGraphemeBox(i[E],o,E+a,v,!0).kernedWidth,v=i[E]}return w},_wrapLine:function _wrapLine(i,a,v,w){var E=0,P=this.splitByGrapheme,D=[],j=[],B=P?o.util.string.graphemeSplit(i):i.split(this._wordJoiners),Q="",$=0,ee=P?"":" ",te=0,ne=0,ie=0,le=!0,ue=this._getWidthOfCharSpacing();w=w||0;0===B.length&&B.push([]),v-=w;for(var fe=0;fe<B.length;fe++)Q=P?B[fe]:o.util.string.graphemeSplit(B[fe]),te=this._measureWord(Q,a,$),$+=Q.length,(E+=ne+te-ue)>=v&&!le?(D.push(j),j=[],E=te,le=!0):E+=ue,le||P||j.push(ee),j=j.concat(Q),ne=P?0:this._measureWord([ee],a,$),$++,le=!1,te>ie&&(ie=te);return fe&&D.push(j),ie+w>this.dynamicMinWidth&&(this.dynamicMinWidth=ie-ue+w),D},isEndOfWrapping:function isEndOfWrapping(i){return!this._styleMap[i+1]||this._styleMap[i+1].line!==this._styleMap[i].line},missingNewlineOffset:function missingNewlineOffset(i){return this.splitByGrapheme?this.isEndOfWrapping(i)?1:0:1},_splitTextIntoLines:function _splitTextIntoLines(i){for(var a=o.Text.prototype._splitTextIntoLines.call(this,i),v=this._wrapText(a.lines,this.width),w=new Array(v.length),E=0;E<v.length;E++)w[E]=v[E].join("");return a.lines=w,a.graphemeLines=v,a},getMinWidth:function getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function _removeExtraneousStyles(){var i={};for(var o in this._styleMap)this._textLines[o]&&(i[this._styleMap[o].line]=1);for(var o in this.styles)i[o]||delete this.styles[o]},toObject:function toObject(i){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(i))}}),o.Textbox.fromObject=function(i,a){return o.Object._fromObject("Textbox",i,a,"text")}}(o),function(){var i=w.controlsUtils,o=i.scaleSkewCursorStyleHandler,a=i.scaleCursorStyleHandler,v=i.scalingEqually,E=i.scalingYOrSkewingX,P=i.scalingXOrSkewingY,D=i.scaleOrSkewActionName,j=w.Object.prototype.controls;if(j.ml=new w.Control({x:-.5,y:0,cursorStyleHandler:o,actionHandler:P,getActionName:D}),j.mr=new w.Control({x:.5,y:0,cursorStyleHandler:o,actionHandler:P,getActionName:D}),j.mb=new w.Control({x:0,y:.5,cursorStyleHandler:o,actionHandler:E,getActionName:D}),j.mt=new w.Control({x:0,y:-.5,cursorStyleHandler:o,actionHandler:E,getActionName:D}),j.tl=new w.Control({x:-.5,y:-.5,cursorStyleHandler:a,actionHandler:v}),j.tr=new w.Control({x:.5,y:-.5,cursorStyleHandler:a,actionHandler:v}),j.bl=new w.Control({x:-.5,y:.5,cursorStyleHandler:a,actionHandler:v}),j.br=new w.Control({x:.5,y:.5,cursorStyleHandler:a,actionHandler:v}),j.mtr=new w.Control({x:0,y:-.5,actionHandler:i.rotationWithSnapping,cursorStyleHandler:i.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),w.Textbox){var B=w.Textbox.prototype.controls={};B.mtr=j.mtr,B.tr=j.tr,B.br=j.br,B.tl=j.tl,B.bl=j.bl,B.mt=j.mt,B.mb=j.mb,B.mr=new w.Control({x:.5,y:0,actionHandler:i.changeWidth,cursorStyleHandler:o,actionName:"resizing"}),B.ml=new w.Control({x:-.5,y:0,actionHandler:i.changeWidth,cursorStyleHandler:o,actionName:"resizing"})}}()}).call(this,a(122).Buffer)},function(i,o){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch(v){"object"===typeof window&&(a=window)}i.exports=a},function(i,o,a){"use strict";function asyncGeneratorStep(i,o,a,v,w,E,P){try{var D=i[E](P),j=D.value}catch(B){return void a(B)}D.done?o(j):Promise.resolve(j).then(v,w)}function _asyncToGenerator(i){return function(){var o=this,a=arguments;return new Promise((function(v,w){var E=i.apply(o,a);function _next(i){asyncGeneratorStep(E,v,w,_next,_throw,"next",i)}function _throw(i){asyncGeneratorStep(E,v,w,_next,_throw,"throw",i)}_next(void 0)}))}}a.d(o,"a",(function(){return _asyncToGenerator}))},function(i,o){var a=i.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=a)},function(i,o,a){var v=a(41);i.exports=function(i){return Object(v(i))}},function(i,o){var a=i.exports={version:"2.6.11"};"number"==typeof __e&&(__e=a)},function(i,o){i.exports=function(i){return"object"===typeof i?null!==i:"function"===typeof i}},function(i,o,a){(function(o){for(var v=a(135),w="undefined"===typeof window?o:window,E=["moz","webkit"],P="AnimationFrame",D=w["request"+P],j=w["cancel"+P]||w["cancelRequest"+P],B=0;!D&&B<E.length;B++)D=w[E[B]+"Request"+P],j=w[E[B]+"Cancel"+P]||w[E[B]+"CancelRequest"+P];if(!D||!j){var Q=0,$=0,ee=[];D=function raf(i){if(0===ee.length){var o=v(),a=Math.max(0,1e3/60-(o-Q));Q=a+o,setTimeout((function(){var i=ee.slice(0);ee.length=0;for(var o=0;o<i.length;o++)if(!i[o].cancelled)try{i[o].callback(Q)}catch(a){setTimeout((function(){throw a}),0)}}),Math.round(a))}return ee.push({handle:++$,callback:i,cancelled:!1}),$},j=function caf(i){for(var o=0;o<ee.length;o++)ee[o].handle===i&&(ee[o].cancelled=!0)}}i.exports=function(i){return D.call(w,i)},i.exports.cancel=function(){j.apply(w,arguments)},i.exports.polyfill=function(i){i||(i=w),i.requestAnimationFrame=D,i.cancelAnimationFrame=j}}).call(this,a(15))},function(i,o,a){var v=a(98),w=a(41);i.exports=function(i){return v(w(i))}},function(i,o,a){var v=a(39)("wks"),w=a(38),E=a(17).Symbol,P="function"==typeof E;(i.exports=function(i){return v[i]||(v[i]=P&&E[i]||(P?E:w)("Symbol."+i))}).store=v},function(i,o,a){i.exports=a(136)()},function(i,o,a){var v=a(52),w=a(53),E=a(26),P=Object.defineProperty;o.f=a(11)?Object.defineProperty:function defineProperty(i,o,a){if(v(i),o=E(o,!0),v(a),w)try{return P(i,o,a)}catch(D){}if("get"in a||"set"in a)throw TypeError("Accessors not supported!");return"value"in a&&(i[o]=a.value),i}},function(i,o,a){var v=a(20);i.exports=function(i,o){if(!v(i))return i;var a,w;if(o&&"function"==typeof(a=i.toString)&&!v(w=a.call(i)))return w;if("function"==typeof(a=i.valueOf)&&!v(w=a.call(i)))return w;if(!o&&"function"==typeof(a=i.toString)&&!v(w=a.call(i)))return w;throw TypeError("Can't convert object to primitive value")}},function(i,o){var a={}.hasOwnProperty;i.exports=function(i,o){return a.call(i,o)}},function(i,o){i.exports=function(i){if("function"!=typeof i)throw TypeError(i+" is not a function!");return i}},function(i,o,a){var v=a(42),w=Math.min;i.exports=function(i){return i>0?w(v(i),9007199254740991):0}},function(i,o,a){"use strict";i.exports=a(54)||!a(36)((function(){var i=Math.random();__defineSetter__.call(null,i,(function(){})),delete a(17)[i]}))},function(i,o,a){var v,w,E;!function(P){"use strict";w=[a(12)],void 0===(E="function"===typeof(v=function(i){var o=i.global,a=i.transform,v=o.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),w=o.ArrayBuffer&&ArrayBuffer.prototype.slice||function(i,o){o=o||this.byteLength-i;var a=new Uint8Array(this,i,o),v=new Uint8Array(o);return v.set(a),v.buffer},E={jpeg:{65505:[],65517:[]}};function parseMetaData(a,P,D,j){var B=this;function executor(P,Q){if(!(o.DataView&&v&&a&&a.size>=12&&"image/jpeg"===a.type))return P(j);var $=D.maxMetaDataSize||262144;i.readFile(v.call(a,0,$),(function(i){var o=new DataView(i);if(65496!==o.getUint16(0))return Q(new Error("Invalid JPEG file: Missing JPEG marker."));for(var a,v,$,ee,te=2,ne=o.byteLength-4,ie=te;te<ne&&((a=o.getUint16(te))>=65504&&a<=65519||65534===a);){if(te+(v=o.getUint16(te+2)+2)>o.byteLength){console.log("Invalid JPEG metadata: Invalid segment size.");break}if(($=E.jpeg[a])&&!D.disableMetaDataParsers)for(ee=0;ee<$.length;ee+=1)$[ee].call(B,o,te,v,j,D);ie=te+=v}!D.disableImageHead&&ie>6&&(j.imageHead=w.call(i,0,ie)),P(j)}),Q,"readAsArrayBuffer")||P(j)}return D=D||{},o.Promise&&"function"!==typeof P?(j=D=P||{},new Promise(executor)):(j=j||{},executor(P,P))}function replaceJPEGHead(i,o,a){return i&&o&&a?new Blob([a,v.call(i,o.byteLength)],{type:"image/jpeg"}):null}i.transform=function(v,w,E,P,D){i.requiresMetaData(w)?parseMetaData(P,(function(j){j!==D&&(o.console&&console.log(j),j=D),a.call(i,v,w,E,P,j)}),w,D=D||{}):a.apply(i,arguments)},i.blobSlice=v,i.bufferSlice=w,i.replaceHead=function replaceHead(i,a,v){var w={maxMetaDataSize:256,disableMetaDataParsers:!0};if(!v&&o.Promise)return parseMetaData(i,w).then((function(o){return replaceJPEGHead(i,o.imageHead,a)}));parseMetaData(i,(function(o){v(replaceJPEGHead(i,o.imageHead,a))}),w)},i.parseMetaData=parseMetaData,i.metaDataParsers=E})?v.apply(o,w):v)||(i.exports=E)}()},function(i,o,a){"use strict";i.exports=a(134)},function(i,o,a){"use strict";o.a=function finallyConstructor(i){var o=this.constructor;return this.then((function(a){return o.resolve(i()).then((function(){return a}))}),(function(a){return o.resolve(i()).then((function(){return o.reject(a)}))}))}},,function(i,o,a){var v=a(25),w=a(37);i.exports=a(11)?function(i,o,a){return v.f(i,o,w(1,a))}:function(i,o,a){return i[o]=a,i}},function(i,o){i.exports=function(i){try{return!!i()}catch(o){return!0}}},function(i,o){i.exports=function(i,o){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:o}}},function(i,o){var a=0,v=Math.random();i.exports=function(i){return"Symbol(".concat(void 0===i?"":i,")_",(++a+v).toString(36))}},function(i,o,a){var v=a(19),w=a(17),E=w["__core-js_shared__"]||(w["__core-js_shared__"]={});(i.exports=function(i,o){return E[i]||(E[i]=void 0!==o?o:{})})("versions",[]).push({version:v.version,mode:a(54)?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(i,o){var a={}.toString;i.exports=function(i){return a.call(i).slice(8,-1)}},function(i,o){i.exports=function(i){if(void 0==i)throw TypeError("Can't call method on  "+i);return i}},function(i,o){var a=Math.ceil,v=Math.floor;i.exports=function(i){return isNaN(i=+i)?0:(i>0?v:a)(i)}},function(i,o,a){var v=a(60),w=a(37),E=a(22),P=a(26),D=a(27),j=a(53),B=Object.getOwnPropertyDescriptor;o.f=a(11)?B:function getOwnPropertyDescriptor(i,o){if(i=E(i),o=P(o,!0),j)try{return B(i,o)}catch(a){}if(D(i,o))return w(!v.f.call(i,o),i[o])}},function(i,o,a){var v=a(23)("unscopables"),w=Array.prototype;void 0==w[v]&&a(35)(w,v,{}),i.exports=function(i){w[v][i]=!0}},function(i,o,a){"use strict";a.d(o,"a",(function(){return $}));var v=a(1),w=a(7),E=a(0),P=a.n(E),D=a(9),j=(a(24),a(3)),B=a(13),Q=a(8),$=function(i){function BrowserRouter(){for(var o,a=arguments.length,v=new Array(a),w=0;w<a;w++)v[w]=arguments[w];return(o=i.call.apply(i,[this].concat(v))||this).history=Object(D.a)(o.props),o}return Object(w.a)(BrowserRouter,i),BrowserRouter.prototype.render=function render(){return P.a.createElement(v.b,{history:this.history,children:this.props.children})},BrowserRouter}(P.a.Component);P.a.Component;var ee=function resolveToLocation(i,o){return"function"===typeof i?i(o):i},te=function normalizeToLocation(i,o){return"string"===typeof i?Object(D.c)(i,null,null,o):i},ne=function forwardRefShim(i){return i},ie=P.a.forwardRef;"undefined"===typeof ie&&(ie=ne);var le=ie((function(i,o){var a=i.innerRef,v=i.navigate,w=i.onClick,E=Object(B.a)(i,["innerRef","navigate","onClick"]),D=E.target,Q=Object(j.a)({},E,{onClick:function onClick(i){try{w&&w(i)}catch(o){throw i.preventDefault(),o}i.defaultPrevented||0!==i.button||D&&"_self"!==D||function isModifiedEvent(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}(i)||(i.preventDefault(),v())}});return Q.ref=ne!==ie&&o||a,P.a.createElement("a",Q)}));var ue=ie((function(i,o){var a=i.component,w=void 0===a?le:a,E=i.replace,D=i.to,$=i.innerRef,ue=Object(B.a)(i,["component","replace","to","innerRef"]);return P.a.createElement(v.d.Consumer,null,(function(i){i||Object(Q.a)(!1);var a=i.history,v=te(ee(D,i.location),i.location),B=v?a.createHref(v):"",le=Object(j.a)({},ue,{href:B,navigate:function navigate(){var o=ee(D,i.location);(E?a.replace:a.push)(o)}});return ne!==ie?le.ref=o||$:le.innerRef=$,P.a.createElement(w,le)}))})),fe=function forwardRefShim(i){return i},he=P.a.forwardRef;"undefined"===typeof he&&(he=fe);he((function(i,o){var a=i["aria-current"],w=void 0===a?"page":a,E=i.activeClassName,D=void 0===E?"active":E,$=i.activeStyle,ne=i.className,ie=i.exact,le=i.isActive,ge=i.location,me=i.sensitive,ye=i.strict,_e=i.style,we=i.to,Se=i.innerRef,Te=Object(B.a)(i,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return P.a.createElement(v.d.Consumer,null,(function(i){i||Object(Q.a)(!1);var a=ge||i.location,E=te(ee(we,a),a),B=E.pathname,ke=B&&B.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),Pe=ke?Object(v.e)(a.pathname,{path:ke,exact:ie,sensitive:me,strict:ye}):null,De=!!(le?le(Pe,a):Pe),Me=De?function joinClassnames(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return o.filter((function(i){return i})).join(" ")}(ne,D):ne,je=De?Object(j.a)({},_e,{},$):_e,Re=Object(j.a)({"aria-current":De&&w||null,className:Me,style:je,to:E},Te);return fe!==he?Re.ref=o||Se:Re.innerRef=Se,P.a.createElement(ue,Re)}))}))},function(i,o,a){(function(a){var v,w,E;w=[],void 0===(E="function"===typeof(v=function(){"use strict";function c(i,o,a){var w=new XMLHttpRequest;w.open("GET",i),w.responseType="blob",w.onload=function(){v(w.response,o,a)},w.onerror=function(){console.error("could not download file")},w.send()}function d(i){var o=new XMLHttpRequest;o.open("HEAD",i,!1);try{o.send()}catch(i){}return 200<=o.status&&299>=o.status}function e(i){try{i.dispatchEvent(new MouseEvent("click"))}catch(c){var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(o)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,v=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype?function(i,a,v){var w=o.URL||o.webkitURL,E=document.createElement("a");a=a||i.name||"download",E.download=a,E.rel="noopener","string"==typeof i?(E.href=i,E.origin===location.origin?e(E):d(E.href)?c(i,a,v):e(E,E.target="_blank")):(E.href=w.createObjectURL(i),setTimeout((function(){w.revokeObjectURL(E.href)}),4e4),setTimeout((function(){e(E)}),0))}:"msSaveOrOpenBlob"in navigator?function(i,o,a){if(o=o||i.name||"download","string"!=typeof i)navigator.msSaveOrOpenBlob(function b(i,o){return"undefined"==typeof o?o={autoBom:!1}:"object"!=typeof o&&(console.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\ufeff",i],{type:i.type}):i}(i,a),o);else if(d(i))c(i,o,a);else{var v=document.createElement("a");v.href=i,v.target="_blank",setTimeout((function(){e(v)}))}}:function(i,a,v,w){if((w=w||open("","_blank"))&&(w.document.title=w.document.body.innerText="downloading..."),"string"==typeof i)return c(i,a,v);var E="application/octet-stream"===i.type,P=/constructor/i.test(o.HTMLElement)||o.safari,D=/CriOS\/[\d]+/.test(navigator.userAgent);if((D||E&&P)&&"object"==typeof FileReader){var j=new FileReader;j.onloadend=function(){var i=j.result;i=D?i:i.replace(/^data:[^;]*;/,"data:attachment/file;"),w?w.location.href=i:location=i,w=null},j.readAsDataURL(i)}else{var B=o.URL||o.webkitURL,Q=B.createObjectURL(i);w?w.location=Q:location.href=Q,w=null,setTimeout((function(){B.revokeObjectURL(Q)}),4e4)}});o.saveAs=v.saveAs=v,i.exports=v})?v.apply(o,w):v)||(i.exports=E)}).call(this,a(15))},function(i,o,a){"use strict";function _toConsumableArray(i){if(Array.isArray(i)){for(var o=0,a=Array(i.length);o<i.length;o++)a[o]=i[o];return a}return Array.from(i)}a.d(o,"a",(function(){return ne})),a.d(o,"b",(function(){return ie}));var v=!1;if("undefined"!==typeof window){var w={get passive(){v=!0}};window.addEventListener("testPassive",null,w),window.removeEventListener("testPassive",null,w)}var E="undefined"!==typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),P=[],D=!1,j=-1,B=void 0,Q=void 0,$=function allowTouchMove(i){return P.some((function(o){return!(!o.options.allowTouchMove||!o.options.allowTouchMove(i))}))},ee=function preventDefault(i){var o=i||window.event;return!!$(o.target)||(o.touches.length>1||(o.preventDefault&&o.preventDefault(),!1))},te=function restoreOverflowSetting(){setTimeout((function(){void 0!==Q&&(document.body.style.paddingRight=Q,Q=void 0),void 0!==B&&(document.body.style.overflow=B,B=void 0)}))},ne=function disableBodyScroll(i,o){if(E){if(!i)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(i&&!P.some((function(o){return o.targetElement===i}))){var a={targetElement:i,options:o||{}};P=[].concat(_toConsumableArray(P),[a]),i.ontouchstart=function(i){1===i.targetTouches.length&&(j=i.targetTouches[0].clientY)},i.ontouchmove=function(o){1===o.targetTouches.length&&function handleScroll(i,o){var a=i.targetTouches[0].clientY-j;!$(i.target)&&(o&&0===o.scrollTop&&a>0||function isTargetElementTotallyScrolled(i){return!!i&&i.scrollHeight-i.scrollTop<=i.clientHeight}(o)&&a<0?ee(i):i.stopPropagation())}(o,i)},D||(document.addEventListener("touchmove",ee,v?{passive:!1}:void 0),D=!0)}}else{!function setOverflowHidden(i){if(void 0===Q){var o=!!i&&!0===i.reserveScrollBarGap,a=window.innerWidth-document.documentElement.clientWidth;o&&a>0&&(Q=document.body.style.paddingRight,document.body.style.paddingRight=a+"px")}void 0===B&&(B=document.body.style.overflow,setTimeout((function(){document.body.style.overflow="hidden"})))}(o);var w={targetElement:i,options:o||{}};P=[].concat(_toConsumableArray(P),[w])}},ie=function enableBodyScroll(i){if(E){if(!i)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");i.ontouchstart=null,i.ontouchmove=null,P=P.filter((function(o){return o.targetElement!==i})),D&&0===P.length&&(document.removeEventListener("touchmove",ee,v?{passive:!1}:void 0),D=!1)}else(P=P.filter((function(o){return o.targetElement!==i}))).length||te()}},function(i,o,a){"use strict";(function(i){var v=a(0),w=a.n(v),E=a(7),P=a(24),D=a.n(P),j="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof i?i:{};function createEventEmitter(i){var o=[];return{on:function on(i){o.push(i)},off:function off(i){o=o.filter((function(o){return o!==i}))},get:function get(){return i},set:function set(a,v){i=a,o.forEach((function(o){return o(i,v)}))}}}var B=w.a.createContext||function createReactContext(i,o){var a,w,P="__create-react-context-"+function getUniqueId(){var i="__global_unique_id__";return j[i]=(j[i]||0)+1}()+"__",B=function(i){function Provider(){var o;return(o=i.apply(this,arguments)||this).emitter=createEventEmitter(o.props.value),o}Object(E.a)(Provider,i);var a=Provider.prototype;return a.getChildContext=function getChildContext(){var i;return(i={})[P]=this.emitter,i},a.componentWillReceiveProps=function componentWillReceiveProps(i){if(this.props.value!==i.value){var a,v=this.props.value,w=i.value;!function objectIs(i,o){return i===o?0!==i||1/i===1/o:i!==i&&o!==o}(v,w)?(a="function"===typeof o?o(v,w):1073741823,0!==(a|=0)&&this.emitter.set(i.value,a)):a=0}},a.render=function render(){return this.props.children},Provider}(v.Component);B.childContextTypes=((a={})[P]=D.a.object.isRequired,a);var Q=function(o){function Consumer(){var i;return(i=o.apply(this,arguments)||this).state={value:i.getValue()},i.onUpdate=function(o,a){0!==((0|i.observedBits)&a)&&i.setState({value:i.getValue()})},i}Object(E.a)(Consumer,o);var a=Consumer.prototype;return a.componentWillReceiveProps=function componentWillReceiveProps(i){var o=i.observedBits;this.observedBits=void 0===o||null===o?1073741823:o},a.componentDidMount=function componentDidMount(){this.context[P]&&this.context[P].on(this.onUpdate);var i=this.props.observedBits;this.observedBits=void 0===i||null===i?1073741823:i},a.componentWillUnmount=function componentWillUnmount(){this.context[P]&&this.context[P].off(this.onUpdate)},a.getValue=function getValue(){return this.context[P]?this.context[P].get():i},a.render=function render(){return function onlyChild(i){return Array.isArray(i)?i[0]:i}(this.props.children)(this.state.value)},Consumer}(v.Component);return Q.contextTypes=((w={})[P]=D.a.object,w),{Provider:B,Consumer:Q}};o.a=B}).call(this,a(15))},function(i,o,a){var v=a(138);i.exports=pathToRegexp,i.exports.parse=parse,i.exports.compile=function compile(i,o){return tokensToFunction(parse(i,o),o)},i.exports.tokensToFunction=tokensToFunction,i.exports.tokensToRegExp=tokensToRegExp;var w=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function parse(i,o){for(var a,v=[],E=0,P=0,D="",j=o&&o.delimiter||"/";null!=(a=w.exec(i));){var B=a[0],Q=a[1],$=a.index;if(D+=i.slice(P,$),P=$+B.length,Q)D+=Q[1];else{var ee=i[P],te=a[2],ne=a[3],ie=a[4],le=a[5],ue=a[6],fe=a[7];D&&(v.push(D),D="");var he=null!=te&&null!=ee&&ee!==te,ge="+"===ue||"*"===ue,me="?"===ue||"*"===ue,ye=a[2]||j,_e=ie||le;v.push({name:ne||E++,prefix:te||"",delimiter:ye,optional:me,repeat:ge,partial:he,asterisk:!!fe,pattern:_e?escapeGroup(_e):fe?".*":"[^"+escapeString(ye)+"]+?"})}}return P<i.length&&(D+=i.substr(P)),D&&v.push(D),v}function encodeURIComponentPretty(i){return encodeURI(i).replace(/[\/?#]/g,(function(i){return"%"+i.charCodeAt(0).toString(16).toUpperCase()}))}function tokensToFunction(i,o){for(var a=new Array(i.length),w=0;w<i.length;w++)"object"===typeof i[w]&&(a[w]=new RegExp("^(?:"+i[w].pattern+")$",flags(o)));return function(o,w){for(var E="",P=o||{},D=(w||{}).pretty?encodeURIComponentPretty:encodeURIComponent,j=0;j<i.length;j++){var B=i[j];if("string"!==typeof B){var Q,$=P[B.name];if(null==$){if(B.optional){B.partial&&(E+=B.prefix);continue}throw new TypeError('Expected "'+B.name+'" to be defined')}if(v($)){if(!B.repeat)throw new TypeError('Expected "'+B.name+'" to not repeat, but received `'+JSON.stringify($)+"`");if(0===$.length){if(B.optional)continue;throw new TypeError('Expected "'+B.name+'" to not be empty')}for(var ee=0;ee<$.length;ee++){if(Q=D($[ee]),!a[j].test(Q))throw new TypeError('Expected all "'+B.name+'" to match "'+B.pattern+'", but received `'+JSON.stringify(Q)+"`");E+=(0===ee?B.prefix:B.delimiter)+Q}}else{if(Q=B.asterisk?encodeURI($).replace(/[?#]/g,(function(i){return"%"+i.charCodeAt(0).toString(16).toUpperCase()})):D($),!a[j].test(Q))throw new TypeError('Expected "'+B.name+'" to match "'+B.pattern+'", but received "'+Q+'"');E+=B.prefix+Q}}else E+=B}return E}}function escapeString(i){return i.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function escapeGroup(i){return i.replace(/([=!:$\/()])/g,"\\$1")}function attachKeys(i,o){return i.keys=o,i}function flags(i){return i&&i.sensitive?"":"i"}function tokensToRegExp(i,o,a){v(o)||(a=o||a,o=[]);for(var w=(a=a||{}).strict,E=!1!==a.end,P="",D=0;D<i.length;D++){var j=i[D];if("string"===typeof j)P+=escapeString(j);else{var B=escapeString(j.prefix),Q="(?:"+j.pattern+")";o.push(j),j.repeat&&(Q+="(?:"+B+Q+")*"),P+=Q=j.optional?j.partial?B+"("+Q+")?":"(?:"+B+"("+Q+"))?":B+"("+Q+")"}}var $=escapeString(a.delimiter||"/"),ee=P.slice(-$.length)===$;return w||(P=(ee?P.slice(0,-$.length):P)+"(?:"+$+"(?=$))?"),P+=E?"$":w&&ee?"":"(?="+$+"|$)",attachKeys(new RegExp("^"+P,flags(a)),o)}function pathToRegexp(i,o,a){return v(o)||(a=o||a,o=[]),a=a||{},i instanceof RegExp?function regexpToRegexp(i,o){var a=i.source.match(/\((?!\?)/g);if(a)for(var v=0;v<a.length;v++)o.push({name:v,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return attachKeys(i,o)}(i,o):v(i)?function arrayToRegexp(i,o,a){for(var v=[],w=0;w<i.length;w++)v.push(pathToRegexp(i[w],o,a).source);return attachKeys(new RegExp("(?:"+v.join("|")+")",flags(a)),o)}(i,o,a):function stringToRegexp(i,o,a){return tokensToRegExp(parse(i,a),o,a)}(i,o,a)}},function(i,o,a){"use strict";var v=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;function toObject(i){if(null===i||void 0===i)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}i.exports=function shouldUseNative(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de","5"===Object.getOwnPropertyNames(i)[0])return!1;for(var o={},a=0;a<10;a++)o["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(o).map((function(i){return o[i]})).join(""))return!1;var v={};return"abcdefghijklmnopqrst".split("").forEach((function(i){v[i]=i})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},v)).join("")}catch(w){return!1}}()?Object.assign:function(i,o){for(var a,P,D=toObject(i),j=1;j<arguments.length;j++){for(var B in a=Object(arguments[j]))w.call(a,B)&&(D[B]=a[B]);if(v){P=v(a);for(var Q=0;Q<P.length;Q++)E.call(a,P[Q])&&(D[P[Q]]=a[P[Q]])}}return D}},function(i,o){var a,v,w=i.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(i){if(a===setTimeout)return setTimeout(i,0);if((a===defaultSetTimout||!a)&&setTimeout)return a=setTimeout,setTimeout(i,0);try{return a(i,0)}catch(o){try{return a.call(null,i,0)}catch(o){return a.call(this,i,0)}}}!function(){try{a="function"===typeof setTimeout?setTimeout:defaultSetTimout}catch(i){a=defaultSetTimout}try{v="function"===typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(i){v=defaultClearTimeout}}();var E,P=[],D=!1,j=-1;function cleanUpNextTick(){D&&E&&(D=!1,E.length?P=E.concat(P):j=-1,P.length&&drainQueue())}function drainQueue(){if(!D){var i=runTimeout(cleanUpNextTick);D=!0;for(var o=P.length;o;){for(E=P,P=[];++j<o;)E&&E[j].run();j=-1,o=P.length}E=null,D=!1,function runClearTimeout(i){if(v===clearTimeout)return clearTimeout(i);if((v===defaultClearTimeout||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(i);try{return v(i)}catch(o){try{return v.call(null,i)}catch(o){return v.call(this,i)}}}(i)}}function Item(i,o){this.fun=i,this.array=o}function noop(){}w.nextTick=function(i){var o=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)o[a-1]=arguments[a];P.push(new Item(i,o)),1!==P.length||D||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},w.title="browser",w.browser=!0,w.env={},w.argv=[],w.version="",w.versions={},w.on=noop,w.addListener=noop,w.once=noop,w.off=noop,w.removeListener=noop,w.removeAllListeners=noop,w.emit=noop,w.prependListener=noop,w.prependOnceListener=noop,w.listeners=function(i){return[]},w.binding=function(i){throw new Error("process.binding is not supported")},w.cwd=function(){return"/"},w.chdir=function(i){throw new Error("process.chdir is not supported")},w.umask=function(){return 0}},function(i,o,a){var v=a(20);i.exports=function(i){if(!v(i))throw TypeError(i+" is not an object!");return i}},function(i,o,a){i.exports=!a(11)&&!a(36)((function(){return 7!=Object.defineProperty(a(93)("div"),"a",{get:function get(){return 7}}).a}))},function(i,o){i.exports=!1},function(i,o,a){var v=a(28);i.exports=function(i,o,a){if(v(i),void 0===o)return i;switch(a){case 1:return function(a){return i.call(o,a)};case 2:return function(a,v){return i.call(o,a,v)};case 3:return function(a,v,w){return i.call(o,a,v,w)}}return function(){return i.apply(o,arguments)}}},function(i,o,a){var v=a(27),w=a(22),E=a(57)(!1),P=a(58)("IE_PROTO");i.exports=function(i,o){var a,D=w(i),j=0,B=[];for(a in D)a!=P&&v(D,a)&&B.push(a);for(;o.length>j;)v(D,a=o[j++])&&(~E(B,a)||B.push(a));return B}},function(i,o,a){var v=a(22),w=a(29),E=a(99);i.exports=function(i){return function(o,a,P){var D,j=v(o),B=w(j.length),Q=E(P,B);if(i&&a!=a){for(;B>Q;)if((D=j[Q++])!=D)return!0}else for(;B>Q;Q++)if((i||Q in j)&&j[Q]===a)return i||Q||0;return!i&&-1}}},function(i,o,a){var v=a(39)("keys"),w=a(38);i.exports=function(i){return v[i]||(v[i]=w(i))}},function(i,o){i.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(i,o){o.f={}.propertyIsEnumerable},function(i,o,a){var v=a(11),w=a(103),E=a(22),P=a(60).f;i.exports=function(i){return function(o){for(var a,D=E(o),j=w(D),B=j.length,Q=0,$=[];B>Q;)a=j[Q++],v&&!P.call(D,a)||$.push(i?[a,D[a]]:D[a]);return $}}},function(i,o,a){var v=a(27),w=a(18),E=a(58)("IE_PROTO"),P=Object.prototype;i.exports=Object.getPrototypeOf||function(i){return i=w(i),v(i,E)?i[E]:"function"==typeof i.constructor&&i instanceof i.constructor?i.constructor.prototype:i instanceof Object?P:null}},function(i,o,a){"use strict";var v=a(64),w=a(20),E=a(29),P=a(55),D=a(23)("isConcatSpreadable");i.exports=function flattenIntoArray(i,o,a,j,B,Q,$,ee){for(var te,ne,ie=B,le=0,ue=!!$&&P($,ee,3);le<j;){if(le in a){if(te=ue?ue(a[le],le,o):a[le],ne=!1,w(te)&&(ne=void 0!==(ne=te[D])?!!ne:v(te)),ne&&Q>0)ie=flattenIntoArray(i,o,te,E(te.length),ie,Q-1)-1;else{if(ie>=9007199254740991)throw TypeError();i[ie]=te}ie++}le++}return ie}},function(i,o,a){var v=a(40);i.exports=Array.isArray||function isArray(i){return"Array"==v(i)}},function(i,o,a){var v=a(117);i.exports=function(i,o){return new(v(i))(o)}},function(i,o,a){var v,w,E;!function(P){"use strict";w=[a(12)],void 0===(E="function"===typeof(v=function(i){var o=i.transform;i.createCanvas=function(o,a,v){if(v&&i.global.OffscreenCanvas)return new OffscreenCanvas(o,a);var w=document.createElement("canvas");return w.width=o,w.height=a,w},i.transform=function(a,v,w,E,P){o.call(i,i.scale(a,v,P),v,w,E,P)},i.transformCoordinates=function(){},i.getTransformedOptions=function(i,o){var a,v,w,E,P=o.aspectRatio;if(!P)return o;for(v in a={},o)Object.prototype.hasOwnProperty.call(o,v)&&(a[v]=o[v]);return a.crop=!0,(w=i.naturalWidth||i.width)/(E=i.naturalHeight||i.height)>P?(a.maxWidth=E*P,a.maxHeight=E):(a.maxWidth=w,a.maxHeight=w/P),a},i.drawImage=function(i,o,a,v,w,E,P,D,j){var B=o.getContext("2d");return!1===j.imageSmoothingEnabled?(B.msImageSmoothingEnabled=!1,B.imageSmoothingEnabled=!1):j.imageSmoothingQuality&&(B.imageSmoothingQuality=j.imageSmoothingQuality),B.drawImage(i,a,v,w,E,0,0,P,D),B},i.requiresCanvas=function(i){return i.canvas||i.crop||!!i.aspectRatio},i.scale=function(o,a,v){a=a||{},v=v||{};var w,E,P,D,j,B,Q,$,ee,te,ne,ie,le=o.getContext||i.requiresCanvas(a)&&!!i.global.HTMLCanvasElement,ue=o.naturalWidth||o.width,fe=o.naturalHeight||o.height,he=ue,ge=fe;function scaleUp(){var i=Math.max((P||he)/he,(D||ge)/ge);i>1&&(he*=i,ge*=i)}function scaleDown(){var i=Math.min((w||he)/he,(E||ge)/ge);i<1&&(he*=i,ge*=i)}if(le&&(Q=(a=i.getTransformedOptions(o,a,v)).left||0,$=a.top||0,a.sourceWidth?(j=a.sourceWidth,void 0!==a.right&&void 0===a.left&&(Q=ue-j-a.right)):j=ue-Q-(a.right||0),a.sourceHeight?(B=a.sourceHeight,void 0!==a.bottom&&void 0===a.top&&($=fe-B-a.bottom)):B=fe-$-(a.bottom||0),he=j,ge=B),w=a.maxWidth,E=a.maxHeight,P=a.minWidth,D=a.minHeight,le&&w&&E&&a.crop?(he=w,ge=E,(ne=j/B-w/E)<0?(B=E*j/w,void 0===a.top&&void 0===a.bottom&&($=(fe-B)/2)):ne>0&&(j=w*B/E,void 0===a.left&&void 0===a.right&&(Q=(ue-j)/2))):((a.contain||a.cover)&&(P=w=w||P,D=E=E||D),a.cover?(scaleDown(),scaleUp()):(scaleUp(),scaleDown())),le){if((ee=a.pixelRatio)>1&&(!o.style.width||Math.floor(parseFloat(o.style.width,10))!==Math.floor(ue/ee))&&(he*=ee,ge*=ee),i.orientationCropBug&&!o.getContext&&(Q||$||j!==ue||B!==fe)&&(ne=o,o=i.createCanvas(ue,fe,!0),i.drawImage(ne,o,0,0,ue,fe,ue,fe,a)),(te=a.downsamplingRatio)>0&&te<1&&he<j&&ge<B)for(;j*te>he;)ie=i.createCanvas(j*te,B*te,!0),i.drawImage(o,ie,Q,$,j,B,ie.width,ie.height,a),Q=0,$=0,j=ie.width,B=ie.height,o=ie;return ie=i.createCanvas(he,ge),i.transformCoordinates(ie,a,v),ee>1&&(ie.style.width=ie.width/ee+"px"),i.drawImage(o,ie,Q,$,j,B,he,ge,a).setTransform(1,0,0,1,0,0),ie}return o.width=he,o.height=ge,o}})?v.apply(o,w):v)||(i.exports=E)}()},function(i,o,a){var v,w,E;!function(P){"use strict";w=[a(12),a(31)],void 0===(E="function"===typeof(v=function(i){function ExifMap(i){i&&(Object.defineProperty(this,"map",{value:this.ifds[i].map}),Object.defineProperty(this,"tags",{value:this.tags&&this.tags[i]||{}}))}ExifMap.prototype.map={Orientation:274,Thumbnail:"ifd1",Blob:513,Exif:34665,GPSInfo:34853,Interoperability:40965},ExifMap.prototype.ifds={ifd1:{name:"Thumbnail",map:ExifMap.prototype.map},34665:{name:"Exif",map:{}},34853:{name:"GPSInfo",map:{}},40965:{name:"Interoperability",map:{}}},ExifMap.prototype.get=function(i){return this[i]||this[this.map[i]]};var o={1:{getValue:function getValue(i,o){return i.getUint8(o)},size:1},2:{getValue:function getValue(i,o){return String.fromCharCode(i.getUint8(o))},size:1,ascii:!0},3:{getValue:function getValue(i,o,a){return i.getUint16(o,a)},size:2},4:{getValue:function getValue(i,o,a){return i.getUint32(o,a)},size:4},5:{getValue:function getValue(i,o,a){return i.getUint32(o,a)/i.getUint32(o+4,a)},size:8},9:{getValue:function getValue(i,o,a){return i.getInt32(o,a)},size:4},10:{getValue:function getValue(i,o,a){return i.getInt32(o,a)/i.getInt32(o+4,a)},size:8}};function getExifValue(i,a,v,w,E,P){var D,j,B,Q,$,ee,te=o[w];if(te){if(!((j=(D=te.size*E)>4?a+i.getUint32(v+8,P):v+8)+D>i.byteLength)){if(1===E)return te.getValue(i,j,P);for(B=[],Q=0;Q<E;Q+=1)B[Q]=te.getValue(i,j+Q*te.size,P);if(te.ascii){for($="",Q=0;Q<B.length&&"\0"!==(ee=B[Q]);Q+=1)$+=ee;return $}return B}console.log("Invalid Exif data: Invalid data offset.")}else console.log("Invalid Exif data: Invalid tag type.")}function shouldIncludeTag(i,o,a){return(!i||i[a])&&(!o||!0!==o[a])}function parseExifTags(i,o,a,v,w,E,P,D){var j,B,Q,$,ee,te;if(a+6>i.byteLength)console.log("Invalid Exif data: Invalid directory offset.");else{if(!((B=a+2+12*(j=i.getUint16(a,v)))+4>i.byteLength)){for(Q=0;Q<j;Q+=1)$=a+2+12*Q,shouldIncludeTag(P,D,ee=i.getUint16($,v))&&(te=getExifValue(i,o,$,i.getUint16($+2,v),i.getUint32($+4,v),v),w[ee]=te,E&&(E[ee]=$));return i.getUint32(B,v)}console.log("Invalid Exif data: Invalid directory size.")}}o[7]=o[1],i.parseExifData=function(o,a,v,w,E){if(!E.disableExif){var P,D,j,B=E.includeExifTags,Q=E.excludeExifTags||{34665:{37500:!0}},$=a+10;if(1165519206===o.getUint32(a+4))if($+8>o.byteLength)console.log("Invalid Exif data: Invalid segment size.");else if(0===o.getUint16(a+8)){switch(o.getUint16($)){case 18761:P=!0;break;case 19789:P=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}42===o.getUint16($+2,P)?(D=o.getUint32($+4,P),w.exif=new ExifMap,E.disableExifOffsets||(w.exifOffsets=new ExifMap,w.exifTiffOffset=$,w.exifLittleEndian=P),(D=parseExifTags(o,$,$+D,P,w.exif,w.exifOffsets,B,Q))&&shouldIncludeTag(B,Q,"ifd1")&&(w.exif.ifd1=D,w.exifOffsets&&(w.exifOffsets.ifd1=$+D)),Object.keys(w.exif.ifds).forEach((function(i){!function parseExifIFD(i,o,a,v,w,E,P){var D=i.exif[o];D&&(i.exif[o]=new ExifMap(o),i.exifOffsets&&(i.exifOffsets[o]=new ExifMap(o)),parseExifTags(a,v,v+D,w,i.exif[o],i.exifOffsets&&i.exifOffsets[o],E&&E[o],P&&P[o]))}(w,i,o,$,P,B,Q)})),(j=w.exif.ifd1)&&j[513]&&(j[513]=function getExifThumbnail(o,a,v){if(v){if(!(a+v>o.byteLength))return new Blob([i.bufferSlice.call(o.buffer,a,a+v)],{type:"image/jpeg"});console.log("Invalid Exif data: Invalid thumbnail data.")}}(o,$+j[513],j[514]))):console.log("Invalid Exif data: Missing TIFF marker.")}else console.log("Invalid Exif data: Missing byte alignment offset.")}},i.metaDataParsers.jpeg[65505].push(i.parseExifData),i.exifWriters={274:function _(i,o,a){var v=o.exifOffsets[274];return v?(new DataView(i,v+8,2).setUint16(0,a,o.exifLittleEndian),i):i}},i.writeExifData=function(o,a,v,w){return i.exifWriters[a.exif.map[v]](o,a,w)},i.ExifMap=ExifMap})?v.apply(o,w):v)||(i.exports=E)}()},function(i,o,a){var v,w,E;!function(P){"use strict";w=[a(12),a(31)],void 0===(E="function"===typeof(v=function(i){function IptcMap(){}function getTagValue(i,o,a,v,w){return"binary"===o.types[i]?new Blob([a.buffer.slice(v,v+w)]):"Uint16"===o.types[i]?a.getUint16(v):function getStringValue(i,o,a){for(var v="",w=o+a,E=o;E<w;E+=1)v+=String.fromCharCode(i.getUint8(E));return v}(a,v,w)}function combineTagValues(i,o){return void 0===i?o:i instanceof Array?(i.push(o),i):[i,o]}function parseIptcTags(i,o,a,v,w,E){for(var P,D,j,B=o+a,Q=o;Q<B;)28===i.getUint8(Q)&&2===i.getUint8(Q+1)&&(j=i.getUint8(Q+2),w&&!w[j]||E&&E[j]||(D=i.getInt16(Q+3),P=getTagValue(j,v.iptc,i,Q+5,D),v.iptc[j]=combineTagValues(v.iptc[j],P),v.iptcOffsets&&(v.iptcOffsets[j]=Q))),Q+=1}function isSegmentStart(i,o){return 943868237===i.getUint32(o)&&1028===i.getUint16(o+4)}function getHeaderLength(i,o){var a=i.getUint8(o+7);return a%2!==0&&(a+=1),0===a&&(a=4),a}IptcMap.prototype.map={ObjectName:5},IptcMap.prototype.types={0:"Uint16",200:"Uint16",201:"Uint16",202:"binary"},IptcMap.prototype.get=function(i){return this[i]||this[this.map[i]]},i.parseIptcData=function(i,o,a,v,w){if(!w.disableIptc)for(var E=o+a;o+8<E;){if(isSegmentStart(i,o)){var P=getHeaderLength(i,o),D=o+8+P;if(D>E){console.log("Invalid IPTC data: Invalid segment offset.");break}var j=i.getUint16(o+6+P);if(o+j>E){console.log("Invalid IPTC data: Invalid segment size.");break}return v.iptc=new IptcMap,w.disableIptcOffsets||(v.iptcOffsets=new IptcMap),void parseIptcTags(i,D,j,v,w.includeIptcTags,w.excludeIptcTags||{202:!0})}o+=1}},i.metaDataParsers.jpeg[65517].push(i.parseIptcData),i.IptcMap=IptcMap})?v.apply(o,w):v)||(i.exports=E)}()},,function(i,o,a){"use strict";(function(i){var v=a(33),w=setTimeout;function isArray(i){return Boolean(i&&"undefined"!==typeof i.length)}function noop(){}function Promise(i){if(!(this instanceof Promise))throw new TypeError("Promises must be constructed via new");if("function"!==typeof i)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],doResolve(i,this)}function handle(i,o){for(;3===i._state;)i=i._value;0!==i._state?(i._handled=!0,Promise._immediateFn((function(){var a=1===i._state?o.onFulfilled:o.onRejected;if(null!==a){var v;try{v=a(i._value)}catch(w){return void reject(o.promise,w)}resolve(o.promise,v)}else(1===i._state?resolve:reject)(o.promise,i._value)}))):i._deferreds.push(o)}function resolve(i,o){try{if(o===i)throw new TypeError("A promise cannot be resolved with itself.");if(o&&("object"===typeof o||"function"===typeof o)){var a=o.then;if(o instanceof Promise)return i._state=3,i._value=o,void finale(i);if("function"===typeof a)return void doResolve(function bind(i,o){return function(){i.apply(o,arguments)}}(a,o),i)}i._state=1,i._value=o,finale(i)}catch(v){reject(i,v)}}function reject(i,o){i._state=2,i._value=o,finale(i)}function finale(i){2===i._state&&0===i._deferreds.length&&Promise._immediateFn((function(){i._handled||Promise._unhandledRejectionFn(i._value)}));for(var o=0,a=i._deferreds.length;o<a;o++)handle(i,i._deferreds[o]);i._deferreds=null}function Handler(i,o,a){this.onFulfilled="function"===typeof i?i:null,this.onRejected="function"===typeof o?o:null,this.promise=a}function doResolve(i,o){var a=!1;try{i((function(i){a||(a=!0,resolve(o,i))}),(function(i){a||(a=!0,reject(o,i))}))}catch(v){if(a)return;a=!0,reject(o,v)}}Promise.prototype.catch=function(i){return this.then(null,i)},Promise.prototype.then=function(i,o){var a=new this.constructor(noop);return handle(this,new Handler(i,o,a)),a},Promise.prototype.finally=v.a,Promise.all=function(i){return new Promise((function(o,a){if(!isArray(i))return a(new TypeError("Promise.all accepts an array"));var v=Array.prototype.slice.call(i);if(0===v.length)return o([]);var w=v.length;function res(i,E){try{if(E&&("object"===typeof E||"function"===typeof E)){var P=E.then;if("function"===typeof P)return void P.call(E,(function(o){res(i,o)}),a)}v[i]=E,0===--w&&o(v)}catch(D){a(D)}}for(var E=0;E<v.length;E++)res(E,v[E])}))},Promise.resolve=function(i){return i&&"object"===typeof i&&i.constructor===Promise?i:new Promise((function(o){o(i)}))},Promise.reject=function(i){return new Promise((function(o,a){a(i)}))},Promise.race=function(i){return new Promise((function(o,a){if(!isArray(i))return a(new TypeError("Promise.race accepts an array"));for(var v=0,w=i.length;v<w;v++)Promise.resolve(i[v]).then(o,a)}))},Promise._immediateFn="function"===typeof i&&function(o){i(o)}||function(i){w(i,0)},Promise._unhandledRejectionFn=function _unhandledRejectionFn(i){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",i)},o.a=Promise}).call(this,a(89).setImmediate)},function(i,o,a){"use strict";i.exports=isMobile,i.exports.isMobile=isMobile,i.exports.default=isMobile;var v=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,w=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function isMobile(i){i||(i={});var o=i.ua;if(o||"undefined"===typeof navigator||(o=navigator.userAgent),o&&o.headers&&"string"===typeof o.headers["user-agent"]&&(o=o.headers["user-agent"]),"string"!==typeof o)return!1;var a=i.tablet?w.test(o):v.test(o);return!a&&i.tablet&&i.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==o.indexOf("Macintosh")&&-1!==o.indexOf("Safari")&&(a=!0),a}},function(i,o,a){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"useScrollPosition",{enumerable:!0,get:function get(){return v.useScrollPosition}});var v=a(119)},function(i,o,a){!function webpackUniversalModuleDefinition(o,a){i.exports=a()}(0,(function(){return function(i){var o={};function __webpack_require__(a){if(o[a])return o[a].exports;var v=o[a]={i:a,l:!1,exports:{}};return i[a].call(v.exports,v,v.exports,__webpack_require__),v.l=!0,v.exports}return __webpack_require__.m=i,__webpack_require__.c=o,__webpack_require__.i=function(i){return i},__webpack_require__.d=function(i,o,a){__webpack_require__.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:a})},__webpack_require__.n=function(i){var o=i&&i.__esModule?function getDefault(){return i.default}:function getModuleExports(){return i};return __webpack_require__.d(o,"a",o),o},__webpack_require__.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=1)}([function(i,o,a){"use strict";var v,w,E,P="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"===typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i};E=function(){function normalize(i,o){return i=(i=(i=function startsWith(i,o){return i.substr(0,o.length)===o}(i,"file://")?i.replace(/(\/{0,3})\/*/g,"$1"):(i=i.replace(/:\//g,"://")).replace(/([^:\s%3A])\/+/g,"$1/")).replace(/\/(\?|&|#[^!])/g,"$1")).replace(/(\?.+)\?/g,"$1&")}return function(){var i=arguments;"object"===P(arguments[0])&&(i=arguments[0]);var o=[].slice.call(i,0).join("/");return normalize(o)}},"undefined"!==typeof i&&i.exports?i.exports=E():void 0===(w="function"===typeof(v=E)?v.call(o,a,o,i):v)||(i.exports=w)},function(i,o,a){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var v=function _interopRequireDefault(i){return i&&i.__esModule?i:{default:i}}(a(0));function prefetchImageEachDomain(i,o,a){for(var v=o.concurrency||6,w={start:0,end:0,concurrency:v,iterations:Math.ceil(i.length/v),imagesContainer:[]},E=[],P=0;P<w.iterations;P++)E.push(loadImages(i,w));return Promise.all(E).then((function(){return function addAllImagesToDOM(i){var o=document.querySelector("body"),a=document.createElement("div");a.setAttribute("class","prefetch-image-wrapper_"+Math.random()),a.style.width=0,a.style.height=0,a.style.overflow="hidden",a.style.display="none",i.forEach((function(i){a.appendChild(i)})),o.appendChild(a)}(w.imagesContainer),console.info("[prefetch-image]: Images loaded for domain ["+(a||location.origin)+"], length ["+i.length+"]"),Promise.resolve(w.imagesContainer)})).catch((function(i){return console.error("[prefetch-image]: ",i),Promise.reject(w.imagesContainer)}))}function loadImages(i,o){var a=[],v=i.length,w=o;if(w.start>=v)return Promise.resolve([]);for(var E=w.start,P=E+w.concurrency,D=E;D<P;D++){var j=i[D];j&&a.push(loadImage(j,w.imagesContainer))}return w.start=P,w.end=P+w.concurrency,Promise.all(a)}function loadImage(i,o){return new Promise((function(a){var v=new Image;v.onload=function(){a(i)},v.onerror=function(){console.error('[prefetch-image]: "'+i+'" failed'),a(i)},v.src=i,o.push(v)}))}function joinUrls(i,o){var a=[];return o.forEach((function(o){a.push((0,v.default)(i,o))})),a}o.default=function prefetchImages(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!i)return console.error("[prefetch-image]: images not provided, pls pass images in Array or object!"),Promise.reject({});var a=Array.isArray(i);if(a)return prefetchImageEachDomain(i,o);for(var v=[],w=Object.keys(i),E=0;E<w.length;E++){var P=w[E];v.push(prefetchImageEachDomain(joinUrls(P,i[P]),o,P))}return Promise.all(v).then((function(i){return console.info("[prefetch-image]: Images loaded for all domains!"),Promise.resolve(i)})).catch((function(i){return console.error("[prefetch-image]: ",i),Promise.reject(null)}))}}])}))},function(i,o,a){i.exports=function e(i,o,a){function s(w,E){if(!o[w]){if(!i[w]){if(v)return v(w,!0);var P=new Error("Cannot find module '"+w+"'");throw P.code="MODULE_NOT_FOUND",P}var D=o[w]={exports:{}};i[w][0].call(D.exports,(function(o){var a=i[w][1][o];return s(a||o)}),D,D.exports,e,i,o,a)}return o[w].exports}for(var v=!1,w=0;w<a.length;w++)s(a[w]);return s}({1:[function(i,o,a){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(i){return"function"===typeof i}function isObject(i){return"object"===typeof i&&null!==i}function isUndefined(i){return void 0===i}o.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(i){if(!function isNumber(i){return"number"===typeof i}(i)||i<0||isNaN(i))throw TypeError("n must be a positive number");return this._maxListeners=i,this},EventEmitter.prototype.emit=function(i){var o,a,v,w,E,P;if(this._events||(this._events={}),"error"===i&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if((o=arguments[1])instanceof Error)throw o;var D=new Error('Uncaught, unspecified "error" event. ('+o+")");throw D.context=o,D}if(isUndefined(a=this._events[i]))return!1;if(isFunction(a))switch(arguments.length){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:w=Array.prototype.slice.call(arguments,1),a.apply(this,w)}else if(isObject(a))for(w=Array.prototype.slice.call(arguments,1),v=(P=a.slice()).length,E=0;E<v;E++)P[E].apply(this,w);return!0},EventEmitter.prototype.addListener=function(i,o){var a;if(!isFunction(o))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",i,isFunction(o.listener)?o.listener:o),this._events[i]?isObject(this._events[i])?this._events[i].push(o):this._events[i]=[this._events[i],o]:this._events[i]=o,isObject(this._events[i])&&!this._events[i].warned&&(a=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[i].length>a&&(this._events[i].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[i].length),"function"===typeof console.trace&&console.trace()),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(i,o){if(!isFunction(o))throw TypeError("listener must be a function");var a=!1;function g(){this.removeListener(i,g),a||(a=!0,o.apply(this,arguments))}return g.listener=o,this.on(i,g),this},EventEmitter.prototype.removeListener=function(i,o){var a,v,w,E;if(!isFunction(o))throw TypeError("listener must be a function");if(!this._events||!this._events[i])return this;if(w=(a=this._events[i]).length,v=-1,a===o||isFunction(a.listener)&&a.listener===o)delete this._events[i],this._events.removeListener&&this.emit("removeListener",i,o);else if(isObject(a)){for(E=w;E-- >0;)if(a[E]===o||a[E].listener&&a[E].listener===o){v=E;break}if(v<0)return this;1===a.length?(a.length=0,delete this._events[i]):a.splice(v,1),this._events.removeListener&&this.emit("removeListener",i,o)}return this},EventEmitter.prototype.removeAllListeners=function(i){var o,a;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[i]&&delete this._events[i],this;if(0===arguments.length){for(o in this._events)"removeListener"!==o&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events={},this}if(isFunction(a=this._events[i]))this.removeListener(i,a);else if(a)for(;a.length;)this.removeListener(i,a[a.length-1]);return delete this._events[i],this},EventEmitter.prototype.listeners=function(i){return this._events&&this._events[i]?isFunction(this._events[i])?[this._events[i]]:this._events[i].slice():[]},EventEmitter.prototype.listenerCount=function(i){if(this._events){var o=this._events[i];if(isFunction(o))return 1;if(o)return o.length}return 0},EventEmitter.listenerCount=function(i,o){return i.listenerCount(o)}},{}],2:[function(i,o,a){var v,w,E,P,D;D=navigator.userAgent.toLowerCase(),P=navigator.platform.toLowerCase(),E="ie"===(v=D.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0])[1]&&document.documentMode,(w={name:"version"===v[1]?v[3]:v[1],version:E||parseFloat("opera"===v[1]&&v[4]?v[4]:v[2]),platform:{name:D.match(/ip(?:ad|od|hone)/)?"ios":(D.match(/(?:webos|android)/)||P.match(/mac|win|linux/)||["other"])[0]}})[w.name]=!0,w[w.name+parseInt(w.version,10)]=!0,w.platform[w.platform.name]=!0,o.exports=w},{}],3:[function(i,o,a){var v,w,E,P={}.hasOwnProperty,D=[].indexOf||function(i){for(var o=0,a=this.length;o<a;o++)if(o in this&&this[o]===i)return o;return-1},j=[].slice;v=i("events").EventEmitter,E=i("./browser.coffee"),w=function(i){var o,a;function GIF(i){var a,v,w;for(v in this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(i),o)w=o[v],null==(a=this.options)[v]&&(a[v]=w)}return function extend(i,o){for(var a in o)P.call(o,a)&&(i[a]=o[a]);function ctor(){this.constructor=i}ctor.prototype=o.prototype,i.prototype=new ctor,i.__super__=o.prototype}(GIF,i),o={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:!1,dither:!1},a={delay:500,copy:!1},GIF.prototype.setOption=function(i,o){if(this.options[i]=o,null!=this._canvas&&("width"===i||"height"===i))return this._canvas[i]=o},GIF.prototype.setOptions=function(i){var o,a,v;for(o in a=[],i)P.call(i,o)&&(v=i[o],a.push(this.setOption(o,v)));return a},GIF.prototype.addFrame=function(i,o){var v,w;for(w in null==o&&(o={}),(v={}).transparent=this.options.transparent,a)v[w]=o[w]||a[w];if(null==this.options.width&&this.setOption("width",i.width),null==this.options.height&&this.setOption("height",i.height),"undefined"!==typeof ImageData&&null!==ImageData&&i instanceof ImageData)v.data=i.data;else if("undefined"!==typeof CanvasRenderingContext2D&&null!==CanvasRenderingContext2D&&i instanceof CanvasRenderingContext2D||"undefined"!==typeof WebGLRenderingContext&&null!==WebGLRenderingContext&&i instanceof WebGLRenderingContext)o.copy?v.data=this.getContextData(i):v.context=i;else{if(null==i.childNodes)throw new Error("Invalid image");o.copy?v.data=this.getImageData(i):v.image=i}return this.frames.push(v)},GIF.prototype.render=function(){var i,o,a;if(this.running)throw new Error("Already running");if(null==this.options.width||null==this.options.height)throw new Error("Width and height must be set prior to rendering");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=function(){var i,o,a;for(a=[],i=0,o=this.frames.length;0<=o?i<o:i>o;0<=o?++i:--i)a.push(null);return a}.call(this),o=this.spawnWorkers(),!0===this.options.globalPalette)this.renderNextFrame();else for(i=0,a=o;0<=a?i<a:i>a;0<=a?++i:--i)this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},GIF.prototype.abort=function(){for(var i;null!=(i=this.activeWorkers.shift());)this.log("killing active worker"),i.terminate();return this.running=!1,this.emit("abort")},GIF.prototype.spawnWorkers=function(){var i,o,a,v;return i=Math.min(this.options.workers,this.frames.length),function(){a=[];for(var v=o=this.freeWorkers.length;o<=i?v<i:v>i;o<=i?v++:v--)a.push(v);return a}.apply(this).forEach((v=this,function(i){var o;return v.log("spawning worker "+i),(o=new Worker(v.options.workerScript)).onmessage=function(i){return v.activeWorkers.splice(v.activeWorkers.indexOf(o),1),v.freeWorkers.push(o),v.frameFinished(i.data)},v.freeWorkers.push(o)})),i},GIF.prototype.frameFinished=function(i){var o,a;if(this.log("frame "+i.index+" finished - "+this.activeWorkers.length+" active"),this.finishedFrames++,this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[i.index]=i,!0===this.options.globalPalette&&(this.options.globalPalette=i.globalPalette,this.log("global palette analyzed"),this.frames.length>2))for(o=1,a=this.freeWorkers.length;1<=a?o<a:o>a;1<=a?++o:--o)this.renderNextFrame();return D.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},GIF.prototype.finishRendering=function(){var i,o,a,v,w,E,P,D,j,B,Q,$,ee,te,ne,ie;for(D=0,w=0,j=(te=this.imageParts).length;w<j;w++)D+=((o=te[w]).data.length-1)*o.pageSize+o.cursor;for(D+=o.pageSize-o.cursor,this.log("rendering finished - filesize "+Math.round(D/1e3)+"kb"),i=new Uint8Array(D),$=0,E=0,B=(ne=this.imageParts).length;E<B;E++)for(a=P=0,Q=(ie=(o=ne[E]).data).length;P<Q;a=++P)ee=ie[a],i.set(ee,$),a===o.data.length-1?$+=o.cursor:$+=o.pageSize;return v=new Blob([i],{type:"image/gif"}),this.emit("finished",v,i)},GIF.prototype.renderNextFrame=function(){var i,o,a;if(0===this.freeWorkers.length)throw new Error("No free workers");if(!(this.nextFrame>=this.frames.length))return i=this.frames[this.nextFrame++],a=this.freeWorkers.shift(),o=this.getTask(i),this.log("starting frame "+(o.index+1)+" of "+this.frames.length),this.activeWorkers.push(a),a.postMessage(o)},GIF.prototype.getContextData=function(i){return i.getImageData(0,0,this.options.width,this.options.height).data},GIF.prototype.getImageData=function(i){var o;return null==this._canvas&&(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),(o=this._canvas.getContext("2d")).setFill=this.options.background,o.fillRect(0,0,this.options.width,this.options.height),o.drawImage(i,0,0),this.getContextData(o)},GIF.prototype.getTask=function(i){var o,a;if(a={index:o=this.frames.indexOf(i),last:o===this.frames.length-1,delay:i.delay,transparent:i.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:"chrome"===E.name},null!=i.data)a.data=i.data;else if(null!=i.context)a.data=this.getContextData(i.context);else{if(null==i.image)throw new Error("Invalid frame");a.data=this.getImageData(i.image)}return a},GIF.prototype.log=function(){var i;if(i=1<=arguments.length?j.call(arguments,0):[],this.options.debug)return console.log.apply(console,i)},GIF}(v),o.exports=w},{"./browser.coffee":2,events:1}]},{},[3])(3)},function(i,o,a){i.exports=a(12),a(66),a(31),a(130),a(67),a(131),a(68),a(132),a(133)},function(i,o){i.exports=function shallowEqual(i,o,a,v){var w=a?a.call(v,i,o):void 0;if(void 0!==w)return!!w;if(i===o)return!0;if("object"!==typeof i||!i||"object"!==typeof o||!o)return!1;var E=Object.keys(i),P=Object.keys(o);if(E.length!==P.length)return!1;for(var D=Object.prototype.hasOwnProperty.bind(o),j=0;j<E.length;j++){var B=E[j];if(!D(B))return!1;var Q=i[B],$=o[B];if(!1===(w=a?a.call(v,Q,$,B):void 0)||void 0===w&&Q!==$)return!1}return!0}},function(i,o,a){"use strict";(function(i){var a=function(){if("undefined"!==typeof Map)return Map;function getIndex(i,o){var a=-1;return i.some((function(i,v){return i[0]===o&&(a=v,!0)})),a}return function(){function class_1(){this.__entries__=[]}return Object.defineProperty(class_1.prototype,"size",{get:function get(){return this.__entries__.length},enumerable:!0,configurable:!0}),class_1.prototype.get=function(i){var o=getIndex(this.__entries__,i),a=this.__entries__[o];return a&&a[1]},class_1.prototype.set=function(i,o){var a=getIndex(this.__entries__,i);~a?this.__entries__[a][1]=o:this.__entries__.push([i,o])},class_1.prototype.delete=function(i){var o=this.__entries__,a=getIndex(o,i);~a&&o.splice(a,1)},class_1.prototype.has=function(i){return!!~getIndex(this.__entries__,i)},class_1.prototype.clear=function(){this.__entries__.splice(0)},class_1.prototype.forEach=function(i,o){void 0===o&&(o=null);for(var a=0,v=this.__entries__;a<v.length;a++){var w=v[a];i.call(o,w[1],w[0])}},class_1}()}(),v="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,w="undefined"!==typeof i&&i.Math===Math?i:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),E="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(w):function(i){return setTimeout((function(){return i(Date.now())}),1e3/60)};var P=["top","right","bottom","left","width","height","size","weight"],D="undefined"!==typeof MutationObserver,j=function(){function ResizeObserverController(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function throttle(i,o){var a=!1,v=!1,w=0;function resolvePending(){a&&(a=!1,i()),v&&proxy()}function timeoutCallback(){E(resolvePending)}function proxy(){var i=Date.now();if(a){if(i-w<2)return;v=!0}else a=!0,v=!1,setTimeout(timeoutCallback,o);w=i}return proxy}(this.refresh.bind(this),20)}return ResizeObserverController.prototype.addObserver=function(i){~this.observers_.indexOf(i)||this.observers_.push(i),this.connected_||this.connect_()},ResizeObserverController.prototype.removeObserver=function(i){var o=this.observers_,a=o.indexOf(i);~a&&o.splice(a,1),!o.length&&this.connected_&&this.disconnect_()},ResizeObserverController.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},ResizeObserverController.prototype.updateObservers_=function(){var i=this.observers_.filter((function(i){return i.gatherActive(),i.hasActive()}));return i.forEach((function(i){return i.broadcastActive()})),i.length>0},ResizeObserverController.prototype.connect_=function(){v&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),D?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},ResizeObserverController.prototype.disconnect_=function(){v&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},ResizeObserverController.prototype.onTransitionEnd_=function(i){var o=i.propertyName,a=void 0===o?"":o;P.some((function(i){return!!~a.indexOf(i)}))&&this.refresh()},ResizeObserverController.getInstance=function(){return this.instance_||(this.instance_=new ResizeObserverController),this.instance_},ResizeObserverController.instance_=null,ResizeObserverController}(),B=function defineConfigurable(i,o){for(var a=0,v=Object.keys(o);a<v.length;a++){var w=v[a];Object.defineProperty(i,w,{value:o[w],enumerable:!1,writable:!1,configurable:!0})}return i},Q=function getWindowOf(i){return i&&i.ownerDocument&&i.ownerDocument.defaultView||w},$=createRectInit(0,0,0,0);function toFloat(i){return parseFloat(i)||0}function getBordersSize(i){for(var o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];return o.reduce((function(o,a){return o+toFloat(i["border-"+a+"-width"])}),0)}function getHTMLElementContentRect(i){var o=i.clientWidth,a=i.clientHeight;if(!o&&!a)return $;var v=Q(i).getComputedStyle(i),w=function getPaddings(i){for(var o={},a=0,v=["top","right","bottom","left"];a<v.length;a++){var w=v[a],E=i["padding-"+w];o[w]=toFloat(E)}return o}(v),E=w.left+w.right,P=w.top+w.bottom,D=toFloat(v.width),j=toFloat(v.height);if("border-box"===v.boxSizing&&(Math.round(D+E)!==o&&(D-=getBordersSize(v,"left","right")+E),Math.round(j+P)!==a&&(j-=getBordersSize(v,"top","bottom")+P)),!function isDocumentElement(i){return i===Q(i).document.documentElement}(i)){var B=Math.round(D+E)-o,ee=Math.round(j+P)-a;1!==Math.abs(B)&&(D-=B),1!==Math.abs(ee)&&(j-=ee)}return createRectInit(w.left,w.top,D,j)}var ee="undefined"!==typeof SVGGraphicsElement?function(i){return i instanceof Q(i).SVGGraphicsElement}:function(i){return i instanceof Q(i).SVGElement&&"function"===typeof i.getBBox};function getContentRect(i){return v?ee(i)?function getSVGContentRect(i){var o=i.getBBox();return createRectInit(0,0,o.width,o.height)}(i):getHTMLElementContentRect(i):$}function createRectInit(i,o,a,v){return{x:i,y:o,width:a,height:v}}var te=function(){function ResizeObservation(i){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=i}return ResizeObservation.prototype.isActive=function(){var i=getContentRect(this.target);return this.contentRect_=i,i.width!==this.broadcastWidth||i.height!==this.broadcastHeight},ResizeObservation.prototype.broadcastRect=function(){var i=this.contentRect_;return this.broadcastWidth=i.width,this.broadcastHeight=i.height,i},ResizeObservation}(),ne=function ne(i,o){var a=function createReadOnlyRect(i){var o=i.x,a=i.y,v=i.width,w=i.height,E="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,P=Object.create(E.prototype);return B(P,{x:o,y:a,width:v,height:w,top:a,right:o+v,bottom:w+a,left:o}),P}(o);B(this,{target:i,contentRect:a})},ie=function(){function ResizeObserverSPI(i,o,v){if(this.activeObservations_=[],this.observations_=new a,"function"!==typeof i)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=i,this.controller_=o,this.callbackCtx_=v}return ResizeObserverSPI.prototype.observe=function(i){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(i instanceof Q(i).Element))throw new TypeError('parameter 1 is not of type "Element".');var o=this.observations_;o.has(i)||(o.set(i,new te(i)),this.controller_.addObserver(this),this.controller_.refresh())}},ResizeObserverSPI.prototype.unobserve=function(i){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(i instanceof Q(i).Element))throw new TypeError('parameter 1 is not of type "Element".');var o=this.observations_;o.has(i)&&(o.delete(i),o.size||this.controller_.removeObserver(this))}},ResizeObserverSPI.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},ResizeObserverSPI.prototype.gatherActive=function(){var i=this;this.clearActive(),this.observations_.forEach((function(o){o.isActive()&&i.activeObservations_.push(o)}))},ResizeObserverSPI.prototype.broadcastActive=function(){if(this.hasActive()){var i=this.callbackCtx_,o=this.activeObservations_.map((function(i){return new ne(i.target,i.broadcastRect())}));this.callback_.call(i,o,i),this.clearActive()}},ResizeObserverSPI.prototype.clearActive=function(){this.activeObservations_.splice(0)},ResizeObserverSPI.prototype.hasActive=function(){return this.activeObservations_.length>0},ResizeObserverSPI}(),le="undefined"!==typeof WeakMap?new WeakMap:new a,ue=function ResizeObserver(i){if(!(this instanceof ResizeObserver))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var o=j.getInstance(),a=new ie(i,o,this);le.set(this,a)};["observe","unobserve","disconnect"].forEach((function(i){ue.prototype[i]=function(){var o;return(o=le.get(this))[i].apply(o,arguments)}}));var fe="undefined"!==typeof w.ResizeObserver?w.ResizeObserver:ue;o.a=fe}).call(this,a(15))},,function(i,o,a){"use strict";var v=a(32),w={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},E={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},P={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},D={};function getStatics(i){return v.isMemo(i)?P:D[i.$$typeof]||w}D[v.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},D[v.Memo]=P;var j=Object.defineProperty,B=Object.getOwnPropertyNames,Q=Object.getOwnPropertySymbols,$=Object.getOwnPropertyDescriptor,ee=Object.getPrototypeOf,te=Object.prototype;i.exports=function hoistNonReactStatics(i,o,a){if("string"!==typeof o){if(te){var v=ee(o);v&&v!==te&&hoistNonReactStatics(i,v,a)}var w=B(o);Q&&(w=w.concat(Q(o)));for(var P=getStatics(i),D=getStatics(o),ne=0;ne<w.length;++ne){var ie=w[ne];if(!E[ie]&&(!a||!a[ie])&&(!D||!D[ie])&&(!P||!P[ie])){var le=$(o,ie);try{j(i,ie,le)}catch(ue){}}}}return i}},function(i,o,a){"use strict";function _defineProperty(i,o,a){return o in i?Object.defineProperty(i,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[o]=a,i}function _classCallCheck(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,o){for(var a=0;a<o.length;a++){var v=o[a];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(i,v.key,v)}}function _createClass(i,o,a){return o&&_defineProperties(i.prototype,o),a&&_defineProperties(i,a),i}function _setPrototypeOf(i,o){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(i,o){return i.__proto__=o,i})(i,o)}function _inherits(i,o){if("function"!==typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),o&&_setPrototypeOf(i,o)}function _typeof(i){return(_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof(i){return typeof i}:function _typeof(i){return i&&"function"===typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(i)}function _assertThisInitialized(i){if(void 0===i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _possibleConstructorReturn(i,o){return!o||"object"!==_typeof(o)&&"function"!==typeof o?_assertThisInitialized(i):o}function _getPrototypeOf(i){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(i){return i.__proto__||Object.getPrototypeOf(i)})(i)}var v=a(0),w=a.n(v),E={};function warning(i,o){0}function warning_call(i,o,a){o||E[a]||(i(!1,a),E[a]=!0)}var P=function warningOnce(i,o){warning_call(warning,i,o)};function ownKeys(i,o){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(i);o&&(v=v.filter((function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),a.push.apply(a,v)}return a}function _objectSpread(i){for(var o=1;o<arguments.length;o++){var a=null!=arguments[o]?arguments[o]:{};o%2?ownKeys(Object(a),!0).forEach((function(o){_defineProperty(i,o,a[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(a,o))}))}return i}var D=function Track(i){var o,a,v=i.className,E=i.included,P=i.vertical,D=i.style,j=i.length,B=i.offset,Q=i.reverse;j<0&&(Q=!Q,j=Math.abs(j),B=100-B);var $=P?(_defineProperty(o={},Q?"top":"bottom","".concat(B,"%")),_defineProperty(o,Q?"bottom":"top","auto"),_defineProperty(o,"height","".concat(j,"%")),o):(_defineProperty(a={},Q?"right":"left","".concat(B,"%")),_defineProperty(a,Q?"left":"right","auto"),_defineProperty(a,"width","".concat(j,"%")),a),ee=_objectSpread(_objectSpread({},D),$);return E?w.a.createElement("div",{className:v,style:ee}):null},j=a(13);function _objectWithoutProperties(i,o){if(null==i)return{};var a,v,w=Object(j.a)(i,o);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(i);for(v=0;v<E.length;v++)a=E[v],o.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(i,a)&&(w[a]=i[a])}return w}function get_get(i,o,a){return(get_get="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function _get(i,o,a){var v=function _superPropBase(i,o){for(;!Object.prototype.hasOwnProperty.call(i,o)&&null!==(i=_getPrototypeOf(i)););return i}(i,o);if(v){var w=Object.getOwnPropertyDescriptor(v,o);return w.get?w.get.call(a):w.value}})(i,o,a||i)}var B=a(6),Q=a.n(B);function addEventListenerWrap(i,o,a,v){var w=Q.a.unstable_batchedUpdates?function run(i){Q.a.unstable_batchedUpdates(a,i)}:a;return i.addEventListener&&i.addEventListener(o,w,v),{remove:function remove(){i.removeEventListener&&i.removeEventListener(o,w)}}}var $=a(2),ee=a.n($);function Steps_ownKeys(i,o){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(i);o&&(v=v.filter((function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),a.push.apply(a,v)}return a}function Steps_objectSpread(i){for(var o=1;o<arguments.length;o++){var a=null!=arguments[o]?arguments[o]:{};o%2?Steps_ownKeys(Object(a),!0).forEach((function(o){_defineProperty(i,o,a[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):Steps_ownKeys(Object(a)).forEach((function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(a,o))}))}return i}var te=function Steps(i){var o=i.prefixCls,a=i.vertical,v=i.reverse,E=i.marks,D=i.dots,j=i.step,B=i.included,Q=i.lowerBound,$=i.upperBound,te=i.max,ne=i.min,ie=i.dotStyle,le=i.activeDotStyle,ue=te-ne,fe=function calcPoints(i,o,a,v,w,E){P(!a||v>0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var D=Object.keys(o).map(parseFloat).sort((function(i,o){return i-o}));if(a&&v)for(var j=w;j<=E;j+=v)-1===D.indexOf(j)&&D.push(j);return D}(0,E,D,j,ne,te).map((function(i){var E,P="".concat(Math.abs(i-ne)/ue*100,"%"),D=!B&&i===$||B&&i<=$&&i>=Q,j=Steps_objectSpread(Steps_objectSpread({},ie),{},_defineProperty({},a?v?"top":"bottom":v?"right":"left",P));D&&(j=Steps_objectSpread(Steps_objectSpread({},j),le));var te=ee()((_defineProperty(E={},"".concat(o,"-dot"),!0),_defineProperty(E,"".concat(o,"-dot-active"),D),_defineProperty(E,"".concat(o,"-dot-reverse"),v),E));return w.a.createElement("span",{className:te,style:j,key:i})}));return w.a.createElement("div",{className:"".concat(o,"-step")},fe)};function Marks_ownKeys(i,o){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(i);o&&(v=v.filter((function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),a.push.apply(a,v)}return a}function Marks_objectSpread(i){for(var o=1;o<arguments.length;o++){var a=null!=arguments[o]?arguments[o]:{};o%2?Marks_ownKeys(Object(a),!0).forEach((function(o){_defineProperty(i,o,a[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):Marks_ownKeys(Object(a)).forEach((function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(a,o))}))}return i}var ne=function Marks(i){var o=i.className,a=i.vertical,v=i.reverse,E=i.marks,P=i.included,D=i.upperBound,j=i.lowerBound,B=i.max,Q=i.min,$=i.onClickLabel,te=Object.keys(E),ne=B-Q,ie=te.map(parseFloat).sort((function(i,o){return i-o})).map((function(i){var B,te=E[i],ie="object"===_typeof(te)&&!w.a.isValidElement(te),le=ie?te.label:te;if(!le&&0!==le)return null;var ue=!P&&i===D||P&&i<=D&&i>=j,fe=ee()((_defineProperty(B={},"".concat(o,"-text"),!0),_defineProperty(B,"".concat(o,"-text-active"),ue),B)),he=_defineProperty({marginBottom:"-50%"},v?"top":"bottom","".concat((i-Q)/ne*100,"%")),ge=_defineProperty({transform:"translateX(".concat(v?"50%":"-50%",")"),msTransform:"translateX(".concat(v?"50%":"-50%",")")},v?"right":"left","".concat((i-Q)/ne*100,"%")),me=a?he:ge,ye=ie?Marks_objectSpread(Marks_objectSpread({},me),te.style):me;return w.a.createElement("span",{className:fe,style:ye,key:i,onMouseDown:function onMouseDown(o){return $(o,i)},onTouchStart:function onTouchStart(o){return $(o,i)}},le)}));return w.a.createElement("div",{className:o},ie)};function Handle_ownKeys(i,o){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(i);o&&(v=v.filter((function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),a.push.apply(a,v)}return a}function Handle_objectSpread(i){for(var o=1;o<arguments.length;o++){var a=null!=arguments[o]?arguments[o]:{};o%2?Handle_ownKeys(Object(a),!0).forEach((function(o){_defineProperty(i,o,a[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):Handle_ownKeys(Object(a)).forEach((function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(a,o))}))}return i}function _createSuper(i){var o=function _isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(i){return!1}}();return function _createSuperInternal(){var a,v=_getPrototypeOf(i);if(o){var w=_getPrototypeOf(this).constructor;a=Reflect.construct(v,arguments,w)}else a=v.apply(this,arguments);return _possibleConstructorReturn(this,a)}}var ie=function(i){_inherits(Handle,i);var o=_createSuper(Handle);function Handle(){var i;return _classCallCheck(this,Handle),(i=o.apply(this,arguments)).state={clickFocused:!1},i.setHandleRef=function(o){i.handle=o},i.handleMouseUp=function(){document.activeElement===i.handle&&i.setClickFocus(!0)},i.handleMouseDown=function(o){o.preventDefault(),i.focus()},i.handleBlur=function(){i.setClickFocus(!1)},i.handleKeyDown=function(){i.setClickFocus(!1)},i}return _createClass(Handle,[{key:"componentDidMount",value:function componentDidMount(){this.onMouseUpListener=addEventListenerWrap(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function setClickFocus(i){this.setState({clickFocused:i})}},{key:"clickFocus",value:function clickFocus(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function focus(){this.handle.focus()}},{key:"blur",value:function blur(){this.handle.blur()}},{key:"render",value:function render(){var i,o,a,v=this.props,E=v.prefixCls,P=v.vertical,D=v.reverse,j=v.offset,B=v.style,Q=v.disabled,$=v.min,te=v.max,ne=v.value,ie=v.tabIndex,le=v.ariaLabel,ue=v.ariaLabelledBy,fe=v.ariaValueTextFormatter,he=_objectWithoutProperties(v,["prefixCls","vertical","reverse","offset","style","disabled","min","max","value","tabIndex","ariaLabel","ariaLabelledBy","ariaValueTextFormatter"]),ge=ee()(this.props.className,_defineProperty({},"".concat(E,"-handle-click-focused"),this.state.clickFocused)),me=P?(_defineProperty(i={},D?"top":"bottom","".concat(j,"%")),_defineProperty(i,D?"bottom":"top","auto"),_defineProperty(i,"transform",D?null:"translateY(+50%)"),i):(_defineProperty(o={},D?"right":"left","".concat(j,"%")),_defineProperty(o,D?"left":"right","auto"),_defineProperty(o,"transform","translateX(".concat(D?"+":"-","50%)")),o),ye=Handle_objectSpread(Handle_objectSpread({},B),me),_e=ie||0;return(Q||null===ie)&&(_e=null),fe&&(a=fe(ne)),w.a.createElement("div",Object.assign({ref:this.setHandleRef,tabIndex:_e},he,{className:ge,style:ye,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,role:"slider","aria-valuemin":$,"aria-valuemax":te,"aria-valuenow":ne,"aria-disabled":!!Q,"aria-label":le,"aria-labelledby":ue,"aria-valuetext":a}))}}]),Handle}(w.a.Component);function _arrayLikeToArray(i,o){(null==o||o>i.length)&&(o=i.length);for(var a=0,v=new Array(o);a<o;a++)v[a]=i[a];return v}function _unsupportedIterableToArray(i,o){if(i){if("string"===typeof i)return _arrayLikeToArray(i,o);var a=Object.prototype.toString.call(i).slice(8,-1);return"Object"===a&&i.constructor&&(a=i.constructor.name),"Map"===a||"Set"===a?Array.from(i):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(i,o):void 0}}function _toConsumableArray(i){return function _arrayWithoutHoles(i){if(Array.isArray(i))return _arrayLikeToArray(i)}(i)||function _iterableToArray(i){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(i))return Array.from(i)}(i)||_unsupportedIterableToArray(i)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var le={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function isTextModifyingKeyEvent(i){var o=i.keyCode;if(i.altKey&&!i.ctrlKey||i.metaKey||o>=le.F1&&o<=le.F12)return!1;switch(o){case le.ALT:case le.CAPS_LOCK:case le.CONTEXT_MENU:case le.CTRL:case le.DOWN:case le.END:case le.ESC:case le.HOME:case le.INSERT:case le.LEFT:case le.MAC_FF_META:case le.META:case le.NUMLOCK:case le.NUM_CENTER:case le.PAGE_DOWN:case le.PAGE_UP:case le.PAUSE:case le.PRINT_SCREEN:case le.RIGHT:case le.SHIFT:case le.UP:case le.WIN_KEY:case le.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function isCharacterKey(i){if(i>=le.ZERO&&i<=le.NINE)return!0;if(i>=le.NUM_ZERO&&i<=le.NUM_MULTIPLY)return!0;if(i>=le.A&&i<=le.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===i)return!0;switch(i){case le.SPACE:case le.QUESTION_MARK:case le.NUM_PLUS:case le.NUM_MINUS:case le.NUM_PERIOD:case le.NUM_DIVISION:case le.SEMICOLON:case le.DASH:case le.EQUALS:case le.COMMA:case le.PERIOD:case le.SLASH:case le.APOSTROPHE:case le.SINGLE_QUOTE:case le.OPEN_SQUARE_BRACKET:case le.BACKSLASH:case le.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},ue=le;function isEventFromHandle(i,o){try{return Object.keys(o).some((function(a){return i.target===Object(B.findDOMNode)(o[a])}))}catch(a){return!1}}function isValueOutOfRange(i,o){var a=o.min,v=o.max;return i<a||i>v}function isNotTouchEvent(i){return i.touches.length>1||"touchend"===i.type.toLowerCase()&&i.touches.length>0}function getClosestPoint(i,o){var a=o.marks,v=o.step,w=o.min,E=o.max,P=Object.keys(a).map(parseFloat);if(null!==v){var D=Math.floor((E-w)/v),j=Math.min((i-w)/v,D),B=Math.round(j)*v+w;P.push(B)}var Q=P.map((function(o){return Math.abs(i-o)}));return P[Q.indexOf(Math.min.apply(Math,_toConsumableArray(Q)))]}function getMousePosition(i,o){return i?o.clientY:o.pageX}function getTouchPosition(i,o){return i?o.touches[0].clientY:o.touches[0].pageX}function getHandleCenterPosition(i,o){var a=o.getBoundingClientRect();return i?a.top+.5*a.height:window.pageXOffset+a.left+.5*a.width}function ensureValueInRange(i,o){var a=o.max,v=o.min;return i<=v?v:i>=a?a:i}function ensureValuePrecision(i,o){var a=o.step,v=isFinite(getClosestPoint(i,o))?getClosestPoint(i,o):0;return null===a?v:parseFloat(v.toFixed(function getPrecision(i){var o=i.toString(),a=0;return o.indexOf(".")>=0&&(a=o.length-o.indexOf(".")-1),a}(a)))}function pauseEvent(i){i.stopPropagation(),i.preventDefault()}function getKeyboardValueMutator(i,o,a){var v="increase";switch(i.keyCode){case ue.UP:v=o&&a?"decrease":"increase";break;case ue.RIGHT:v=!o&&a?"decrease":"increase";break;case ue.DOWN:v=o&&a?"increase":"decrease";break;case ue.LEFT:v=!o&&a?"increase":"decrease";break;case ue.END:return function(i,o){return o.max};case ue.HOME:return function(i,o){return o.min};case ue.PAGE_UP:return function(i,o){return i+2*o.step};case ue.PAGE_DOWN:return function(i,o){return i-2*o.step};default:return}return function(i,o){return function calculateNextValue(i,o,a){var v={increase:function increase(i,o){return i+o},decrease:function decrease(i,o){return i-o}},w=v[i](Object.keys(a.marks).indexOf(JSON.stringify(o)),1),E=Object.keys(a.marks)[w];return a.step?v[i](o,a.step):Object.keys(a.marks).length&&a.marks[E]?a.marks[E]:o}(v,i,o)}}function createSlider_ownKeys(i,o){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(i);o&&(v=v.filter((function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),a.push.apply(a,v)}return a}function createSlider_objectSpread(i){for(var o=1;o<arguments.length;o++){var a=null!=arguments[o]?arguments[o]:{};o%2?createSlider_ownKeys(Object(a),!0).forEach((function(o){_defineProperty(i,o,a[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):createSlider_ownKeys(Object(a)).forEach((function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(a,o))}))}return i}function createSlider_createSuper(i){var o=function createSlider_isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(i){return!1}}();return function _createSuperInternal(){var a,v=_getPrototypeOf(i);if(o){var w=_getPrototypeOf(this).constructor;a=Reflect.construct(v,arguments,w)}else a=v.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function noop(){}function createSlider(i){var o;return(o=function(i){_inherits(ComponentEnhancer,i);var o=createSlider_createSuper(ComponentEnhancer);function ComponentEnhancer(i){var a;_classCallCheck(this,ComponentEnhancer),(a=o.call(this,i)).onMouseDown=function(i){if(0===i.button){var o=a.props.vertical,v=getMousePosition(o,i);if(isEventFromHandle(i,a.handlesRefs)){var w=getHandleCenterPosition(o,i.target);a.dragOffset=v-w,v=w}else a.dragOffset=0;a.removeDocumentEvents(),a.onStart(v),a.addDocumentMouseEvents()}},a.onTouchStart=function(i){if(!isNotTouchEvent(i)){var o=a.props.vertical,v=getTouchPosition(o,i);if(isEventFromHandle(i,a.handlesRefs)){var w=getHandleCenterPosition(o,i.target);a.dragOffset=v-w,v=w}else a.dragOffset=0;a.onStart(v),a.addDocumentTouchEvents(),pauseEvent(i)}},a.onFocus=function(i){var o=a.props,v=o.onFocus,w=o.vertical;if(isEventFromHandle(i,a.handlesRefs)){var E=getHandleCenterPosition(w,i.target);a.dragOffset=0,a.onStart(E),pauseEvent(i),v&&v(i)}},a.onBlur=function(i){var o=a.props.onBlur;a.onEnd(),o&&o(i)},a.onMouseUp=function(){a.handlesRefs[a.prevMovedHandleIndex]&&a.handlesRefs[a.prevMovedHandleIndex].clickFocus()},a.onMouseMove=function(i){if(a.sliderRef){var o=getMousePosition(a.props.vertical,i);a.onMove(i,o-a.dragOffset)}else a.onEnd()},a.onTouchMove=function(i){if(!isNotTouchEvent(i)&&a.sliderRef){var o=getTouchPosition(a.props.vertical,i);a.onMove(i,o-a.dragOffset)}else a.onEnd()},a.onKeyDown=function(i){a.sliderRef&&isEventFromHandle(i,a.handlesRefs)&&a.onKeyboard(i)},a.onClickMarkLabel=function(i,o){i.stopPropagation(),a.onChange({value:o}),a.setState({value:o},(function(){return a.onEnd(!0)}))},a.saveSlider=function(i){a.sliderRef=i};var v=i.step,w=i.max,E=i.min,D=!isFinite(w-E)||(w-E)%v===0;return P(!v||Math.floor(v)!==v||D,"Slider[max] - Slider[min] (".concat(w-E,") should be a multiple of Slider[step] (").concat(v,")")),a.handlesRefs={},a}return _createClass(ComponentEnhancer,[{key:"componentDidMount",value:function componentDidMount(){this.document=this.sliderRef&&this.sliderRef.ownerDocument;var i=this.props,o=i.autoFocus,a=i.disabled;o&&!a&&this.focus()}},{key:"componentWillUnmount",value:function componentWillUnmount(){get_get(_getPrototypeOf(ComponentEnhancer.prototype),"componentWillUnmount",this)&&get_get(_getPrototypeOf(ComponentEnhancer.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function getSliderStart(){var i=this.sliderRef,o=this.props,a=o.vertical,v=o.reverse,w=i.getBoundingClientRect();return a?v?w.bottom:w.top:window.pageXOffset+(v?w.right:w.left)}},{key:"getSliderLength",value:function getSliderLength(){var i=this.sliderRef;if(!i)return 0;var o=i.getBoundingClientRect();return this.props.vertical?o.height:o.width}},{key:"addDocumentTouchEvents",value:function addDocumentTouchEvents(){this.onTouchMoveListener=addEventListenerWrap(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=addEventListenerWrap(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function addDocumentMouseEvents(){this.onMouseMoveListener=addEventListenerWrap(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=addEventListenerWrap(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function removeDocumentEvents(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function focus(){this.props.disabled||this.handlesRefs[0].focus()}},{key:"blur",value:function blur(){var i=this;this.props.disabled||Object.keys(this.handlesRefs).forEach((function(o){i.handlesRefs[o]&&i.handlesRefs[o].blur&&i.handlesRefs[o].blur()}))}},{key:"calcValue",value:function calcValue(i){var o=this.props,a=o.vertical,v=o.min,w=o.max,E=Math.abs(Math.max(i,0)/this.getSliderLength());return a?(1-E)*(w-v)+v:E*(w-v)+v}},{key:"calcValueByPos",value:function calcValueByPos(i){var o=(this.props.reverse?-1:1)*(i-this.getSliderStart());return this.trimAlignValue(this.calcValue(o))}},{key:"calcOffset",value:function calcOffset(i){var o=this.props,a=o.min,v=(i-a)/(o.max-a);return Math.max(0,100*v)}},{key:"saveHandle",value:function saveHandle(i,o){this.handlesRefs[i]=o}},{key:"render",value:function render(){var i,o=this.props,a=o.prefixCls,v=o.className,E=o.marks,P=o.dots,D=o.step,j=o.included,B=o.disabled,Q=o.vertical,$=o.reverse,ie=o.min,le=o.max,ue=o.children,fe=o.maximumTrackStyle,he=o.style,ge=o.railStyle,me=o.dotStyle,ye=o.activeDotStyle,_e=get_get(_getPrototypeOf(ComponentEnhancer.prototype),"render",this).call(this),we=_e.tracks,Se=_e.handles,Te=ee()(a,(_defineProperty(i={},"".concat(a,"-with-marks"),Object.keys(E).length),_defineProperty(i,"".concat(a,"-disabled"),B),_defineProperty(i,"".concat(a,"-vertical"),Q),_defineProperty(i,v,v),i));return w.a.createElement("div",{ref:this.saveSlider,className:Te,onTouchStart:B?noop:this.onTouchStart,onMouseDown:B?noop:this.onMouseDown,onMouseUp:B?noop:this.onMouseUp,onKeyDown:B?noop:this.onKeyDown,onFocus:B?noop:this.onFocus,onBlur:B?noop:this.onBlur,style:he},w.a.createElement("div",{className:"".concat(a,"-rail"),style:createSlider_objectSpread(createSlider_objectSpread({},fe),ge)}),we,w.a.createElement(te,{prefixCls:a,vertical:Q,reverse:$,marks:E,dots:P,step:D,included:j,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:le,min:ie,dotStyle:me,activeDotStyle:ye}),Se,w.a.createElement(ne,{className:"".concat(a,"-mark"),onClickLabel:B?noop:this.onClickMarkLabel,vertical:Q,marks:E,included:j,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:le,min:ie,reverse:$}),ue)}}]),ComponentEnhancer}(i)).displayName="ComponentEnhancer(".concat(i.displayName,")"),o.defaultProps=createSlider_objectSpread(createSlider_objectSpread({},i.defaultProps),{},{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function handle(i){var o=i.index,a=_objectWithoutProperties(i,["index"]);return delete a.dragging,null===a.value?null:w.a.createElement(ie,Object.assign({},a,{key:o}))},onBeforeChange:noop,onChange:noop,onAfterChange:noop,included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),o}function Slider_ownKeys(i,o){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(i);o&&(v=v.filter((function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),a.push.apply(a,v)}return a}function Slider_objectSpread(i){for(var o=1;o<arguments.length;o++){var a=null!=arguments[o]?arguments[o]:{};o%2?Slider_ownKeys(Object(a),!0).forEach((function(o){_defineProperty(i,o,a[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):Slider_ownKeys(Object(a)).forEach((function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(a,o))}))}return i}function Slider_createSuper(i){var o=function Slider_isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(i){return!1}}();return function _createSuperInternal(){var a,v=_getPrototypeOf(i);if(o){var w=_getPrototypeOf(this).constructor;a=Reflect.construct(v,arguments,w)}else a=v.apply(this,arguments);return _possibleConstructorReturn(this,a)}}var fe=createSlider(function(i){_inherits(Slider,i);var o=Slider_createSuper(Slider);function Slider(i){var a;_classCallCheck(this,Slider),(a=o.call(this,i)).onEnd=function(i){var o=a.state.dragging;a.removeDocumentEvents(),(o||i)&&a.props.onAfterChange(a.getValue()),a.setState({dragging:!1})};var v=void 0!==i.defaultValue?i.defaultValue:i.min,w=void 0!==i.value?i.value:v;return a.state={value:a.trimAlignValue(w),dragging:!1},P(!("minimumTrackStyle"in i),"minimumTrackStyle will be deprecated, please use trackStyle instead."),P(!("maximumTrackStyle"in i),"maximumTrackStyle will be deprecated, please use railStyle instead."),a}return _createClass(Slider,[{key:"calcValueByPos",value:function calcValueByPos(i){return 0}},{key:"calcOffset",value:function calcOffset(i){return 0}},{key:"saveHandle",value:function saveHandle(i,o){}},{key:"removeDocumentEvents",value:function removeDocumentEvents(){}},{key:"componentDidUpdate",value:function componentDidUpdate(i,o){if("value"in this.props||"min"in this.props||"max"in this.props){var a=this.props,v=a.value,w=a.onChange,E=void 0!==v?v:o.value,P=this.trimAlignValue(E,this.props);P!==o.value&&(this.setState({value:P}),isValueOutOfRange(E,this.props)&&w(P))}}},{key:"onChange",value:function onChange(i){var o=this.props,a=!("value"in o),v=i.value>this.props.max?Slider_objectSpread(Slider_objectSpread({},i),{},{value:this.props.max}):i;a&&this.setState(v);var w=v.value;o.onChange(w)}},{key:"onStart",value:function onStart(i){this.setState({dragging:!0});var o=this.props,a=this.getValue();o.onBeforeChange(a);var v=this.calcValueByPos(i);this.startValue=v,this.startPosition=i,v!==a&&(this.prevMovedHandleIndex=0,this.onChange({value:v}))}},{key:"onMove",value:function onMove(i,o){pauseEvent(i);var a=this.state.value,v=this.calcValueByPos(o);v!==a&&this.onChange({value:v})}},{key:"onKeyboard",value:function onKeyboard(i){var o=this.props,a=o.reverse,v=getKeyboardValueMutator(i,o.vertical,a);if(v){pauseEvent(i);var w=this.state.value,E=v(w,this.props),P=this.trimAlignValue(E);if(P===w)return;this.onChange({value:P}),this.props.onAfterChange(P),this.onEnd()}}},{key:"getValue",value:function getValue(){return this.state.value}},{key:"getLowerBound",value:function getLowerBound(){return this.props.min}},{key:"getUpperBound",value:function getUpperBound(){return this.state.value}},{key:"trimAlignValue",value:function trimAlignValue(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===i)return null;var a=Slider_objectSpread(Slider_objectSpread({},this.props),o),v=ensureValueInRange(i,a);return ensureValuePrecision(v,a)}},{key:"render",value:function render(){var i=this,o=this.props,a=o.prefixCls,v=o.vertical,E=o.included,P=o.disabled,j=o.minimumTrackStyle,B=o.trackStyle,Q=o.handleStyle,$=o.tabIndex,ee=o.ariaLabelForHandle,te=o.ariaLabelledByForHandle,ne=o.ariaValueTextFormatterForHandle,ie=o.min,le=o.max,ue=o.startPoint,fe=o.reverse,he=o.handle,ge=this.state,me=ge.value,ye=ge.dragging,_e=this.calcOffset(me),we=he({className:"".concat(a,"-handle"),prefixCls:a,vertical:v,offset:_e,value:me,dragging:ye,disabled:P,min:ie,max:le,reverse:fe,index:0,tabIndex:$,ariaLabel:ee,ariaLabelledBy:te,ariaValueTextFormatter:ne,style:Q[0]||Q,ref:function ref(o){return i.saveHandle(0,o)}}),Se=void 0!==ue?this.calcOffset(ue):0,Te=B[0]||B;return{tracks:w.a.createElement(D,{className:"".concat(a,"-track"),vertical:v,included:E,offset:Se,reverse:fe,length:_e-Se,style:Slider_objectSpread(Slider_objectSpread({},j),Te)}),handles:we}}}]),Slider}(w.a.Component)),he=a(76),ge=a.n(he);function Range_ownKeys(i,o){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(i);o&&(v=v.filter((function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),a.push.apply(a,v)}return a}function Range_objectSpread(i){for(var o=1;o<arguments.length;o++){var a=null!=arguments[o]?arguments[o]:{};o%2?Range_ownKeys(Object(a),!0).forEach((function(o){_defineProperty(i,o,a[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):Range_ownKeys(Object(a)).forEach((function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(a,o))}))}return i}function Range_createSuper(i){var o=function Range_isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(i){return!1}}();return function _createSuperInternal(){var a,v=_getPrototypeOf(i);if(o){var w=_getPrototypeOf(this).constructor;a=Reflect.construct(v,arguments,w)}else a=v.apply(this,arguments);return _possibleConstructorReturn(this,a)}}var me=function trimAlignValue(i){var o=i.value,a=i.handle,v=i.bounds,w=i.props,E=w.allowCross,P=w.pushable,D=Number(P),j=ensureValueInRange(o,w),B=j;return E||null==a||void 0===v||(a>0&&j<=v[a-1]+D&&(B=v[a-1]+D),a<v.length-1&&j>=v[a+1]-D&&(B=v[a+1]-D)),ensureValuePrecision(B,w)},ye=function(i){_inherits(Range,i);var o=Range_createSuper(Range);function Range(i){var a;_classCallCheck(this,Range),(a=o.call(this,i)).onEnd=function(i){var o=a.state.handle;a.removeDocumentEvents(),(null!==o||i)&&a.props.onAfterChange(a.getValue()),a.setState({handle:null})};var v=i.count,w=i.min,E=i.max,P=Array.apply(void 0,_toConsumableArray(Array(v+1))).map((function(){return w})),D="defaultValue"in i?i.defaultValue:P,j=(void 0!==i.value?i.value:D).map((function(o,a){return me({value:o,handle:a,props:i})})),B=j[0]===E?0:j.length-1;return a.state={handle:null,recent:B,bounds:j},a}return _createClass(Range,[{key:"calcValueByPos",value:function calcValueByPos(i){return 0}},{key:"calcOffset",value:function calcOffset(i){return 0}},{key:"saveHandle",value:function saveHandle(i,o){}},{key:"removeDocumentEvents",value:function removeDocumentEvents(){}},{key:"componentDidUpdate",value:function componentDidUpdate(i,o){var a=this;if(("value"in this.props||"min"in this.props||"max"in this.props)&&(this.props.min!==i.min||this.props.max!==i.max||!ge()(this.props.value,i.value))){var v=this.props,w=v.onChange,E=v.value||o.bounds;if(E.some((function(i){return isValueOutOfRange(i,a.props)})))w(E.map((function(i){return ensureValueInRange(i,a.props)})))}}},{key:"onChange",value:function onChange(i){var o=this.props;if(!("value"in o))this.setState(i);else{var a={};["handle","recent"].forEach((function(o){void 0!==i[o]&&(a[o]=i[o])})),Object.keys(a).length&&this.setState(a)}var v=Range_objectSpread(Range_objectSpread({},this.state),i).bounds;o.onChange(v)}},{key:"onStart",value:function onStart(i){var o=this.props,a=this.state,v=this.getValue();o.onBeforeChange(v);var w=this.calcValueByPos(i);this.startValue=w,this.startPosition=i;var E=this.getClosestBound(w);if(this.prevMovedHandleIndex=this.getBoundNeedMoving(w,E),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex}),w!==v[this.prevMovedHandleIndex]){var P=_toConsumableArray(a.bounds);P[this.prevMovedHandleIndex]=w,this.onChange({bounds:P})}}},{key:"onMove",value:function onMove(i,o){pauseEvent(i);var a=this.state,v=this.calcValueByPos(o);v!==a.bounds[a.handle]&&this.moveTo(v)}},{key:"onKeyboard",value:function onKeyboard(i){var o=this.props,a=o.reverse,v=getKeyboardValueMutator(i,o.vertical,a);if(v){pauseEvent(i);var w=this.state,E=this.props,P=w.bounds,D=w.handle,j=P[null===D?w.recent:D],B=v(j,E),Q=me({value:B,handle:D,bounds:w.bounds,props:E});if(Q===j)return;this.moveTo(Q,!0)}}},{key:"getValue",value:function getValue(){return this.state.bounds}},{key:"getClosestBound",value:function getClosestBound(i){for(var o=this.state.bounds,a=0,v=1;v<o.length-1;v+=1)i>=o[v]&&(a=v);return Math.abs(o[a+1]-i)<Math.abs(o[a]-i)&&(a+=1),a}},{key:"getBoundNeedMoving",value:function getBoundNeedMoving(i,o){var a=this.state,v=a.bounds,w=a.recent,E=o,P=v[o+1]===v[o];return P&&v[w]===v[o]&&(E=w),P&&i!==v[o+1]&&(E=i<v[o+1]?o:o+1),E}},{key:"getLowerBound",value:function getLowerBound(){return this.state.bounds[0]}},{key:"getUpperBound",value:function getUpperBound(){var i=this.state.bounds;return i[i.length-1]}},{key:"getPoints",value:function getPoints(){var i=this.props,o=i.marks,a=i.step,v=i.min,w=i.max,E=this.internalPointsCache;if(!E||E.marks!==o||E.step!==a){var P=Range_objectSpread({},o);if(null!==a)for(var D=v;D<=w;D+=a)P[D]=D;var j=Object.keys(P).map(parseFloat);j.sort((function(i,o){return i-o})),this.internalPointsCache={marks:o,step:a,points:j}}return this.internalPointsCache.points}},{key:"moveTo",value:function moveTo(i,o){var a=this,v=this.state,w=this.props,E=_toConsumableArray(v.bounds),P=null===v.handle?v.recent:v.handle;E[P]=i;var D=P;!1!==w.pushable?this.pushSurroundingHandles(E,D):w.allowCross&&(E.sort((function(i,o){return i-o})),D=E.indexOf(i)),this.onChange({recent:D,handle:D,bounds:E}),o&&(this.props.onAfterChange(E),this.setState({},(function(){a.handlesRefs[D].focus()})),this.onEnd())}},{key:"pushSurroundingHandles",value:function pushSurroundingHandles(i,o){var a=i[o],v=this.props.pushable,w=Number(v),E=0;if(i[o+1]-a<w&&(E=1),a-i[o-1]<w&&(E=-1),0!==E){var P=o+E,D=E*(i[P]-a);this.pushHandle(i,P,E,w-D)||(i[o]=i[P]-E*w)}}},{key:"pushHandle",value:function pushHandle(i,o,a,v){for(var w=i[o],E=i[o];a*(E-w)<v;){if(!this.pushHandleOnePoint(i,o,a))return i[o]=w,!1;E=i[o]}return!0}},{key:"pushHandleOnePoint",value:function pushHandleOnePoint(i,o,a){var v=this.getPoints(),w=v.indexOf(i[o])+a;if(w>=v.length||w<0)return!1;var E=o+a,P=v[w],D=this.props.pushable,j=Number(D),B=a*(i[E]-P);return!!this.pushHandle(i,E,a,j-B)&&(i[o]=P,!0)}},{key:"trimAlignValue",value:function trimAlignValue(i){var o=this.state,a=o.handle,v=o.bounds;return me({value:i,handle:a,bounds:v,props:this.props})}},{key:"render",value:function render(){var i=this,o=this.state,a=o.handle,v=o.bounds,E=this.props,P=E.prefixCls,j=E.vertical,B=E.included,Q=E.disabled,$=E.min,te=E.max,ne=E.reverse,ie=E.handle,le=E.trackStyle,ue=E.handleStyle,fe=E.tabIndex,he=E.ariaLabelGroupForHandles,ge=E.ariaLabelledByGroupForHandles,me=E.ariaValueTextFormatterGroupForHandles,ye=v.map((function(o){return i.calcOffset(o)})),_e="".concat(P,"-handle"),we=v.map((function(o,v){var w,E=fe[v]||0;(Q||null===fe[v])&&(E=null);var D=a===v;return ie({className:ee()((w={},_defineProperty(w,_e,!0),_defineProperty(w,"".concat(_e,"-").concat(v+1),!0),_defineProperty(w,"".concat(_e,"-dragging"),D),w)),prefixCls:P,vertical:j,dragging:D,offset:ye[v],value:o,index:v,tabIndex:E,min:$,max:te,reverse:ne,disabled:Q,style:ue[v],ref:function ref(o){return i.saveHandle(v,o)},ariaLabel:he[v],ariaLabelledBy:ge[v],ariaValueTextFormatter:me[v]})}));return{tracks:v.slice(0,-1).map((function(i,o){var a,v=o+1,E=ee()((_defineProperty(a={},"".concat(P,"-track"),!0),_defineProperty(a,"".concat(P,"-track-").concat(v),!0),a));return w.a.createElement(D,{className:E,vertical:j,reverse:ne,included:B,offset:ye[v-1],length:ye[v]-ye[v-1],style:le[o],key:v})})),handles:we}}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(i,o){if("value"in i||"min"in i||"max"in i){var a=(i.value||o.bounds).map((function(a,v){return me({value:a,handle:v,bounds:o.bounds,props:i})}));return a.length===o.bounds.length&&a.every((function(i,a){return i===o.bounds[a]}))?null:Range_objectSpread(Range_objectSpread({},o),{},{bounds:a})}return null}}]),Range}(w.a.Component);ye.displayName="Range",ye.defaultProps={count:1,allowCross:!0,pushable:!1,tabIndex:[],ariaLabelGroupForHandles:[],ariaLabelledByGroupForHandles:[],ariaValueTextFormatterGroupForHandles:[]};var _e=createSlider(ye);function objectSpread2_ownKeys(i,o){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(i);o&&(v=v.filter((function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),a.push.apply(a,v)}return a}function _objectSpread2(i){for(var o=1;o<arguments.length;o++){var a=null!=arguments[o]?arguments[o]:{};o%2?objectSpread2_ownKeys(Object(a),!0).forEach((function(o){_defineProperty(i,o,a[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):objectSpread2_ownKeys(Object(a)).forEach((function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(a,o))}))}return i}function createSuper_createSuper(i){var o=function isNativeReflectConstruct_isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(i){return!1}}();return function _createSuperInternal(){var a,v=_getPrototypeOf(i);if(o){var w=_getPrototypeOf(this).constructor;a=Reflect.construct(v,arguments,w)}else a=v.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function contains(i,o){for(var a=o;a;){if(a===i)return!0;a=a.parentNode}return!1}function findDOMNode(i){return i instanceof HTMLElement?i:Q.a.findDOMNode(i)}var we=a(32);function ref_typeof(i){return(ref_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof(i){return typeof i}:function _typeof(i){return i&&"function"===typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(i)}function fillRef(i,o){"function"===typeof i?i(o):"object"===ref_typeof(i)&&i&&"current"in i&&(i.current=o)}function composeRef(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return function(i){o.forEach((function(o){fillRef(o,i)}))}}function Portal_typeof(i){return(Portal_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof(i){return typeof i}:function _typeof(i){return i&&"function"===typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(i)}function Portal_classCallCheck(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function Portal_defineProperties(i,o){for(var a=0;a<o.length;a++){var v=o[a];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(i,v.key,v)}}function Portal_setPrototypeOf(i,o){return(Portal_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(i,o){return i.__proto__=o,i})(i,o)}function Portal_createSuper(i){var o=function Portal_isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(i){return!1}}();return function _createSuperInternal(){var a,v=Portal_getPrototypeOf(i);if(o){var w=Portal_getPrototypeOf(this).constructor;a=Reflect.construct(v,arguments,w)}else a=v.apply(this,arguments);return Portal_possibleConstructorReturn(this,a)}}function Portal_possibleConstructorReturn(i,o){return!o||"object"!==Portal_typeof(o)&&"function"!==typeof o?function Portal_assertThisInitialized(i){if(void 0===i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}(i):o}function Portal_getPrototypeOf(i){return(Portal_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(i){return i.__proto__||Object.getPrototypeOf(i)})(i)}var Se=function(i){!function Portal_inherits(i,o){if("function"!==typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),o&&Portal_setPrototypeOf(i,o)}(Portal,i);var o=Portal_createSuper(Portal);function Portal(){return Portal_classCallCheck(this,Portal),o.apply(this,arguments)}return function Portal_createClass(i,o,a){return o&&Portal_defineProperties(i.prototype,o),a&&Portal_defineProperties(i,a),i}(Portal,[{key:"componentDidMount",value:function componentDidMount(){this.createContainer()}},{key:"componentDidUpdate",value:function componentDidUpdate(i){var o=this.props.didUpdate;o&&o(i)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.removeContainer()}},{key:"createContainer",value:function createContainer(){this._container=this.props.getContainer(),this.forceUpdate()}},{key:"removeContainer",value:function removeContainer(){this._container&&this._container.parentNode.removeChild(this._container)}},{key:"render",value:function render(){return this._container?Q.a.createPortal(this.props.children,this._container):null}}]),Portal}(w.a.Component);function isPointsEq(i,o,a){return a?i[0]===o[0]:i[0]===o[0]&&i[1]===o[1]}var Te,ke=a(21),Pe=a.n(ke);function _slicedToArray(i,o){return function _arrayWithHoles(i){if(Array.isArray(i))return i}(i)||function _iterableToArrayLimit(i,o){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(i)){var a=[],v=!0,w=!1,E=void 0;try{for(var P,D=i[Symbol.iterator]();!(v=(P=D.next()).done)&&(a.push(P.value),!o||a.length!==o);v=!0);}catch(j){w=!0,E=j}finally{try{v||null==D.return||D.return()}finally{if(w)throw E}}return a}}(i,o)||_unsupportedIterableToArray(i,o)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dist_web_typeof(i){return(dist_web_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof(i){return typeof i}:function _typeof(i){return i&&"function"===typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(i)}function dist_web_defineProperty(i,o,a){return o in i?Object.defineProperty(i,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[o]=a,i}function dist_web_ownKeys(i,o){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(i);o&&(v=v.filter((function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),a.push.apply(a,v)}return a}var De={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function getVendorPrefix(){if(void 0!==Te)return Te;Te="";var i=document.createElement("p").style;for(var o in De)o+"Transform"in i&&(Te=o);return Te}function getTransitionName(){return getVendorPrefix()?"".concat(getVendorPrefix(),"TransitionProperty"):"transitionProperty"}function getTransformName(){return getVendorPrefix()?"".concat(getVendorPrefix(),"Transform"):"transform"}function setTransitionProperty(i,o){var a=getTransitionName();a&&(i.style[a]=o,"transitionProperty"!==a&&(i.style.transitionProperty=o))}function setTransform(i,o){var a=getTransformName();a&&(i.style[a]=o,"transform"!==a&&(i.style.transform=o))}var Me,je=/matrix\((.*)\)/,Re=/matrix3d\((.*)\)/;function forceRelayout(i){var o=i.style.display;i.style.display="none",i.offsetHeight,i.style.display=o}function css(i,o,a){var v=a;if("object"!==dist_web_typeof(o))return"undefined"!==typeof v?("number"===typeof v&&(v="".concat(v,"px")),void(i.style[o]=v)):Me(i,o);for(var w in o)o.hasOwnProperty(w)&&css(i,w,o[w])}function getScroll(i,o){var a=i["page".concat(o?"Y":"X","Offset")],v="scroll".concat(o?"Top":"Left");if("number"!==typeof a){var w=i.document;"number"!==typeof(a=w.documentElement[v])&&(a=w.body[v])}return a}function getScrollLeft(i){return getScroll(i)}function getScrollTop(i){return getScroll(i,!0)}function getOffset(i){var o=function getClientPosition(i){var o,a,v,w=i.ownerDocument,E=w.body,P=w&&w.documentElement;return a=(o=i.getBoundingClientRect()).left,v=o.top,{left:a-=P.clientLeft||E.clientLeft||0,top:v-=P.clientTop||E.clientTop||0}}(i),a=i.ownerDocument,v=a.defaultView||a.parentWindow;return o.left+=getScrollLeft(v),o.top+=getScrollTop(v),o}function isWindow(i){return null!==i&&void 0!==i&&i==i.window}function getDocument(i){return isWindow(i)?i.document:9===i.nodeType?i:i.ownerDocument}var Le=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),Ue=/^(top|right|bottom|left)$/,We="left";function getOffsetDirection(i,o){return"left"===i?o.useCssRight?"right":i:o.useCssBottom?"bottom":i}function oppositeOffsetDirection(i){return"left"===i?"right":"right"===i?"left":"top"===i?"bottom":"bottom"===i?"top":void 0}function setLeftTop(i,o,a){"static"===css(i,"position")&&(i.style.position="relative");var v=-999,w=-999,E=getOffsetDirection("left",a),P=getOffsetDirection("top",a),D=oppositeOffsetDirection(E),j=oppositeOffsetDirection(P);"left"!==E&&(v=999),"top"!==P&&(w=999);var B="",Q=getOffset(i);("left"in o||"top"in o)&&(B=function getTransitionProperty(i){return i.style.transitionProperty||i.style[getTransitionName()]}(i)||"",setTransitionProperty(i,"none")),"left"in o&&(i.style[D]="",i.style[E]="".concat(v,"px")),"top"in o&&(i.style[j]="",i.style[P]="".concat(w,"px")),forceRelayout(i);var $=getOffset(i),ee={};for(var te in o)if(o.hasOwnProperty(te)){var ne=getOffsetDirection(te,a),ie="left"===te?v:w,le=Q[te]-$[te];ee[ne]=ne===te?ie+le:ie-le}css(i,ee),forceRelayout(i),("left"in o||"top"in o)&&setTransitionProperty(i,B);var ue={};for(var fe in o)if(o.hasOwnProperty(fe)){var he=getOffsetDirection(fe,a),ge=o[fe]-Q[fe];ue[he]=fe===he?ee[he]+ge:ee[he]-ge}css(i,ue)}function setTransform$1(i,o){var a=getOffset(i),v=function getTransformXY(i){var o=window.getComputedStyle(i,null),a=o.getPropertyValue("transform")||o.getPropertyValue(getTransformName());if(a&&"none"!==a){var v=a.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(v[12]||v[4],0),y:parseFloat(v[13]||v[5],0)}}return{x:0,y:0}}(i),w={x:v.x,y:v.y};"left"in o&&(w.x=v.x+o.left-a.left),"top"in o&&(w.y=v.y+o.top-a.top),function setTransformXY(i,o){var a=window.getComputedStyle(i,null),v=a.getPropertyValue("transform")||a.getPropertyValue(getTransformName());if(v&&"none"!==v){var w,E=v.match(je);if(E)(w=(E=E[1]).split(",").map((function(i){return parseFloat(i,10)})))[4]=o.x,w[5]=o.y,setTransform(i,"matrix(".concat(w.join(","),")"));else(w=v.match(Re)[1].split(",").map((function(i){return parseFloat(i,10)})))[12]=o.x,w[13]=o.y,setTransform(i,"matrix3d(".concat(w.join(","),")"))}else setTransform(i,"translateX(".concat(o.x,"px) translateY(").concat(o.y,"px) translateZ(0)"))}(i,w)}function each(i,o){for(var a=0;a<i.length;a++)o(i[a])}function isBorderBoxFn(i){return"border-box"===Me(i,"boxSizing")}"undefined"!==typeof window&&(Me=window.getComputedStyle?function _getComputedStyle(i,o,a){var v=a,w="",E=getDocument(i);return(v=v||E.defaultView.getComputedStyle(i,null))&&(w=v.getPropertyValue(o)||v[o]),w}:function _getComputedStyleIE(i,o){var a=i.currentStyle&&i.currentStyle[o];if(Le.test(a)&&!Ue.test(o)){var v=i.style,w=v[We],E=i.runtimeStyle[We];i.runtimeStyle[We]=i.currentStyle[We],v[We]="fontSize"===o?"1em":a||0,a=v.pixelLeft+"px",v[We]=w,i.runtimeStyle[We]=E}return""===a?"auto":a});var ze=["margin","border","padding"];function swap(i,o,a){var v,w={},E=i.style;for(v in o)o.hasOwnProperty(v)&&(w[v]=E[v],E[v]=o[v]);for(v in a.call(i),o)o.hasOwnProperty(v)&&(E[v]=w[v])}function getPBMWidth(i,o,a){var v,w,E,P=0;for(w=0;w<o.length;w++)if(v=o[w])for(E=0;E<a.length;E++){var D=void 0;D="border"===v?"".concat(v).concat(a[E],"Width"):v+a[E],P+=parseFloat(Me(i,D))||0}return P}var Ve={getParent:function getParent(i){var o=i;do{o=11===o.nodeType&&o.host?o.host:o.parentNode}while(o&&1!==o.nodeType&&9!==o.nodeType);return o}};function getWH(i,o,a){var v=a;if(isWindow(i))return"width"===o?Ve.viewportWidth(i):Ve.viewportHeight(i);if(9===i.nodeType)return"width"===o?Ve.docWidth(i):Ve.docHeight(i);var w="width"===o?["Left","Right"]:["Top","Bottom"],E="width"===o?i.getBoundingClientRect().width:i.getBoundingClientRect().height,P=(Me(i),isBorderBoxFn(i)),D=0;(null===E||void 0===E||E<=0)&&(E=void 0,(null===(D=Me(i,o))||void 0===D||Number(D)<0)&&(D=i.style[o]||0),D=parseFloat(D)||0),void 0===v&&(v=P?1:-1);var j=void 0!==E||P,B=E||D;return-1===v?j?B-getPBMWidth(i,["border","padding"],w):D:j?1===v?B:B+(2===v?-getPBMWidth(i,["border"],w):getPBMWidth(i,["margin"],w)):D+getPBMWidth(i,ze.slice(v),w)}each(["Width","Height"],(function(i){Ve["doc".concat(i)]=function(o){var a=o.document;return Math.max(a.documentElement["scroll".concat(i)],a.body["scroll".concat(i)],Ve["viewport".concat(i)](a))},Ve["viewport".concat(i)]=function(o){var a="client".concat(i),v=o.document,w=v.body,E=v.documentElement[a];return"CSS1Compat"===v.compatMode&&E||w&&w[a]||E}}));var Ye={position:"absolute",visibility:"hidden",display:"block"};function getWHIgnoreDisplay(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var v,w=o[0];return 0!==w.offsetWidth?v=getWH.apply(void 0,o):swap(w,Ye,(function(){v=getWH.apply(void 0,o)})),v}function mix(i,o){for(var a in o)o.hasOwnProperty(a)&&(i[a]=o[a]);return i}each(["width","height"],(function(i){var o=i.charAt(0).toUpperCase()+i.slice(1);Ve["outer".concat(o)]=function(o,a){return o&&getWHIgnoreDisplay(o,i,a?0:1)};var a="width"===i?["Left","Right"]:["Top","Bottom"];Ve[i]=function(o,v){var w=v;if(void 0===w)return o&&getWHIgnoreDisplay(o,i,-1);if(o){Me(o);return isBorderBoxFn(o)&&(w+=getPBMWidth(o,["padding","border"],a)),css(o,i,w)}}}));var qe={getWindow:function getWindow(i){if(i&&i.document&&i.setTimeout)return i;var o=i.ownerDocument||i;return o.defaultView||o.parentWindow},getDocument:getDocument,offset:function offset(i,o,a){if("undefined"===typeof o)return getOffset(i);!function setOffset(i,o,a){if(a.ignoreShake){var v=getOffset(i),w=v.left.toFixed(0),E=v.top.toFixed(0),P=o.left.toFixed(0),D=o.top.toFixed(0);if(w===P&&E===D)return}a.useCssRight||a.useCssBottom?setLeftTop(i,o,a):a.useCssTransform&&getTransformName()in document.body.style?setTransform$1(i,o):setLeftTop(i,o,a)}(i,o,a||{})},isWindow:isWindow,each:each,css:css,clone:function clone(i){var o,a={};for(o in i)i.hasOwnProperty(o)&&(a[o]=i[o]);if(i.overflow)for(o in i)i.hasOwnProperty(o)&&(a.overflow[o]=i.overflow[o]);return a},mix:mix,getWindowScrollLeft:function getWindowScrollLeft(i){return getScrollLeft(i)},getWindowScrollTop:function getWindowScrollTop(i){return getScrollTop(i)},merge:function merge(){for(var i={},o=0;o<arguments.length;o++)qe.mix(i,o<0||arguments.length<=o?void 0:arguments[o]);return i},viewportWidth:0,viewportHeight:0};mix(qe,Ve);var Ke=qe.getParent;function getOffsetParent(i){if(qe.isWindow(i)||9===i.nodeType)return null;var o,a=qe.getDocument(i).body,v=qe.css(i,"position");if(!("fixed"===v||"absolute"===v))return"html"===i.nodeName.toLowerCase()?null:Ke(i);for(o=Ke(i);o&&o!==a&&9!==o.nodeType;o=Ke(o))if("static"!==(v=qe.css(o,"position")))return o;return null}var Qe=qe.getParent;function getVisibleRectForElement(i,o){for(var a={left:0,right:1/0,top:0,bottom:1/0},v=getOffsetParent(i),w=qe.getDocument(i),E=w.defaultView||w.parentWindow,P=w.body,D=w.documentElement;v;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===v.clientWidth||v===P||v===D||"visible"===qe.css(v,"overflow")){if(v===P||v===D)break}else{var j=qe.offset(v);j.left+=v.clientLeft,j.top+=v.clientTop,a.top=Math.max(a.top,j.top),a.right=Math.min(a.right,j.left+v.clientWidth),a.bottom=Math.min(a.bottom,j.top+v.clientHeight),a.left=Math.max(a.left,j.left)}v=getOffsetParent(v)}var B=null;qe.isWindow(i)||9===i.nodeType||(B=i.style.position,"absolute"===qe.css(i,"position")&&(i.style.position="fixed"));var Q=qe.getWindowScrollLeft(E),$=qe.getWindowScrollTop(E),ee=qe.viewportWidth(E),te=qe.viewportHeight(E),ne=D.scrollWidth,ie=D.scrollHeight,le=window.getComputedStyle(P);if("hidden"===le.overflowX&&(ne=E.innerWidth),"hidden"===le.overflowY&&(ie=E.innerHeight),i.style&&(i.style.position=B),o||function isAncestorFixed(i){if(qe.isWindow(i)||9===i.nodeType)return!1;var o=qe.getDocument(i).body,a=null;for(a=Qe(i);a&&a!==o;a=Qe(a)){if("fixed"===qe.css(a,"position"))return!0}return!1}(i))a.left=Math.max(a.left,Q),a.top=Math.max(a.top,$),a.right=Math.min(a.right,Q+ee),a.bottom=Math.min(a.bottom,$+te);else{var ue=Math.max(ne,Q+ee);a.right=Math.min(a.right,ue);var fe=Math.max(ie,$+te);a.bottom=Math.min(a.bottom,fe)}return a.top>=0&&a.left>=0&&a.bottom>a.top&&a.right>a.left?a:null}function getRegion(i){var o,a,v;if(qe.isWindow(i)||9===i.nodeType){var w=qe.getWindow(i);o={left:qe.getWindowScrollLeft(w),top:qe.getWindowScrollTop(w)},a=qe.viewportWidth(w),v=qe.viewportHeight(w)}else o=qe.offset(i),a=qe.outerWidth(i),v=qe.outerHeight(i);return o.width=a,o.height=v,o}function getAlignOffset(i,o){var a=o.charAt(0),v=o.charAt(1),w=i.width,E=i.height,P=i.left,D=i.top;return"c"===a?D+=E/2:"b"===a&&(D+=E),"c"===v?P+=w/2:"r"===v&&(P+=w),{left:P,top:D}}function getElFuturePos(i,o,a,v,w){var E=getAlignOffset(o,a[1]),P=getAlignOffset(i,a[0]),D=[P.left-E.left,P.top-E.top];return{left:Math.round(i.left-D[0]+v[0]-w[0]),top:Math.round(i.top-D[1]+v[1]-w[1])}}function isFailX(i,o,a){return i.left<a.left||i.left+o.width>a.right}function isFailY(i,o,a){return i.top<a.top||i.top+o.height>a.bottom}function flip(i,o,a){var v=[];return qe.each(i,(function(i){v.push(i.replace(o,(function(i){return a[i]})))})),v}function flipOffset(i,o){return i[o]=-i[o],i}function convertOffset(i,o){return(/%$/.test(i)?parseInt(i.substring(0,i.length-1),10)/100*o:parseInt(i,10))||0}function normalizeOffset(i,o){i[0]=convertOffset(i[0],o.width),i[1]=convertOffset(i[1],o.height)}function doAlign(i,o,a,v){var w=a.points,E=a.offset||[0,0],P=a.targetOffset||[0,0],D=a.overflow,j=a.source||i;E=[].concat(E),P=[].concat(P);var B={},Q=0,$=getVisibleRectForElement(j,!(!(D=D||{})||!D.alwaysByViewport)),ee=getRegion(j);normalizeOffset(E,ee),normalizeOffset(P,o);var te=getElFuturePos(ee,o,w,E,P),ne=qe.merge(ee,te);if($&&(D.adjustX||D.adjustY)&&v){if(D.adjustX&&isFailX(te,ee,$)){var ie=flip(w,/[lr]/gi,{l:"r",r:"l"}),le=flipOffset(E,0),ue=flipOffset(P,0);(function isCompleteFailX(i,o,a){return i.left>a.right||i.left+o.width<a.left})(getElFuturePos(ee,o,ie,le,ue),ee,$)||(Q=1,w=ie,E=le,P=ue)}if(D.adjustY&&isFailY(te,ee,$)){var fe=flip(w,/[tb]/gi,{t:"b",b:"t"}),he=flipOffset(E,1),ge=flipOffset(P,1);(function isCompleteFailY(i,o,a){return i.top>a.bottom||i.top+o.height<a.top})(getElFuturePos(ee,o,fe,he,ge),ee,$)||(Q=1,w=fe,E=he,P=ge)}Q&&(te=getElFuturePos(ee,o,w,E,P),qe.mix(ne,te));var me=isFailX(te,ee,$),ye=isFailY(te,ee,$);if(me||ye){var _e=w;me&&(_e=flip(w,/[lr]/gi,{l:"r",r:"l"})),ye&&(_e=flip(w,/[tb]/gi,{t:"b",b:"t"})),w=_e,E=a.offset||[0,0],P=a.targetOffset||[0,0]}B.adjustX=D.adjustX&&me,B.adjustY=D.adjustY&&ye,(B.adjustX||B.adjustY)&&(ne=function adjustForViewport(i,o,a,v){var w=qe.clone(i),E={width:o.width,height:o.height};return v.adjustX&&w.left<a.left&&(w.left=a.left),v.resizeWidth&&w.left>=a.left&&w.left+E.width>a.right&&(E.width-=w.left+E.width-a.right),v.adjustX&&w.left+E.width>a.right&&(w.left=Math.max(a.right-E.width,a.left)),v.adjustY&&w.top<a.top&&(w.top=a.top),v.resizeHeight&&w.top>=a.top&&w.top+E.height>a.bottom&&(E.height-=w.top+E.height-a.bottom),v.adjustY&&w.top+E.height>a.bottom&&(w.top=Math.max(a.bottom-E.height,a.top)),qe.mix(w,E)}(te,ee,$,B))}return ne.width!==ee.width&&qe.css(j,"width",qe.width(j)+ne.width-ee.width),ne.height!==ee.height&&qe.css(j,"height",qe.height(j)+ne.height-ee.height),qe.offset(j,{left:ne.left,top:ne.top},{useCssRight:a.useCssRight,useCssBottom:a.useCssBottom,useCssTransform:a.useCssTransform,ignoreShake:a.ignoreShake}),{points:w,offset:E,targetOffset:P,overflow:B}}function alignElement(i,o,a){var v=a.target||o;return doAlign(i,getRegion(v),a,!function isOutOfVisibleRect(i,o){var a=getVisibleRectForElement(i,o),v=getRegion(i);return!a||v.left+v.width<=a.left||v.top+v.height<=a.top||v.left>=a.right||v.top>=a.bottom}(v,a.overflow&&a.overflow.alwaysByViewport))}function dist_web_alignPoint(i,o,a){var v,w,E=qe.getDocument(i),P=E.defaultView||E.parentWindow,D=qe.getWindowScrollLeft(P),j=qe.getWindowScrollTop(P),B=qe.viewportWidth(P),Q=qe.viewportHeight(P);v="pageX"in o?o.pageX:D+o.clientX,w="pageY"in o?o.pageY:j+o.clientY;var $=v>=0&&v<=D+B&&w>=0&&w<=j+Q;return doAlign(i,{left:v,top:w,width:0,height:0},function dist_web_objectSpread2(i){for(var o=1;o<arguments.length;o++){var a=null!=arguments[o]?arguments[o]:{};o%2?dist_web_ownKeys(a,!0).forEach((function(o){dist_web_defineProperty(i,o,a[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):dist_web_ownKeys(a).forEach((function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(a,o))}))}return i}({},a,{points:[a.points[0],"cc"]}),$)}alignElement.__getOffsetParent=getOffsetParent,alignElement.__getVisibleRectForElement=getVisibleRectForElement;var Ze=a(77);function monitorResize(i,o){var a=null,v=null;var w=new Ze.a((function onResize(i){var w=_slicedToArray(i,1)[0].target;if(document.contains(w)){var E=w.getBoundingClientRect(),P=E.width,D=E.height,j=Math.floor(P),B=Math.floor(D);a===j&&v===B||Promise.resolve().then((function(){o({width:j,height:B})})),a=j,v=B}}));return i&&w.observe(i),function(){w.disconnect()}}function getElement(i){return"function"!==typeof i?null:i()}function getPoint(i){return"object"===_typeof(i)&&i?i:null}var et=w.a.forwardRef((function Align(i,o){var a=i.children,v=i.disabled,E=i.target,P=i.align,D=i.onAlign,j=i.monitorWindowResize,B=i.monitorBufferTime,Q=void 0===B?0:B,$=w.a.useRef({}),ee=w.a.useRef(),te=w.a.Children.only(a),ne=w.a.useRef({});ne.current.disabled=v,ne.current.target=E,ne.current.onAlign=D;var ie=_slicedToArray(function(i,o){var a=w.a.useRef(!1),v=w.a.useRef(null);function cancelTrigger(){window.clearTimeout(v.current)}return[function trigger(w){if(a.current&&!0!==w)cancelTrigger(),v.current=window.setTimeout((function(){a.current=!1,trigger()}),o);else{if(!1===i())return;a.current=!0,cancelTrigger(),v.current=window.setTimeout((function(){a.current=!1}),o)}},function(){a.current=!1,cancelTrigger()}]}((function(){var i=ne.current,o=i.disabled,a=i.target;if(!o&&a){var v,w=ee.current,E=getElement(a),j=getPoint(a);$.current.element=E,$.current.point=j;var B=document.activeElement;return E?v=alignElement(w,E,P):j&&(v=dist_web_alignPoint(w,j,P)),function restoreFocus(i,o){i!==document.activeElement&&contains(o,i)&&"function"===typeof i.focus&&i.focus()}(B,w),D&&D(w,v),!0}return!1}),Q),2),le=ie[0],ue=ie[1],fe=w.a.useRef({cancel:function cancel(){}}),he=w.a.useRef({cancel:function cancel(){}});w.a.useEffect((function(){var i=getElement(E),o=getPoint(E);ee.current!==he.current.element&&(he.current.cancel(),he.current.element=ee.current,he.current.cancel=monitorResize(ee.current,le)),$.current.element===i&&function isSamePoint(i,o){return i===o||!(!i||!o)&&("pageX"in o&&"pageY"in o?i.pageX===o.pageX&&i.pageY===o.pageY:"clientX"in o&&"clientY"in o&&(i.clientX===o.clientX&&i.clientY===o.clientY))}($.current.point,o)||(le(),fe.current.element!==i&&(fe.current.cancel(),fe.current.element=i,fe.current.cancel=monitorResize(i,le)))})),w.a.useEffect((function(){v?ue():le()}),[v]);var ge=w.a.useRef(null);return w.a.useEffect((function(){j?ge.current||(ge.current=addEventListenerWrap(window,"resize",le)):ge.current&&(ge.current.remove(),ge.current=null)}),[j]),w.a.useEffect((function(){return function(){fe.current.cancel(),he.current.cancel(),ge.current&&ge.current.remove(),ue()}}),[]),w.a.useImperativeHandle(o,(function(){return{forceAlign:function forceAlign(){return le(!0)}}})),w.a.isValidElement(te)&&(te=w.a.cloneElement(te,{ref:composeRef(te.ref,ee)})),te}));et.displayName="Align";var tt=et,nt=!("undefined"===typeof window||!window.document||!window.document.createElement);function makePrefixMap(i,o){var a={};return a[i.toLowerCase()]=o.toLowerCase(),a["Webkit".concat(i)]="webkit".concat(o),a["Moz".concat(i)]="moz".concat(o),a["ms".concat(i)]="MS".concat(o),a["O".concat(i)]="o".concat(o.toLowerCase()),a}var rt=function getVendorPrefixes(i,o){var a={animationend:makePrefixMap("Animation","AnimationEnd"),transitionend:makePrefixMap("Transition","TransitionEnd")};return i&&("AnimationEvent"in o||delete a.animationend.animation,"TransitionEvent"in o||delete a.transitionend.transition),a}(nt,"undefined"!==typeof window?window:{}),it={};if(nt){var ot=document.createElement("div");it=ot.style}var at={};function getVendorPrefixedEventName(i){if(at[i])return at[i];var o=rt[i];if(o)for(var a=Object.keys(o),v=a.length,w=0;w<v;w+=1){var E=a[w];if(Object.prototype.hasOwnProperty.call(o,E)&&E in it)return at[i]=o[E],at[i]}return""}var st=getVendorPrefixedEventName("animationend"),ct=getVendorPrefixedEventName("transitionend"),ut=!(!st||!ct);function motion_getTransitionName(i,o){return i?"object"===_typeof(i)?i[o.replace(/-\w/g,(function(i){return i[1].toUpperCase()}))]:"".concat(i,"-").concat(o):null}var ft=function genCSSMotion(i){var o=i,a=!!v.forwardRef;function isSupportTransition(i){return!(!i.motionName||!o)}"object"===_typeof(i)&&(o=i.transitionSupport,a="forwardRef"in i?i.forwardRef:a);var w=function(i){_inherits(CSSMotion,i);var o=createSuper_createSuper(CSSMotion);function CSSMotion(){var i;return _classCallCheck(this,CSSMotion),(i=o.apply(this,arguments)).$cacheEle=null,i.node=null,i.raf=null,i.destroyed=!1,i.deadlineId=null,i.state={status:"none",statusActive:!1,newStatus:!1,statusStyle:null},i.onDomUpdate=function(){var o=i.state,a=o.status,v=o.newStatus,w=i.props,E=w.onAppearStart,P=w.onEnterStart,D=w.onLeaveStart,j=w.onAppearActive,B=w.onEnterActive,Q=w.onLeaveActive,$=w.motionAppear,ee=w.motionEnter,te=w.motionLeave;if(isSupportTransition(i.props)){var ne=i.getElement();i.$cacheEle!==ne&&(i.removeEventListener(i.$cacheEle),i.addEventListener(ne),i.$cacheEle=ne),v&&"appear"===a&&$?i.updateStatus(E,null,null,(function(){i.updateActiveStatus(j,"appear")})):v&&"enter"===a&&ee?i.updateStatus(P,null,null,(function(){i.updateActiveStatus(B,"enter")})):v&&"leave"===a&&te&&i.updateStatus(D,null,null,(function(){i.updateActiveStatus(Q,"leave")}))}},i.onMotionEnd=function(o){if(!o||o.deadline||o.target===i.getElement()){var a=i.state,v=a.status,w=a.statusActive,E=i.props,P=E.onAppearEnd,D=E.onEnterEnd,j=E.onLeaveEnd;"appear"===v&&w?i.updateStatus(P,{status:"none"},o):"enter"===v&&w?i.updateStatus(D,{status:"none"},o):"leave"===v&&w&&i.updateStatus(j,{status:"none"},o)}},i.setNodeRef=function(o){var a=i.props.internalRef;i.node=o,fillRef(a,o)},i.getElement=function(){try{return findDOMNode(i.node||_assertThisInitialized(i))}catch(o){return i.$cacheEle}},i.addEventListener=function(o){o&&(o.addEventListener(ct,i.onMotionEnd),o.addEventListener(st,i.onMotionEnd))},i.removeEventListener=function(o){o&&(o.removeEventListener(ct,i.onMotionEnd),o.removeEventListener(st,i.onMotionEnd))},i.updateStatus=function(o,a,v,w){var E,P=o?o(i.getElement(),v):null;!1===P||i.destroyed||(w&&(E=function nextStep(){i.nextFrame(w)}),i.setState(_objectSpread2({statusStyle:"object"===_typeof(P)?P:null,newStatus:!1},a),E))},i.updateActiveStatus=function(o,a){i.nextFrame((function(){if(i.state.status===a){var v=i.props.motionDeadline;i.updateStatus(o,{statusActive:!0}),v>0&&(i.deadlineId=setTimeout((function(){i.onMotionEnd({deadline:!0})}),v))}}))},i.nextFrame=function(o){i.cancelNextFrame(),i.raf=Pe()(o)},i.cancelNextFrame=function(){i.raf&&(Pe.a.cancel(i.raf),i.raf=null)},i}return _createClass(CSSMotion,[{key:"componentDidMount",value:function componentDidMount(){this.onDomUpdate()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.onDomUpdate()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.destroyed=!0,this.removeEventListener(this.$cacheEle),this.cancelNextFrame(),clearTimeout(this.deadlineId)}},{key:"render",value:function render(){var i,o=this.state,a=o.status,v=o.statusActive,w=o.statusStyle,E=this.props,P=E.children,D=E.motionName,j=E.visible,B=E.removeOnLeave,Q=E.leavedClassName,$=E.eventProps;return P?"none"!==a&&isSupportTransition(this.props)?P(_objectSpread2(_objectSpread2({},$),{},{className:ee()(motion_getTransitionName(D,a),(i={},_defineProperty(i,motion_getTransitionName(D,"".concat(a,"-active")),v),_defineProperty(i,D,"string"===typeof D),i)),style:w}),this.setNodeRef):j?P(_objectSpread2({},$),this.setNodeRef):B?null:P(_objectSpread2(_objectSpread2({},$),{},{className:Q}),this.setNodeRef):null}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(i,o){var a=o.prevProps,v=o.status;if(!isSupportTransition(i))return{};var w=i.visible,E=i.motionAppear,P=i.motionEnter,D=i.motionLeave,j=i.motionLeaveImmediately,B={prevProps:i};return("appear"===v&&!E||"enter"===v&&!P||"leave"===v&&!D)&&(B.status="none",B.statusActive=!1,B.newStatus=!1),!a&&w&&E&&(B.status="appear",B.statusActive=!1,B.newStatus=!0),a&&!a.visible&&w&&P&&(B.status="enter",B.statusActive=!1,B.newStatus=!0),(a&&a.visible&&!w&&D||!a&&j&&!w&&D)&&(B.status="leave",B.statusActive=!1,B.newStatus=!0),B}}]),CSSMotion}(v.Component);return w.defaultProps={visible:!0,motionEnter:!0,motionAppear:!0,motionLeave:!0,removeOnLeave:!0},a?v.forwardRef((function(i,o){return v.createElement(w,Object.assign({internalRef:o},i))})):w}(ut);function wrapKeyToObject(i){var o;return _objectSpread2(_objectSpread2({},o=i&&"object"===_typeof(i)&&"key"in i?i:{key:i}),{},{key:String(o.key)})}function parseKeys(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.map(wrapKeyToObject)}function diffKeys(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=[],v=0,w=o.length,E=parseKeys(i),P=parseKeys(o);E.forEach((function(i){for(var o=!1,E=v;E<w;E+=1){var D=P[E];if(D.key===i.key){v<E&&(a=a.concat(P.slice(v,E).map((function(i){return _objectSpread2(_objectSpread2({},i),{},{status:"add"})}))),v=E),a.push(_objectSpread2(_objectSpread2({},D),{},{status:"keep"})),v+=1,o=!0;break}}o||a.push(_objectSpread2(_objectSpread2({},i),{},{status:"remove"}))})),v<w&&(a=a.concat(P.slice(v).map((function(i){return _objectSpread2(_objectSpread2({},i),{},{status:"add"})}))));var D={};a.forEach((function(i){var o=i.key;D[o]=(D[o]||0)+1}));var j=Object.keys(D).filter((function(i){return D[i]>1}));return j.forEach((function(i){(a=a.filter((function(o){var a=o.key,v=o.status;return a!==i||"remove"!==v}))).forEach((function(o){o.key===i&&(o.status="keep")}))})),a}var ht=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];(function genCSSMotionList(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ft,a=function(a){_inherits(CSSMotionList,a);var w=createSuper_createSuper(CSSMotionList);function CSSMotionList(){var i;return _classCallCheck(this,CSSMotionList),(i=w.apply(this,arguments)).state={keyEntities:[]},i.removeKey=function(o){i.setState((function(i){return{keyEntities:i.keyEntities.map((function(i){return i.key!==o?i:_objectSpread2(_objectSpread2({},i),{},{status:"removed"})}))}}))},i}return _createClass(CSSMotionList,[{key:"render",value:function render(){var i=this,a=this.state.keyEntities,w=this.props,E=w.component,P=w.children,D=_objectWithoutProperties(w,["component","children"]),j=E||v.Fragment,B={};return ht.forEach((function(i){B[i]=D[i],delete D[i]})),delete D.keys,v.createElement(j,Object.assign({},D),a.map((function(a){var w=a.status,E=_objectWithoutProperties(a,["status"]),D="add"===w||"keep"===w;return v.createElement(o,Object.assign({},B,{key:E.key,visible:D,eventProps:E,onLeaveEnd:function onLeaveEnd(){B.onLeaveEnd&&B.onLeaveEnd.apply(B,arguments),i.removeKey(E.key)}}),P)})))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(o,a){var v=o.keys,w=a.keyEntities,E=parseKeys(v);if(!i)return{keyEntities:E.map((function(i){return _objectSpread2(_objectSpread2({},i),{},{status:"keep"})}))};var P=diffKeys(w,E),D=w.length;return{keyEntities:P.filter((function(i){for(var o=null,a=0;a<D;a+=1){var v=w[a];if(v.key===i.key){o=v;break}}return!o||"removed"!==o.status||"remove"!==i.status}))}}}]),CSSMotionList}(v.Component);return a.defaultProps={component:"div"},a})(ut);var dt=ft,pt=v.forwardRef((function PopupInner(i,o){var a=i.prefixCls,w=i.className,E=i.style,P=i.children,D=i.onMouseEnter,j=i.onMouseLeave,B=i.onMouseDown,Q=i.onTouchStart,$=P;return v.Children.count(P)>1&&($=v.createElement("div",{className:"".concat(a,"-content")},P)),v.createElement("div",{ref:o,className:w,onMouseEnter:D,onMouseLeave:j,onMouseDown:B,onTouchStart:Q,style:E},$)}));pt.displayName="PopupInner";var mt=pt;function getMotion(i){var o=i.prefixCls,a=i.motion,v=i.animation,w=i.transitionName;return a||(v?{motionName:"".concat(o,"-").concat(v)}:w?{motionName:w}:null)}function supportMotion(i){return i&&i.motionName}var vt=function(i){_inherits(Popup,i);var o=createSuper_createSuper(Popup);function Popup(){var i;return _classCallCheck(this,Popup),(i=o.apply(this,arguments)).state={targetWidth:void 0,targetHeight:void 0,status:null,prevVisible:null,alignClassName:null,inMotion:!1},i.popupRef=w.a.createRef(),i.alignRef=w.a.createRef(),i.nextFrameState=null,i.nextFrameId=null,i.onAlign=function(o,a){var v=i.state.status,w=i.props,E=w.getClassNameFromAlign,P=w.onAlign,D=E(a);"align"===v?i.setState({alignClassName:D,status:"aligned"},(function(){i.alignRef.current.forceAlign()})):"aligned"===v?(i.setState({alignClassName:D,status:"afterAlign"}),P(o,a)):i.setState({alignClassName:D})},i.onMotionEnd=function(){var o=i.props.visible;i.setState({status:o?"AfterMotion":"stable",inMotion:!1})},i.setStateOnNextFrame=function(o){i.cancelFrameState(),i.nextFrameState=_objectSpread2(_objectSpread2({},i.nextFrameState),o),i.nextFrameId=Pe()((function(){var o=_objectSpread2({},i.nextFrameState);i.nextFrameState=null,i.setState(o)}))},i.getMotion=function(){return _objectSpread2({},getMotion(i.props))},i.getAlignTarget=function(){var o=i.props,a=o.point,v=o.getRootDomNode;return a||v},i.cancelFrameState=function(){Pe.a.cancel(i.nextFrameId)},i.renderPopupElement=function(){var o=i.state,a=o.status,v=o.targetHeight,E=o.targetWidth,P=o.alignClassName,D=i.props,j=D.prefixCls,B=D.className,Q=D.style,$=D.stretch,te=D.visible,ne=D.align,ie=D.destroyPopupOnHide,le=D.onMouseEnter,ue=D.onMouseLeave,fe=D.onMouseDown,he=D.onTouchStart,ge=D.children,me=ee()(j,B,P),ye="".concat(j,"-hidden"),_e={};$&&(-1!==$.indexOf("height")?_e.height=v:-1!==$.indexOf("minHeight")&&(_e.minHeight=v),-1!==$.indexOf("width")?_e.width=E:-1!==$.indexOf("minWidth")&&(_e.minWidth=E));var we=_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},_e),i.getZIndexStyle()),Q),{},{opacity:"stable"!==a&&te?0:void 0,pointerEvents:"stable"!==a&&te?"none":void 0}),Se=i.getMotion(),Te=te;te&&"beforeMotion"!==a&&"motion"!==a&&"stable"!==a&&(Se.motionAppear=!1,Se.motionEnter=!1,Se.motionLeave=!1),"afterAlign"!==a&&"beforeMotion"!==a||(Te=!1),["onEnterStart","onAppearStart","onLeaveStart"].forEach((function(o){var a=null===Se||void 0===Se?void 0:Se[o];Se[o]=function(){for(var o=arguments.length,v=new Array(o),w=0;w<o;w++)v[w]=arguments[w];null===a||void 0===a||a.apply(void 0,v),i.setState({inMotion:!0})}}));var ke=!te||"align"!==a&&"aligned"!==a&&"stable"!==a,Pe=!0;return"stable"===a&&(Pe=te),ie&&!Pe?null:w.a.createElement(dt,Object.assign({visible:Te},Se,{removeOnLeave:!1,onEnterEnd:i.onMotionEnd,onLeaveEnd:i.onMotionEnd,leavedClassName:ye}),(function(o,a){var v=o.style,E=o.className;return w.a.createElement(tt,{target:i.getAlignTarget(),key:"popup",ref:i.alignRef,monitorWindowResize:!0,disabled:ke,align:ne,onAlign:i.onAlign},w.a.createElement(mt,{prefixCls:j,className:ee()(me,E),ref:composeRef(a,i.popupRef),onMouseEnter:le,onMouseLeave:ue,onMouseDown:fe,onTouchStart:he,style:_objectSpread2(_objectSpread2({},we),v)},ge))}))},i.renderMaskElement=function(){var o=i.props,a=o.mask,v=o.maskMotion,E=o.maskTransitionName,P=o.maskAnimation,D=o.prefixCls,j=o.visible;if(!a)return null;var B={};return v&&v.motionName&&(B=_objectSpread2({motionAppear:!0},getMotion({motion:v,prefixCls:D,transitionName:E,animation:P}))),w.a.createElement(dt,Object.assign({},B,{visible:j,removeOnLeave:!0}),(function(o){var a=o.className;return w.a.createElement("div",{style:i.getZIndexStyle(),key:"mask",className:ee()("".concat(D,"-mask"),a)})}))},i}return _createClass(Popup,[{key:"componentDidMount",value:function componentDidMount(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function componentDidUpdate(){var i=this.state.status,o=this.props,a=o.getRootDomNode,v=o.visible,w=o.stretch;if(this.cancelFrameState(),v&&"stable"!==i)switch(i){case null:this.setStateOnNextFrame({status:w?"measure":"align"});break;case"afterAlign":this.setStateOnNextFrame({status:supportMotion(this.getMotion())?"beforeMotion":"stable"});break;case"AfterMotion":this.setStateOnNextFrame({status:"stable"});break;default:var E=["measure","align",null,"beforeMotion","motion"],P=E.indexOf(i),D=E[P+1];-1!==P&&D&&this.setStateOnNextFrame({status:D})}if("measure"===i){var j=a();j&&this.setStateOnNextFrame({targetHeight:j.offsetHeight,targetWidth:j.offsetWidth})}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.cancelFrameState()}},{key:"getZIndexStyle",value:function getZIndexStyle(){return{zIndex:this.props.zIndex}}},{key:"render",value:function render(){return w.a.createElement("div",null,this.renderMaskElement(),this.renderPopupElement())}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(i,o){var a=i.visible,v=_objectWithoutProperties(i,["visible"]),w=o.prevVisible,E=o.status,P=o.inMotion,D={prevVisible:a,status:E},j=getMotion(v);return null===w&&!1===a?(D.status="stable",D.inMotion=!1):a!==w&&(D.inMotion=!1,a||supportMotion(j)&&P?D.status=null:D.status="stable",a&&(D.alignClassName=null)),D}}]),Popup}(v.Component),yt=v.createContext(null);function es_noop(){}function returnEmptyString(){return""}function returnDocument(){return window.document}var bt=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var _t=function generateTrigger(i){var o=function(o){_inherits(Trigger,o);var a=createSuper_createSuper(Trigger);function Trigger(i){var o,v;return _classCallCheck(this,Trigger),(o=a.call(this,i)).popupRef=w.a.createRef(),o.triggerRef=w.a.createRef(),o.onMouseEnter=function(i){var a=o.props.mouseEnterDelay;o.fireEvents("onMouseEnter",i),o.delaySetPopupVisible(!0,a,a?null:i)},o.onMouseMove=function(i){o.fireEvents("onMouseMove",i),o.setPoint(i)},o.onMouseLeave=function(i){o.fireEvents("onMouseLeave",i),o.delaySetPopupVisible(!1,o.props.mouseLeaveDelay)},o.onPopupMouseEnter=function(){o.clearDelayTimer()},o.onPopupMouseLeave=function(i){i.relatedTarget&&!i.relatedTarget.setTimeout&&o.popupRef.current&&o.popupRef.current.popupRef.current&&contains(o.popupRef.current.popupRef.current,i.relatedTarget)||o.delaySetPopupVisible(!1,o.props.mouseLeaveDelay)},o.onFocus=function(i){o.fireEvents("onFocus",i),o.clearDelayTimer(),o.isFocusToShow()&&(o.focusTime=Date.now(),o.delaySetPopupVisible(!0,o.props.focusDelay))},o.onMouseDown=function(i){o.fireEvents("onMouseDown",i),o.preClickTime=Date.now()},o.onTouchStart=function(i){o.fireEvents("onTouchStart",i),o.preTouchTime=Date.now()},o.onBlur=function(i){o.fireEvents("onBlur",i),o.clearDelayTimer(),o.isBlurToHide()&&o.delaySetPopupVisible(!1,o.props.blurDelay)},o.onContextMenu=function(i){i.preventDefault(),o.fireEvents("onContextMenu",i),o.setPopupVisible(!0,i)},o.onContextMenuClose=function(){o.isContextMenuToShow()&&o.close()},o.onClick=function(i){if(o.fireEvents("onClick",i),o.focusTime){var a;if(o.preClickTime&&o.preTouchTime?a=Math.min(o.preClickTime,o.preTouchTime):o.preClickTime?a=o.preClickTime:o.preTouchTime&&(a=o.preTouchTime),Math.abs(a-o.focusTime)<20)return;o.focusTime=0}o.preClickTime=0,o.preTouchTime=0,o.isClickToShow()&&(o.isClickToHide()||o.isBlurToHide())&&i&&i.preventDefault&&i.preventDefault();var v=!o.state.popupVisible;(o.isClickToHide()&&!v||v&&o.isClickToShow())&&o.setPopupVisible(!o.state.popupVisible,i)},o.onPopupMouseDown=function(){var i;(o.hasPopupMouseDown=!0,clearTimeout(o.mouseDownTimeout),o.mouseDownTimeout=window.setTimeout((function(){o.hasPopupMouseDown=!1}),0),o.context)&&(i=o.context).onPopupMouseDown.apply(i,arguments)},o.onDocumentClick=function(i){if(!o.props.mask||o.props.maskClosable){var a=i.target,v=o.getRootDomNode(),w=o.getPopupDomNode();contains(v,a)||contains(w,a)||o.hasPopupMouseDown||o.close()}},o.getRootDomNode=function(){var i=o.props.getTriggerDOMNode;if(i)return i(o.triggerRef.current);try{var a=findDOMNode(o.triggerRef.current);if(a)return a}catch(v){}return Q.a.findDOMNode(_assertThisInitialized(o))},o.getPopupClassNameFromAlign=function(i){var a=[],v=o.props,w=v.popupPlacement,E=v.builtinPlacements,P=v.prefixCls,D=v.alignPoint,j=v.getPopupClassNameFromAlign;return w&&E&&a.push(function getAlignPopupClassName(i,o,a,v){for(var w=a.points,E=Object.keys(i),P=0;P<E.length;P+=1){var D=E[P];if(isPointsEq(i[D].points,w,v))return"".concat(o,"-placement-").concat(D)}return""}(E,P,i,D)),j&&a.push(j(i)),a.join(" ")},o.getComponent=function(){var i=o.props,a=i.prefixCls,v=i.destroyPopupOnHide,E=i.popupClassName,P=i.onPopupAlign,D=i.popupMotion,j=i.popupAnimation,B=i.popupTransitionName,Q=i.popupStyle,$=i.mask,ee=i.maskAnimation,te=i.maskTransitionName,ne=i.maskMotion,ie=i.zIndex,le=i.popup,ue=i.stretch,fe=i.alignPoint,he=o.state,ge=he.popupVisible,me=he.point,ye=o.getPopupAlign(),_e={};return o.isMouseEnterToShow()&&(_e.onMouseEnter=o.onPopupMouseEnter),o.isMouseLeaveToHide()&&(_e.onMouseLeave=o.onPopupMouseLeave),_e.onMouseDown=o.onPopupMouseDown,_e.onTouchStart=o.onPopupMouseDown,w.a.createElement(vt,Object.assign({prefixCls:a,destroyPopupOnHide:v,visible:ge,point:fe&&me,className:E,align:ye,onAlign:P,animation:j,getClassNameFromAlign:o.getPopupClassNameFromAlign},_e,{stretch:ue,getRootDomNode:o.getRootDomNode,style:Q,mask:$,zIndex:ie,transitionName:B,maskAnimation:ee,maskTransitionName:te,maskMotion:ne,ref:o.popupRef,motion:D}),"function"===typeof le?le():le)},o.getContainer=function(){var i=_assertThisInitialized(o).props,a=document.createElement("div");return a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.width="100%",(i.getPopupContainer?i.getPopupContainer(o.getRootDomNode()):i.getDocument().body).appendChild(a),a},o.setPoint=function(i){o.props.alignPoint&&i&&o.setState({point:{pageX:i.pageX,pageY:i.pageY}})},o.handlePortalUpdate=function(){o.state.prevPopupVisible!==o.state.popupVisible&&o.props.afterPopupVisibleChange(o.state.popupVisible)},v="popupVisible"in i?!!i.popupVisible:!!i.defaultPopupVisible,o.state={prevPopupVisible:v,popupVisible:v},bt.forEach((function(i){o["fire".concat(i)]=function(a){o.fireEvents(i,a)}})),o}return _createClass(Trigger,[{key:"componentDidMount",value:function componentDidMount(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function componentDidUpdate(){var i,o=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(i=o.getDocument(),this.clickOutsideHandler=addEventListenerWrap(i,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(i=i||o.getDocument(),this.touchOutsideHandler=addEventListenerWrap(i,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(i=i||o.getDocument(),this.contextMenuOutsideHandler1=addEventListenerWrap(i,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=addEventListenerWrap(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout)}},{key:"getPopupDomNode",value:function getPopupDomNode(){return this.popupRef.current&&this.popupRef.current.popupRef.current?this.popupRef.current.popupRef.current:null}},{key:"getPopupAlign",value:function getPopupAlign(){var i=this.props,o=i.popupPlacement,a=i.popupAlign,v=i.builtinPlacements;return o&&v?function getAlignFromPlacement(i,o,a){return _objectSpread2(_objectSpread2({},i[o]||{}),a)}(v,o,a):a}},{key:"setPopupVisible",value:function setPopupVisible(i,o){var a=this.props.alignPoint,v=this.state.popupVisible;this.clearDelayTimer(),v!==i&&("popupVisible"in this.props||this.setState({popupVisible:i,prevPopupVisible:v}),this.props.onPopupVisibleChange(i)),a&&o&&this.setPoint(o)}},{key:"delaySetPopupVisible",value:function delaySetPopupVisible(i,o,a){var v=this,w=1e3*o;if(this.clearDelayTimer(),w){var E=a?{pageX:a.pageX,pageY:a.pageY}:null;this.delayTimer=window.setTimeout((function(){v.setPopupVisible(i,E),v.clearDelayTimer()}),w)}else this.setPopupVisible(i,a)}},{key:"clearDelayTimer",value:function clearDelayTimer(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function clearOutsideHandler(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function createTwoChains(i){var o=this.props.children.props,a=this.props;return o[i]&&a[i]?this["fire".concat(i)]:o[i]||a[i]}},{key:"isClickToShow",value:function isClickToShow(){var i=this.props,o=i.action,a=i.showAction;return-1!==o.indexOf("click")||-1!==a.indexOf("click")}},{key:"isContextMenuToShow",value:function isContextMenuToShow(){var i=this.props,o=i.action,a=i.showAction;return-1!==o.indexOf("contextMenu")||-1!==a.indexOf("contextMenu")}},{key:"isClickToHide",value:function isClickToHide(){var i=this.props,o=i.action,a=i.hideAction;return-1!==o.indexOf("click")||-1!==a.indexOf("click")}},{key:"isMouseEnterToShow",value:function isMouseEnterToShow(){var i=this.props,o=i.action,a=i.showAction;return-1!==o.indexOf("hover")||-1!==a.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function isMouseLeaveToHide(){var i=this.props,o=i.action,a=i.hideAction;return-1!==o.indexOf("hover")||-1!==a.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function isFocusToShow(){var i=this.props,o=i.action,a=i.showAction;return-1!==o.indexOf("focus")||-1!==a.indexOf("focus")}},{key:"isBlurToHide",value:function isBlurToHide(){var i=this.props,o=i.action,a=i.hideAction;return-1!==o.indexOf("focus")||-1!==a.indexOf("blur")}},{key:"forcePopupAlign",value:function forcePopupAlign(){this.state.popupVisible&&this.popupRef.current&&this.popupRef.current.alignRef.current&&this.popupRef.current.alignRef.current.forceAlign()}},{key:"fireEvents",value:function fireEvents(i,o){var a=this.props.children.props[i];a&&a(o);var v=this.props[i];v&&v(o)}},{key:"close",value:function close(){this.setPopupVisible(!1)}},{key:"render",value:function render(){var o=this.state.popupVisible,a=this.props,v=a.children,E=a.forceRender,P=a.alignPoint,D=a.className,j=a.autoDestroy,B=w.a.Children.only(v),Q={key:"trigger"};this.isContextMenuToShow()?Q.onContextMenu=this.onContextMenu:Q.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(Q.onClick=this.onClick,Q.onMouseDown=this.onMouseDown,Q.onTouchStart=this.onTouchStart):(Q.onClick=this.createTwoChains("onClick"),Q.onMouseDown=this.createTwoChains("onMouseDown"),Q.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(Q.onMouseEnter=this.onMouseEnter,P&&(Q.onMouseMove=this.onMouseMove)):Q.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?Q.onMouseLeave=this.onMouseLeave:Q.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(Q.onFocus=this.onFocus,Q.onBlur=this.onBlur):(Q.onFocus=this.createTwoChains("onFocus"),Q.onBlur=this.createTwoChains("onBlur"));var $=ee()(B&&B.props&&B.props.className,D);$&&(Q.className=$);var te=_objectSpread2({},Q);(function supportRef(i){var o,a,v=Object(we.isMemo)(i)?i.type.type:i.type;return!("function"===typeof v&&!(null===(o=v.prototype)||void 0===o?void 0:o.render))&&!("function"===typeof i&&!(null===(a=i.prototype)||void 0===a?void 0:a.render))})(B)&&(te.ref=composeRef(this.triggerRef,B.ref));var ne,ie=w.a.cloneElement(B,te);return(o||this.popupRef.current||E)&&(ne=w.a.createElement(i,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!o&&j&&(ne=null),w.a.createElement(yt.Provider,{value:{onPopupMouseDown:this.onPopupMouseDown}},ie,ne)}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(i,o){var a=i.popupVisible,v={};return void 0!==a&&o.popupVisible!==a&&(v.popupVisible=a,v.prevPopupVisible=o.popupVisible),v}}]),Trigger}(w.a.Component);return o.contextType=yt,o.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:returnEmptyString,getDocument:returnDocument,onPopupVisibleChange:es_noop,afterPopupVisibleChange:es_noop,onPopupAlign:es_noop,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},o}(Se),wt={adjustX:1,adjustY:1},St=[0,0],xt={left:{points:["cr","cl"],overflow:wt,offset:[-4,0],targetOffset:St},right:{points:["cl","cr"],overflow:wt,offset:[4,0],targetOffset:St},top:{points:["bc","tc"],overflow:wt,offset:[0,-4],targetOffset:St},bottom:{points:["tc","bc"],overflow:wt,offset:[0,4],targetOffset:St},topLeft:{points:["bl","tl"],overflow:wt,offset:[0,-4],targetOffset:St},leftTop:{points:["tr","tl"],overflow:wt,offset:[-4,0],targetOffset:St},topRight:{points:["br","tr"],overflow:wt,offset:[0,-4],targetOffset:St},rightTop:{points:["tl","tr"],overflow:wt,offset:[4,0],targetOffset:St},bottomRight:{points:["tr","br"],overflow:wt,offset:[0,4],targetOffset:St},rightBottom:{points:["bl","br"],overflow:wt,offset:[4,0],targetOffset:St},bottomLeft:{points:["tl","bl"],overflow:wt,offset:[0,4],targetOffset:St},leftBottom:{points:["br","bl"],overflow:wt,offset:[-4,0],targetOffset:St}},Ct=function Content(i){var o=i.overlay,a=i.prefixCls,w=i.id,E=i.overlayInnerStyle;return v.createElement("div",{className:"".concat(a,"-inner"),id:w,role:"tooltip",style:E},"function"===typeof o?o():o)};function Tooltip_typeof(i){return(Tooltip_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof(i){return typeof i}:function _typeof(i){return i&&"function"===typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(i)}function Tooltip_ownKeys(i,o){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(i);o&&(v=v.filter((function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),a.push.apply(a,v)}return a}function Tooltip_defineProperty(i,o,a){return o in i?Object.defineProperty(i,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[o]=a,i}function Tooltip_objectWithoutProperties(i,o){if(null==i)return{};var a,v,w=function _objectWithoutPropertiesLoose(i,o){if(null==i)return{};var a,v,w={},E=Object.keys(i);for(v=0;v<E.length;v++)a=E[v],o.indexOf(a)>=0||(w[a]=i[a]);return w}(i,o);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(i);for(v=0;v<E.length;v++)a=E[v],o.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(i,a)&&(w[a]=i[a])}return w}var Tt=Object(v.forwardRef)((function Tooltip(i,o){var a=i.overlayClassName,w=i.trigger,E=void 0===w?["hover"]:w,P=i.mouseEnterDelay,D=void 0===P?0:P,j=i.mouseLeaveDelay,B=void 0===j?.1:j,Q=i.overlayStyle,$=i.prefixCls,ee=void 0===$?"rc-tooltip":$,te=i.children,ne=i.onVisibleChange,ie=i.afterVisibleChange,le=i.transitionName,ue=i.animation,fe=i.placement,he=void 0===fe?"right":fe,ge=i.align,me=void 0===ge?{}:ge,ye=i.destroyTooltipOnHide,_e=void 0!==ye&&ye,we=i.defaultVisible,Se=i.getTooltipContainer,Te=i.overlayInnerStyle,ke=Tooltip_objectWithoutProperties(i,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle"]),Pe=Object(v.useRef)(null);Object(v.useImperativeHandle)(o,(function(){return Pe.current}));var De=function Tooltip_objectSpread(i){for(var o=1;o<arguments.length;o++){var a=null!=arguments[o]?arguments[o]:{};o%2?Tooltip_ownKeys(Object(a),!0).forEach((function(o){Tooltip_defineProperty(i,o,a[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):Tooltip_ownKeys(Object(a)).forEach((function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(a,o))}))}return i}({},ke);"visible"in i&&(De.popupVisible=i.visible);var Me=!1,je=!1;if("boolean"===typeof _e)Me=_e;else if(_e&&"object"===Tooltip_typeof(_e)){var Re=_e.keepParent;Me=!0===Re,je=!1===Re}return v.createElement(_t,Object.assign({popupClassName:a,prefixCls:ee,popup:function getPopupElement(){var o=i.arrowContent,a=void 0===o?null:o,w=i.overlay,E=i.id;return[v.createElement("div",{className:"".concat(ee,"-arrow"),key:"arrow"},a),v.createElement(Ct,{key:"content",prefixCls:ee,id:E,overlay:w,overlayInnerStyle:Te})]},action:E,builtinPlacements:xt,popupPlacement:he,ref:Pe,popupAlign:me,getPopupContainer:Se,onPopupVisibleChange:ne,afterPopupVisibleChange:ie,popupTransitionName:le,popupAnimation:ue,defaultPopupVisible:we,destroyPopupOnHide:Me,autoDestroy:je,mouseLeaveDelay:B,popupStyle:Q,mouseEnterDelay:D},De),te)}));function createSliderWithTooltip_ownKeys(i,o){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(i);o&&(v=v.filter((function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),a.push.apply(a,v)}return a}function createSliderWithTooltip_objectSpread(i){for(var o=1;o<arguments.length;o++){var a=null!=arguments[o]?arguments[o]:{};o%2?createSliderWithTooltip_ownKeys(Object(a),!0).forEach((function(o){_defineProperty(i,o,a[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):createSliderWithTooltip_ownKeys(Object(a)).forEach((function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(a,o))}))}return i}function createSliderWithTooltip_createSuper(i){var o=function createSliderWithTooltip_isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(i){return!1}}();return function _createSuperInternal(){var a,v=_getPrototypeOf(i);if(o){var w=_getPrototypeOf(this).constructor;a=Reflect.construct(v,arguments,w)}else a=v.apply(this,arguments);return _possibleConstructorReturn(this,a)}}fe.Range=_e,fe.Handle=ie,fe.createSliderWithTooltip=function createSliderWithTooltip(i){var o;return(o=function(o){_inherits(ComponentWrapper,o);var a=createSliderWithTooltip_createSuper(ComponentWrapper);function ComponentWrapper(){var i;return _classCallCheck(this,ComponentWrapper),(i=a.apply(this,arguments)).state={visibles:{}},i.handleTooltipVisibleChange=function(o,a){i.setState((function(i){return{visibles:createSliderWithTooltip_objectSpread(createSliderWithTooltip_objectSpread({},i.visibles),{},_defineProperty({},o,a))}}))},i.handleWithTooltip=function(o){var a,v=o.value,E=o.dragging,P=o.index,D=o.disabled,j=_objectWithoutProperties(o,["value","dragging","index","disabled"]),B=i.props,Q=B.tipFormatter,$=B.tipProps,ee=B.handleStyle,te=B.getTooltipContainer,ne=$.prefixCls,le=void 0===ne?"rc-slider-tooltip":ne,ue=$.overlay,fe=void 0===ue?Q(v):ue,he=$.placement,ge=void 0===he?"top":he,me=$.visible,ye=void 0!==me&&me,_e=_objectWithoutProperties($,["prefixCls","overlay","placement","visible"]);return a=Array.isArray(ee)?ee[P]||ee[0]:ee,w.a.createElement(Tt,Object.assign({},_e,{getTooltipContainer:te,prefixCls:le,overlay:fe,placement:ge,visible:!D&&(i.state.visibles[P]||E)||ye,key:P}),w.a.createElement(ie,Object.assign({},j,{style:createSliderWithTooltip_objectSpread({},a),value:v,onMouseEnter:function onMouseEnter(){return i.handleTooltipVisibleChange(P,!0)},onMouseLeave:function onMouseLeave(){return i.handleTooltipVisibleChange(P,!1)}})))},i}return _createClass(ComponentWrapper,[{key:"render",value:function render(){return w.a.createElement(i,Object.assign({},this.props,{handle:this.handleWithTooltip}))}}]),ComponentWrapper}(w.a.Component)).defaultProps={tipFormatter:function tipFormatter(i){return i},handleStyle:[{}],tipProps:{},getTooltipContainer:function getTooltipContainer(i){return i.parentNode}},o};o.a=fe},,function(i,o,a){"use strict";var v=a(50),w="function"===typeof Symbol&&Symbol.for,E=w?Symbol.for("react.element"):60103,P=w?Symbol.for("react.portal"):60106,D=w?Symbol.for("react.fragment"):60107,j=w?Symbol.for("react.strict_mode"):60108,B=w?Symbol.for("react.profiler"):60114,Q=w?Symbol.for("react.provider"):60109,$=w?Symbol.for("react.context"):60110,ee=w?Symbol.for("react.forward_ref"):60112,te=w?Symbol.for("react.suspense"):60113,ne=w?Symbol.for("react.memo"):60115,ie=w?Symbol.for("react.lazy"):60116,le="function"===typeof Symbol&&Symbol.iterator;function C(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,a=1;a<arguments.length;a++)o+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ue={isMounted:function isMounted(){return!1},enqueueForceUpdate:function enqueueForceUpdate(){},enqueueReplaceState:function enqueueReplaceState(){},enqueueSetState:function enqueueSetState(){}},fe={};function F(i,o,a){this.props=i,this.context=o,this.refs=fe,this.updater=a||ue}function G(){}function H(i,o,a){this.props=i,this.context=o,this.refs=fe,this.updater=a||ue}F.prototype.isReactComponent={},F.prototype.setState=function(i,o){if("object"!==typeof i&&"function"!==typeof i&&null!=i)throw Error(C(85));this.updater.enqueueSetState(this,i,o,"setState")},F.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")},G.prototype=F.prototype;var he=H.prototype=new G;he.constructor=H,v(he,F.prototype),he.isPureReactComponent=!0;var ge={current:null},me=Object.prototype.hasOwnProperty,ye={key:!0,ref:!0,__self:!0,__source:!0};function M(i,o,a){var v,w={},P=null,D=null;if(null!=o)for(v in void 0!==o.ref&&(D=o.ref),void 0!==o.key&&(P=""+o.key),o)me.call(o,v)&&!ye.hasOwnProperty(v)&&(w[v]=o[v]);var j=arguments.length-2;if(1===j)w.children=a;else if(1<j){for(var B=Array(j),Q=0;Q<j;Q++)B[Q]=arguments[Q+2];w.children=B}if(i&&i.defaultProps)for(v in j=i.defaultProps)void 0===w[v]&&(w[v]=j[v]);return{$$typeof:E,type:i,key:P,ref:D,props:w,_owner:ge.current}}function O(i){return"object"===typeof i&&null!==i&&i.$$typeof===E}var _e=/\/+/g,we=[];function R(i,o,a,v){if(we.length){var w=we.pop();return w.result=i,w.keyPrefix=o,w.func=a,w.context=v,w.count=0,w}return{result:i,keyPrefix:o,func:a,context:v,count:0}}function S(i){i.result=null,i.keyPrefix=null,i.func=null,i.context=null,i.count=0,10>we.length&&we.push(i)}function V(i,o,a){return null==i?0:function T(i,o,a,v){var w=typeof i;"undefined"!==w&&"boolean"!==w||(i=null);var D=!1;if(null===i)D=!0;else switch(w){case"string":case"number":D=!0;break;case"object":switch(i.$$typeof){case E:case P:D=!0}}if(D)return a(v,i,""===o?"."+U(i,0):o),1;if(D=0,o=""===o?".":o+":",Array.isArray(i))for(var j=0;j<i.length;j++){var B=o+U(w=i[j],j);D+=T(w,B,a,v)}else if(null===i||"object"!==typeof i?B=null:B="function"===typeof(B=le&&i[le]||i["@@iterator"])?B:null,"function"===typeof B)for(i=B.call(i),j=0;!(w=i.next()).done;)D+=T(w=w.value,B=o+U(w,j++),a,v);else if("object"===w)throw a=""+i,Error(C(31,"[object Object]"===a?"object with keys {"+Object.keys(i).join(", ")+"}":a,""));return D}(i,"",o,a)}function U(i,o){return"object"===typeof i&&null!==i&&null!=i.key?function escape(i){var o={"=":"=0",":":"=2"};return"$"+(""+i).replace(/[=:]/g,(function(i){return o[i]}))}(i.key):o.toString(36)}function W(i,o){i.func.call(i.context,o,i.count++)}function aa(i,o,a){var v=i.result,w=i.keyPrefix;i=i.func.call(i.context,o,i.count++),Array.isArray(i)?X(i,v,a,(function(i){return i})):null!=i&&(O(i)&&(i=function N(i,o){return{$$typeof:E,type:i.type,key:o,ref:i.ref,props:i.props,_owner:i._owner}}(i,w+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(_e,"$&/")+"/")+a)),v.push(i))}function X(i,o,a,v,w){var E="";null!=a&&(E=(""+a).replace(_e,"$&/")+"/"),V(i,aa,o=R(o,E,v,w)),S(o)}var Se={current:null};function Z(){var i=Se.current;if(null===i)throw Error(C(321));return i}var Te={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:ge,IsSomeRendererActing:{current:!1},assign:v};o.Children={map:function map(i,o,a){if(null==i)return i;var v=[];return X(i,v,null,o,a),v},forEach:function forEach(i,o,a){if(null==i)return i;V(i,W,o=R(null,null,o,a)),S(o)},count:function count(i){return V(i,(function(){return null}),null)},toArray:function toArray(i){var o=[];return X(i,o,null,(function(i){return i})),o},only:function only(i){if(!O(i))throw Error(C(143));return i}},o.Component=F,o.Fragment=D,o.Profiler=B,o.PureComponent=H,o.StrictMode=j,o.Suspense=te,o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Te,o.cloneElement=function(i,o,a){if(null===i||void 0===i)throw Error(C(267,i));var w=v({},i.props),P=i.key,D=i.ref,j=i._owner;if(null!=o){if(void 0!==o.ref&&(D=o.ref,j=ge.current),void 0!==o.key&&(P=""+o.key),i.type&&i.type.defaultProps)var B=i.type.defaultProps;for(Q in o)me.call(o,Q)&&!ye.hasOwnProperty(Q)&&(w[Q]=void 0===o[Q]&&void 0!==B?B[Q]:o[Q])}var Q=arguments.length-2;if(1===Q)w.children=a;else if(1<Q){B=Array(Q);for(var $=0;$<Q;$++)B[$]=arguments[$+2];w.children=B}return{$$typeof:E,type:i.type,key:P,ref:D,props:w,_owner:j}},o.createContext=function(i,o){return void 0===o&&(o=null),(i={$$typeof:$,_calculateChangedBits:o,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:Q,_context:i},i.Consumer=i},o.createElement=M,o.createFactory=function(i){var o=M.bind(null,i);return o.type=i,o},o.createRef=function(){return{current:null}},o.forwardRef=function(i){return{$$typeof:ee,render:i}},o.isValidElement=O,o.lazy=function(i){return{$$typeof:ie,_ctor:i,_status:-1,_result:null}},o.memo=function(i,o){return{$$typeof:ne,type:i,compare:void 0===o?null:o}},o.useCallback=function(i,o){return Z().useCallback(i,o)},o.useContext=function(i,o){return Z().useContext(i,o)},o.useDebugValue=function(){},o.useEffect=function(i,o){return Z().useEffect(i,o)},o.useImperativeHandle=function(i,o,a){return Z().useImperativeHandle(i,o,a)},o.useLayoutEffect=function(i,o){return Z().useLayoutEffect(i,o)},o.useMemo=function(i,o){return Z().useMemo(i,o)},o.useReducer=function(i,o,a){return Z().useReducer(i,o,a)},o.useRef=function(i){return Z().useRef(i)},o.useState=function(i){return Z().useState(i)},o.version="16.13.1"},function(i,o,a){"use strict";var v=a(0),w=a(50),E=a(84),P=a(86);function u(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,a=1;a<arguments.length;a++)o+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!v)throw Error(u(227));function ba(i,o,a,v,w,E,P,D,j){var B=Array.prototype.slice.call(arguments,3);try{o.apply(a,B)}catch(Q){this.onError(Q)}}var D=!1,j=null,B=!1,Q=null,$={onError:function onError(i){D=!0,j=i}};function ia(i,o,a,v,w,E,P,B,Q){D=!1,j=null,ba.apply($,arguments)}var ee=null,te=null,ne=null;function na(i,o,a){var v=i.type||"unknown-event";i.currentTarget=ne(a),function ja(i,o,a,v,w,E,P,$,ee){if(ia.apply(this,arguments),D){if(!D)throw Error(u(198));var te=j;D=!1,j=null,B||(B=!0,Q=te)}}(v,o,void 0,i),i.currentTarget=null}var ie=null,le={};function ra(){if(ie)for(var i in le){var o=le[i],a=ie.indexOf(i);if(!(-1<a))throw Error(u(96,i));if(!ue[a]){if(!o.extractEvents)throw Error(u(97,i));for(var v in ue[a]=o,a=o.eventTypes){var w=void 0,E=a[v],P=o,D=v;if(fe.hasOwnProperty(D))throw Error(u(99,D));fe[D]=E;var j=E.phasedRegistrationNames;if(j){for(w in j)j.hasOwnProperty(w)&&ua(j[w],P,D);w=!0}else E.registrationName?(ua(E.registrationName,P,D),w=!0):w=!1;if(!w)throw Error(u(98,v,i))}}}}function ua(i,o,a){if(he[i])throw Error(u(100,i));he[i]=o,ge[i]=o.eventTypes[a].dependencies}var ue=[],fe={},he={},ge={};function xa(i){var o,a=!1;for(o in i)if(i.hasOwnProperty(o)){var v=i[o];if(!le.hasOwnProperty(o)||le[o]!==v){if(le[o])throw Error(u(102,o));le[o]=v,a=!0}}a&&ra()}var me=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),ye=null,_e=null,we=null;function Ca(i){if(i=te(i)){if("function"!==typeof ye)throw Error(u(280));var o=i.stateNode;o&&(o=ee(o),ye(i.stateNode,i.type,o))}}function Da(i){_e?we?we.push(i):we=[i]:_e=i}function Ea(){if(_e){var i=_e,o=we;if(we=_e=null,Ca(i),o)for(i=0;i<o.length;i++)Ca(o[i])}}function Fa(i,o){return i(o)}function Ga(i,o,a,v,w){return i(o,a,v,w)}function Ha(){}var Se=Fa,Te=!1,ke=!1;function La(){null===_e&&null===we||(Ha(),Ea())}function Ma(i,o,a){if(ke)return i(o,a);ke=!0;try{return Se(i,o,a)}finally{ke=!1,La()}}var Pe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,De=Object.prototype.hasOwnProperty,Me={},je={};function C(i,o,a,v,w,E){this.acceptsBooleans=2===o||3===o||4===o,this.attributeName=v,this.attributeNamespace=w,this.mustUseProperty=a,this.propertyName=i,this.type=o,this.sanitizeURL=E}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(i){Re[i]=new C(i,0,!1,i,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(i){var o=i[0];Re[o]=new C(o,1,!1,i[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(i){Re[i]=new C(i,2,!1,i.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(i){Re[i]=new C(i,2,!1,i,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(i){Re[i]=new C(i,3,!1,i.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(i){Re[i]=new C(i,3,!0,i,null,!1)})),["capture","download"].forEach((function(i){Re[i]=new C(i,4,!1,i,null,!1)})),["cols","rows","size","span"].forEach((function(i){Re[i]=new C(i,6,!1,i,null,!1)})),["rowSpan","start"].forEach((function(i){Re[i]=new C(i,5,!1,i.toLowerCase(),null,!1)}));var Le=/[\-:]([a-z])/g;function Va(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(i){var o=i.replace(Le,Va);Re[o]=new C(o,1,!1,i,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(i){var o=i.replace(Le,Va);Re[o]=new C(o,1,!1,i,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(i){var o=i.replace(Le,Va);Re[o]=new C(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(i){Re[i]=new C(i,1,!1,i.toLowerCase(),null,!1)})),Re.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(i){Re[i]=new C(i,1,!1,i.toLowerCase(),null,!0)}));var Ue=v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Xa(i,o,a,v){var w=Re.hasOwnProperty(o)?Re[o]:null;(null!==w?0===w.type:!v&&(2<o.length&&("o"===o[0]||"O"===o[0])&&("n"===o[1]||"N"===o[1])))||(function Ta(i,o,a,v){if(null===o||"undefined"===typeof o||function Sa(i,o,a,v){if(null!==a&&0===a.type)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return!v&&(null!==a?!a.acceptsBooleans:"data-"!==(i=i.toLowerCase().slice(0,5))&&"aria-"!==i);default:return!1}}(i,o,a,v))return!0;if(v)return!1;if(null!==a)switch(a.type){case 3:return!o;case 4:return!1===o;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}(o,a,w,v)&&(a=null),v||null===w?function Ra(i){return!!De.call(je,i)||!De.call(Me,i)&&(Pe.test(i)?je[i]=!0:(Me[i]=!0,!1))}(o)&&(null===a?i.removeAttribute(o):i.setAttribute(o,""+a)):w.mustUseProperty?i[w.propertyName]=null===a?3!==w.type&&"":a:(o=w.attributeName,v=w.attributeNamespace,null===a?i.removeAttribute(o):(a=3===(w=w.type)||4===w&&!0===a?"":""+a,v?i.setAttributeNS(v,o,a):i.setAttribute(o,a))))}Ue.hasOwnProperty("ReactCurrentDispatcher")||(Ue.ReactCurrentDispatcher={current:null}),Ue.hasOwnProperty("ReactCurrentBatchConfig")||(Ue.ReactCurrentBatchConfig={suspense:null});var We=/^(.*)[\\\/]/,ze="function"===typeof Symbol&&Symbol.for,Ve=ze?Symbol.for("react.element"):60103,Ye=ze?Symbol.for("react.portal"):60106,qe=ze?Symbol.for("react.fragment"):60107,Ke=ze?Symbol.for("react.strict_mode"):60108,Qe=ze?Symbol.for("react.profiler"):60114,Ze=ze?Symbol.for("react.provider"):60109,et=ze?Symbol.for("react.context"):60110,tt=ze?Symbol.for("react.concurrent_mode"):60111,nt=ze?Symbol.for("react.forward_ref"):60112,rt=ze?Symbol.for("react.suspense"):60113,it=ze?Symbol.for("react.suspense_list"):60120,ot=ze?Symbol.for("react.memo"):60115,at=ze?Symbol.for("react.lazy"):60116,st=ze?Symbol.for("react.block"):60121,ct="function"===typeof Symbol&&Symbol.iterator;function nb(i){return null===i||"object"!==typeof i?null:"function"===typeof(i=ct&&i[ct]||i["@@iterator"])?i:null}function pb(i){if(null==i)return null;if("function"===typeof i)return i.displayName||i.name||null;if("string"===typeof i)return i;switch(i){case qe:return"Fragment";case Ye:return"Portal";case Qe:return"Profiler";case Ke:return"StrictMode";case rt:return"Suspense";case it:return"SuspenseList"}if("object"===typeof i)switch(i.$$typeof){case et:return"Context.Consumer";case Ze:return"Context.Provider";case nt:var o=i.render;return o=o.displayName||o.name||"",i.displayName||(""!==o?"ForwardRef("+o+")":"ForwardRef");case ot:return pb(i.type);case st:return pb(i.render);case at:if(i=1===i._status?i._result:null)return pb(i)}return null}function qb(i){var o="";do{e:switch(i.tag){case 3:case 4:case 6:case 7:case 10:case 9:var a="";break e;default:var v=i._debugOwner,w=i._debugSource,E=pb(i.type);a=null,v&&(a=pb(v.type)),v=E,E="",w?E=" (at "+w.fileName.replace(We,"")+":"+w.lineNumber+")":a&&(E=" (created by "+a+")"),a="\n    in "+(v||"Unknown")+E}o+=a,i=i.return}while(i);return o}function rb(i){switch(typeof i){case"boolean":case"number":case"object":case"string":case"undefined":return i;default:return""}}function sb(i){var o=i.type;return(i=i.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===o||"radio"===o)}function ub(i){i._valueTracker||(i._valueTracker=function tb(i){var o=sb(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),v=""+i[o];if(!i.hasOwnProperty(o)&&"undefined"!==typeof a&&"function"===typeof a.get&&"function"===typeof a.set){var w=a.get,E=a.set;return Object.defineProperty(i,o,{configurable:!0,get:function get(){return w.call(this)},set:function set(i){v=""+i,E.call(this,i)}}),Object.defineProperty(i,o,{enumerable:a.enumerable}),{getValue:function getValue(){return v},setValue:function setValue(i){v=""+i},stopTracking:function stopTracking(){i._valueTracker=null,delete i[o]}}}}(i))}function vb(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var a=o.getValue(),v="";return i&&(v=sb(i)?i.checked?"true":"false":i.value),(i=v)!==a&&(o.setValue(i),!0)}function wb(i,o){var a=o.checked;return w({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=a?a:i._wrapperState.initialChecked})}function xb(i,o){var a=null==o.defaultValue?"":o.defaultValue,v=null!=o.checked?o.checked:o.defaultChecked;a=rb(null!=o.value?o.value:a),i._wrapperState={initialChecked:v,initialValue:a,controlled:"checkbox"===o.type||"radio"===o.type?null!=o.checked:null!=o.value}}function yb(i,o){null!=(o=o.checked)&&Xa(i,"checked",o,!1)}function zb(i,o){yb(i,o);var a=rb(o.value),v=o.type;if(null!=a)"number"===v?(0===a&&""===i.value||i.value!=a)&&(i.value=""+a):i.value!==""+a&&(i.value=""+a);else if("submit"===v||"reset"===v)return void i.removeAttribute("value");o.hasOwnProperty("value")?Ab(i,o.type,a):o.hasOwnProperty("defaultValue")&&Ab(i,o.type,rb(o.defaultValue)),null==o.checked&&null!=o.defaultChecked&&(i.defaultChecked=!!o.defaultChecked)}function Db(i,o,a){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var v=o.type;if(!("submit"!==v&&"reset"!==v||void 0!==o.value&&null!==o.value))return;o=""+i._wrapperState.initialValue,a||o===i.value||(i.value=o),i.defaultValue=o}""!==(a=i.name)&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,""!==a&&(i.name=a)}function Ab(i,o,a){"number"===o&&i.ownerDocument.activeElement===i||(null==a?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+a&&(i.defaultValue=""+a))}function Fb(i,o){return i=w({children:void 0},o),(o=function Eb(i){var o="";return v.Children.forEach(i,(function(i){null!=i&&(o+=i)})),o}(o.children))&&(i.children=o),i}function Gb(i,o,a,v){if(i=i.options,o){o={};for(var w=0;w<a.length;w++)o["$"+a[w]]=!0;for(a=0;a<i.length;a++)w=o.hasOwnProperty("$"+i[a].value),i[a].selected!==w&&(i[a].selected=w),w&&v&&(i[a].defaultSelected=!0)}else{for(a=""+rb(a),o=null,w=0;w<i.length;w++){if(i[w].value===a)return i[w].selected=!0,void(v&&(i[w].defaultSelected=!0));null!==o||i[w].disabled||(o=i[w])}null!==o&&(o.selected=!0)}}function Hb(i,o){if(null!=o.dangerouslySetInnerHTML)throw Error(u(91));return w({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ib(i,o){var a=o.value;if(null==a){if(a=o.children,o=o.defaultValue,null!=a){if(null!=o)throw Error(u(92));if(Array.isArray(a)){if(!(1>=a.length))throw Error(u(93));a=a[0]}o=a}null==o&&(o=""),a=o}i._wrapperState={initialValue:rb(a)}}function Jb(i,o){var a=rb(o.value),v=rb(o.defaultValue);null!=a&&((a=""+a)!==i.value&&(i.value=a),null==o.defaultValue&&i.defaultValue!==a&&(i.defaultValue=a)),null!=v&&(i.defaultValue=""+v)}function Kb(i){var o=i.textContent;o===i._wrapperState.initialValue&&""!==o&&null!==o&&(i.value=o)}var ut="http://www.w3.org/1999/xhtml",ft="http://www.w3.org/2000/svg";function Mb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nb(i,o){return null==i||"http://www.w3.org/1999/xhtml"===i?Mb(o):"http://www.w3.org/2000/svg"===i&&"foreignObject"===o?"http://www.w3.org/1999/xhtml":i}var ht,dt=function(i){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(o,a,v,w){MSApp.execUnsafeLocalFunction((function(){return i(o,a)}))}:i}((function(i,o){if(i.namespaceURI!==ft||"innerHTML"in i)i.innerHTML=o;else{for((ht=ht||document.createElement("div")).innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ht.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}}));function Qb(i,o){if(o){var a=i.firstChild;if(a&&a===i.lastChild&&3===a.nodeType)return void(a.nodeValue=o)}i.textContent=o}function Rb(i,o){var a={};return a[i.toLowerCase()]=o.toLowerCase(),a["Webkit"+i]="webkit"+o,a["Moz"+i]="moz"+o,a}var pt={animationend:Rb("Animation","AnimationEnd"),animationiteration:Rb("Animation","AnimationIteration"),animationstart:Rb("Animation","AnimationStart"),transitionend:Rb("Transition","TransitionEnd")},mt={},vt={};function Vb(i){if(mt[i])return mt[i];if(!pt[i])return i;var o,a=pt[i];for(o in a)if(a.hasOwnProperty(o)&&o in vt)return mt[i]=a[o];return i}me&&(vt=document.createElement("div").style,"AnimationEvent"in window||(delete pt.animationend.animation,delete pt.animationiteration.animation,delete pt.animationstart.animation),"TransitionEvent"in window||delete pt.transitionend.transition);var yt=Vb("animationend"),bt=Vb("animationiteration"),_t=Vb("animationstart"),wt=Vb("transitionend"),St="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xt=new("function"===typeof WeakMap?WeakMap:Map);function bc(i){var o=xt.get(i);return void 0===o&&(o=new Map,xt.set(i,o)),o}function cc(i){var o=i,a=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do{0!==(1026&(o=i).effectTag)&&(a=o.return),i=o.return}while(i)}return 3===o.tag?a:null}function dc(i){if(13===i.tag){var o=i.memoizedState;if(null===o&&(null!==(i=i.alternate)&&(o=i.memoizedState)),null!==o)return o.dehydrated}return null}function ec(i){if(cc(i)!==i)throw Error(u(188))}function gc(i){if(!(i=function fc(i){var o=i.alternate;if(!o){if(null===(o=cc(i)))throw Error(u(188));return o!==i?null:i}for(var a=i,v=o;;){var w=a.return;if(null===w)break;var E=w.alternate;if(null===E){if(null!==(v=w.return)){a=v;continue}break}if(w.child===E.child){for(E=w.child;E;){if(E===a)return ec(w),i;if(E===v)return ec(w),o;E=E.sibling}throw Error(u(188))}if(a.return!==v.return)a=w,v=E;else{for(var P=!1,D=w.child;D;){if(D===a){P=!0,a=w,v=E;break}if(D===v){P=!0,v=w,a=E;break}D=D.sibling}if(!P){for(D=E.child;D;){if(D===a){P=!0,a=E,v=w;break}if(D===v){P=!0,v=E,a=w;break}D=D.sibling}if(!P)throw Error(u(189))}}if(a.alternate!==v)throw Error(u(190))}if(3!==a.tag)throw Error(u(188));return a.stateNode.current===a?i:o}(i)))return null;for(var o=i;;){if(5===o.tag||6===o.tag)return o;if(o.child)o.child.return=o,o=o.child;else{if(o===i)break;for(;!o.sibling;){if(!o.return||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}}return null}function hc(i,o){if(null==o)throw Error(u(30));return null==i?o:Array.isArray(i)?Array.isArray(o)?(i.push.apply(i,o),i):(i.push(o),i):Array.isArray(o)?[i].concat(o):[i,o]}function ic(i,o,a){Array.isArray(i)?i.forEach(o,a):i&&o.call(a,i)}var Ct=null;function kc(i){if(i){var o=i._dispatchListeners,a=i._dispatchInstances;if(Array.isArray(o))for(var v=0;v<o.length&&!i.isPropagationStopped();v++)na(i,o[v],a[v]);else o&&na(i,o,a);i._dispatchListeners=null,i._dispatchInstances=null,i.isPersistent()||i.constructor.release(i)}}function lc(i){if(null!==i&&(Ct=hc(Ct,i)),i=Ct,Ct=null,i){if(ic(i,kc),Ct)throw Error(u(95));if(B)throw i=Q,B=!1,Q=null,i}}function mc(i){return(i=i.target||i.srcElement||window).correspondingUseElement&&(i=i.correspondingUseElement),3===i.nodeType?i.parentNode:i}function nc(i){if(!me)return!1;var o=(i="on"+i)in document;return o||((o=document.createElement("div")).setAttribute(i,"return;"),o="function"===typeof o[i]),o}var Tt=[];function pc(i){i.topLevelType=null,i.nativeEvent=null,i.targetInst=null,i.ancestors.length=0,10>Tt.length&&Tt.push(i)}function qc(i,o,a,v){if(Tt.length){var w=Tt.pop();return w.topLevelType=i,w.eventSystemFlags=v,w.nativeEvent=o,w.targetInst=a,w}return{topLevelType:i,eventSystemFlags:v,nativeEvent:o,targetInst:a,ancestors:[]}}function rc(i){var o=i.targetInst,a=o;do{if(!a){i.ancestors.push(a);break}var v=a;if(3===v.tag)v=v.stateNode.containerInfo;else{for(;v.return;)v=v.return;v=3!==v.tag?null:v.stateNode.containerInfo}if(!v)break;5!==(o=a.tag)&&6!==o||i.ancestors.push(a),a=sc(v)}while(a);for(a=0;a<i.ancestors.length;a++){o=i.ancestors[a];var w=mc(i.nativeEvent);v=i.topLevelType;var E=i.nativeEvent,P=i.eventSystemFlags;0===a&&(P|=64);for(var D=null,j=0;j<ue.length;j++){var B=ue[j];B&&(B=B.extractEvents(v,o,E,w,P))&&(D=hc(D,B))}lc(D)}}function tc(i,o,a){if(!a.has(i)){switch(i){case"scroll":uc(o,"scroll",!0);break;case"focus":case"blur":uc(o,"focus",!0),uc(o,"blur",!0),a.set("blur",null),a.set("focus",null);break;case"cancel":case"close":nc(i)&&uc(o,i,!0);break;case"invalid":case"submit":case"reset":break;default:-1===St.indexOf(i)&&F(i,o)}a.set(i,null)}}var Ot,Et,kt,Pt=!1,At=[],Dt=null,Mt=null,jt=null,It=new Map,Rt=new Map,Lt=[],Ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Bt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Jc(i,o,a,v,w){return{blockedOn:i,topLevelType:o,eventSystemFlags:32|a,nativeEvent:w,container:v}}function Kc(i,o){switch(i){case"focus":case"blur":Dt=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":It.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(o.pointerId)}}function Lc(i,o,a,v,w,E){return null===i||i.nativeEvent!==E?(i=Jc(o,a,v,w,E),null!==o&&(null!==(o=Mc(o))&&Et(o)),i):(i.eventSystemFlags|=v,i)}function Oc(i){var o=sc(i.target);if(null!==o){var a=cc(o);if(null!==a)if(13===(o=a.tag)){if(null!==(o=dc(a)))return i.blockedOn=o,void E.unstable_runWithPriority(i.priority,(function(){kt(a)}))}else if(3===o&&a.stateNode.hydrate)return void(i.blockedOn=3===a.tag?a.stateNode.containerInfo:null)}i.blockedOn=null}function Pc(i){if(null!==i.blockedOn)return!1;var o=Qc(i.topLevelType,i.eventSystemFlags,i.container,i.nativeEvent);if(null!==o){var a=Mc(o);return null!==a&&Et(a),i.blockedOn=o,!1}return!0}function Rc(i,o,a){Pc(i)&&a.delete(o)}function Sc(){for(Pt=!1;0<At.length;){var i=At[0];if(null!==i.blockedOn){null!==(i=Mc(i.blockedOn))&&Ot(i);break}var o=Qc(i.topLevelType,i.eventSystemFlags,i.container,i.nativeEvent);null!==o?i.blockedOn=o:At.shift()}null!==Dt&&Pc(Dt)&&(Dt=null),null!==Mt&&Pc(Mt)&&(Mt=null),null!==jt&&Pc(jt)&&(jt=null),It.forEach(Rc),Rt.forEach(Rc)}function Tc(i,o){i.blockedOn===o&&(i.blockedOn=null,Pt||(Pt=!0,E.unstable_scheduleCallback(E.unstable_NormalPriority,Sc)))}function Uc(i){function b(o){return Tc(o,i)}if(0<At.length){Tc(At[0],i);for(var o=1;o<At.length;o++){var a=At[o];a.blockedOn===i&&(a.blockedOn=null)}}for(null!==Dt&&Tc(Dt,i),null!==Mt&&Tc(Mt,i),null!==jt&&Tc(jt,i),It.forEach(b),Rt.forEach(b),o=0;o<Lt.length;o++)(a=Lt[o]).blockedOn===i&&(a.blockedOn=null);for(;0<Lt.length&&null===(o=Lt[0]).blockedOn;)Oc(o),null===o.blockedOn&&Lt.shift()}var Nt={},Ut=new Map,Ht=new Map,Wt=["abort","abort",yt,"animationEnd",bt,"animationIteration",_t,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",wt,"transitionEnd","waiting","waiting"];function Zc(i,o){for(var a=0;a<i.length;a+=2){var v=i[a],w=i[a+1],E="on"+(w[0].toUpperCase()+w.slice(1));E={phasedRegistrationNames:{bubbled:E,captured:E+"Capture"},dependencies:[v],eventPriority:o},Ht.set(v,o),Ut.set(v,E),Nt[w]=E}}Zc("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Zc("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Zc(Wt,2);for(var zt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Vt=0;Vt<zt.length;Vt++)Ht.set(zt[Vt],0);var Gt=E.unstable_UserBlockingPriority,Yt=E.unstable_runWithPriority,Xt=!0;function F(i,o){uc(o,i,!1)}function uc(i,o,a){var v=Ht.get(o);switch(void 0===v?2:v){case 0:v=ed.bind(null,o,1,i);break;case 1:v=fd.bind(null,o,1,i);break;default:v=gd.bind(null,o,1,i)}a?i.addEventListener(o,v,!0):i.addEventListener(o,v,!1)}function ed(i,o,a,v){Te||Ha();var w=gd,E=Te;Te=!0;try{Ga(w,i,o,a,v)}finally{(Te=E)||La()}}function fd(i,o,a,v){Yt(Gt,gd.bind(null,i,o,a,v))}function gd(i,o,a,v){if(Xt)if(0<At.length&&-1<Ft.indexOf(i))i=Jc(null,i,o,a,v),At.push(i);else{var w=Qc(i,o,a,v);if(null===w)Kc(i,v);else if(-1<Ft.indexOf(i))i=Jc(w,i,o,a,v),At.push(i);else if(!function Nc(i,o,a,v,w){switch(o){case"focus":return Dt=Lc(Dt,i,o,a,v,w),!0;case"dragenter":return Mt=Lc(Mt,i,o,a,v,w),!0;case"mouseover":return jt=Lc(jt,i,o,a,v,w),!0;case"pointerover":var E=w.pointerId;return It.set(E,Lc(It.get(E)||null,i,o,a,v,w)),!0;case"gotpointercapture":return E=w.pointerId,Rt.set(E,Lc(Rt.get(E)||null,i,o,a,v,w)),!0}return!1}(w,i,o,a,v)){Kc(i,v),i=qc(i,v,null,o);try{Ma(rc,i)}finally{pc(i)}}}}function Qc(i,o,a,v){if(null!==(a=sc(a=mc(v)))){var w=cc(a);if(null===w)a=null;else{var E=w.tag;if(13===E){if(null!==(a=dc(w)))return a;a=null}else if(3===E){if(w.stateNode.hydrate)return 3===w.tag?w.stateNode.containerInfo:null;a=null}else w!==a&&(a=null)}}i=qc(i,v,a,o);try{Ma(rc,i)}finally{pc(i)}return null}var qt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kt=["Webkit","ms","Moz","O"];function jd(i,o,a){return null==o||"boolean"===typeof o||""===o?"":a||"number"!==typeof o||0===o||qt.hasOwnProperty(i)&&qt[i]?(""+o).trim():o+"px"}function kd(i,o){for(var a in i=i.style,o)if(o.hasOwnProperty(a)){var v=0===a.indexOf("--"),w=jd(a,o[a],v);"float"===a&&(a="cssFloat"),v?i.setProperty(a,w):i[a]=w}}Object.keys(qt).forEach((function(i){Kt.forEach((function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),qt[o]=qt[i]}))}));var Qt=w({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function md(i,o){if(o){if(Qt[i]&&(null!=o.children||null!=o.dangerouslySetInnerHTML))throw Error(u(137,i,""));if(null!=o.dangerouslySetInnerHTML){if(null!=o.children)throw Error(u(60));if("object"!==typeof o.dangerouslySetInnerHTML||!("__html"in o.dangerouslySetInnerHTML))throw Error(u(61))}if(null!=o.style&&"object"!==typeof o.style)throw Error(u(62,""))}}function nd(i,o){if(-1===i.indexOf("-"))return"string"===typeof o.is;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $t=ut;function pd(i,o){var a=bc(i=9===i.nodeType||11===i.nodeType?i:i.ownerDocument);o=ge[o];for(var v=0;v<o.length;v++)tc(o[v],i,a)}function qd(){}function rd(i){if("undefined"===typeof(i=i||("undefined"!==typeof document?document:void 0)))return null;try{return i.activeElement||i.body}catch(o){return i.body}}function sd(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function td(i,o){var a,v=sd(i);for(i=0;v;){if(3===v.nodeType){if(a=i+v.textContent.length,i<=o&&a>=o)return{node:v,offset:o-i};i=a}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=sd(v)}}function vd(){for(var i=window,o=rd();o instanceof i.HTMLIFrameElement;){try{var a="string"===typeof o.contentWindow.location.href}catch(v){a=!1}if(!a)break;o=rd((i=o.contentWindow).document)}return o}function wd(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&("input"===o&&("text"===i.type||"search"===i.type||"tel"===i.type||"url"===i.type||"password"===i.type)||"textarea"===o||"true"===i.contentEditable)}var Jt=null,Zt=null;function Dd(i,o){switch(i){case"button":case"input":case"select":case"textarea":return!!o.autoFocus}return!1}function Ed(i,o){return"textarea"===i||"option"===i||"noscript"===i||"string"===typeof o.children||"number"===typeof o.children||"object"===typeof o.dangerouslySetInnerHTML&&null!==o.dangerouslySetInnerHTML&&null!=o.dangerouslySetInnerHTML.__html}var en="function"===typeof setTimeout?setTimeout:void 0,tn="function"===typeof clearTimeout?clearTimeout:void 0;function Hd(i){for(;null!=i;i=i.nextSibling){var o=i.nodeType;if(1===o||3===o)break}return i}function Id(i){i=i.previousSibling;for(var o=0;i;){if(8===i.nodeType){var a=i.data;if("$"===a||"$!"===a||"$?"===a){if(0===o)return i;o--}else"/$"===a&&o++}i=i.previousSibling}return null}var nn=Math.random().toString(36).slice(2),rn="__reactInternalInstance$"+nn,an="__reactEventHandlers$"+nn,sn="__reactContainere$"+nn;function sc(i){var o=i[rn];if(o)return o;for(var a=i.parentNode;a;){if(o=a[sn]||a[rn]){if(a=o.alternate,null!==o.child||null!==a&&null!==a.child)for(i=Id(i);null!==i;){if(a=i[rn])return a;i=Id(i)}return o}a=(i=a).parentNode}return null}function Mc(i){return!(i=i[rn]||i[sn])||5!==i.tag&&6!==i.tag&&13!==i.tag&&3!==i.tag?null:i}function Nd(i){if(5===i.tag||6===i.tag)return i.stateNode;throw Error(u(33))}function Od(i){return i[an]||null}function Pd(i){do{i=i.return}while(i&&5!==i.tag);return i||null}function Qd(i,o){var a=i.stateNode;if(!a)return null;var v=ee(a);if(!v)return null;a=v[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(v=!("button"===(i=i.type)||"input"===i||"select"===i||"textarea"===i)),i=!v;break e;default:i=!1}if(i)return null;if(a&&"function"!==typeof a)throw Error(u(231,o,typeof a));return a}function Rd(i,o,a){(o=Qd(i,a.dispatchConfig.phasedRegistrationNames[o]))&&(a._dispatchListeners=hc(a._dispatchListeners,o),a._dispatchInstances=hc(a._dispatchInstances,i))}function Sd(i){if(i&&i.dispatchConfig.phasedRegistrationNames){for(var o=i._targetInst,a=[];o;)a.push(o),o=Pd(o);for(o=a.length;0<o--;)Rd(a[o],"captured",i);for(o=0;o<a.length;o++)Rd(a[o],"bubbled",i)}}function Td(i,o,a){i&&a&&a.dispatchConfig.registrationName&&(o=Qd(i,a.dispatchConfig.registrationName))&&(a._dispatchListeners=hc(a._dispatchListeners,o),a._dispatchInstances=hc(a._dispatchInstances,i))}function Ud(i){i&&i.dispatchConfig.registrationName&&Td(i._targetInst,null,i)}function Vd(i){ic(i,Sd)}var ln=null,cn=null,un=null;function Zd(){if(un)return un;var i,o,a=cn,v=a.length,w="value"in ln?ln.value:ln.textContent,E=w.length;for(i=0;i<v&&a[i]===w[i];i++);var P=v-i;for(o=1;o<=P&&a[v-o]===w[E-o];o++);return un=w.slice(i,1<o?1-o:void 0)}function $d(){return!0}function ae(){return!1}function G(i,o,a,v){for(var w in this.dispatchConfig=i,this._targetInst=o,this.nativeEvent=a,i=this.constructor.Interface)i.hasOwnProperty(w)&&((o=i[w])?this[w]=o(a):"target"===w?this.target=v:this[w]=a[w]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?$d:ae,this.isPropagationStopped=ae,this}function ce(i,o,a,v){if(this.eventPool.length){var w=this.eventPool.pop();return this.call(w,i,o,a,v),w}return new this(i,o,a,v)}function de(i){if(!(i instanceof this))throw Error(u(279));i.destructor(),10>this.eventPool.length&&this.eventPool.push(i)}function be(i){i.eventPool=[],i.getPooled=ce,i.release=de}w(G.prototype,{preventDefault:function preventDefault(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():"unknown"!==typeof i.returnValue&&(i.returnValue=!1),this.isDefaultPrevented=$d)},stopPropagation:function stopPropagation(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():"unknown"!==typeof i.cancelBubble&&(i.cancelBubble=!0),this.isPropagationStopped=$d)},persist:function persist(){this.isPersistent=$d},isPersistent:ae,destructor:function destructor(){var i,o=this.constructor.Interface;for(i in o)this[i]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=ae,this._dispatchInstances=this._dispatchListeners=null}}),G.Interface={type:null,target:null,currentTarget:function currentTarget(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function timeStamp(i){return i.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},G.extend=function(i){function b(){}function c(){return o.apply(this,arguments)}var o=this;b.prototype=o.prototype;var a=new b;return w(a,c.prototype),c.prototype=a,c.prototype.constructor=c,c.Interface=w({},o.Interface,i),c.extend=o.extend,be(c),c},be(G);var fn=G.extend({data:null}),hn=G.extend({data:null}),dn=[9,13,27,32],pn=me&&"CompositionEvent"in window,gn=null;me&&"documentMode"in document&&(gn=document.documentMode);var mn=me&&"TextEvent"in window&&!gn,vn=me&&(!pn||gn&&8<gn&&11>=gn),yn=String.fromCharCode(32),bn={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},_n=!1;function oe(i,o){switch(i){case"keyup":return-1!==dn.indexOf(o.keyCode);case"keydown":return 229!==o.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function pe(i){return"object"===typeof(i=i.detail)&&"data"in i?i.data:null}var wn=!1;var Sn={eventTypes:bn,extractEvents:function extractEvents(i,o,a,v){var w;if(pn)e:{switch(i){case"compositionstart":var E=bn.compositionStart;break e;case"compositionend":E=bn.compositionEnd;break e;case"compositionupdate":E=bn.compositionUpdate;break e}E=void 0}else wn?oe(i,a)&&(E=bn.compositionEnd):"keydown"===i&&229===a.keyCode&&(E=bn.compositionStart);return E?(vn&&"ko"!==a.locale&&(wn||E!==bn.compositionStart?E===bn.compositionEnd&&wn&&(w=Zd()):(cn="value"in(ln=v)?ln.value:ln.textContent,wn=!0)),E=fn.getPooled(E,o,a,v),w?E.data=w:null!==(w=pe(a))&&(E.data=w),Vd(E),w=E):w=null,(i=mn?function re(i,o){switch(i){case"compositionend":return pe(o);case"keypress":return 32!==o.which?null:(_n=!0,yn);case"textInput":return(i=o.data)===yn&&_n?null:i;default:return null}}(i,a):function se(i,o){if(wn)return"compositionend"===i||!pn&&oe(i,o)?(i=Zd(),un=cn=ln=null,wn=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return vn&&"ko"!==o.locale?null:o.data;default:return null}}(i,a))?((o=hn.getPooled(bn.beforeInput,o,a,v)).data=i,Vd(o)):o=null,null===w?o:null===o?w:[w,o]}},xn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return"input"===o?!!xn[i.type]:"textarea"===o}var Cn={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function xe(i,o,a){return(i=G.getPooled(Cn.change,i,o,a)).type="change",Da(a),Vd(i),i}var Tn=null,On=null;function Ae(i){lc(i)}function Be(i){if(vb(Nd(i)))return i}function Ce(i,o){if("change"===i)return o}var En=!1;function Ee(){Tn&&(Tn.detachEvent("onpropertychange",Fe),On=Tn=null)}function Fe(i){if("value"===i.propertyName&&Be(On))if(i=xe(On,i,mc(i)),Te)lc(i);else{Te=!0;try{Fa(Ae,i)}finally{Te=!1,La()}}}function Ge(i,o,a){"focus"===i?(Ee(),On=a,(Tn=o).attachEvent("onpropertychange",Fe)):"blur"===i&&Ee()}function He(i){if("selectionchange"===i||"keyup"===i||"keydown"===i)return Be(On)}function Ie(i,o){if("click"===i)return Be(o)}function Je(i,o){if("input"===i||"change"===i)return Be(o)}me&&(En=nc("input")&&(!document.documentMode||9<document.documentMode));var kn={eventTypes:Cn,_isInputEventSupported:En,extractEvents:function extractEvents(i,o,a,v){var w=o?Nd(o):window,E=w.nodeName&&w.nodeName.toLowerCase();if("select"===E||"input"===E&&"file"===w.type)var P=Ce;else if(ve(w))if(En)P=Je;else{P=He;var D=Ge}else(E=w.nodeName)&&"input"===E.toLowerCase()&&("checkbox"===w.type||"radio"===w.type)&&(P=Ie);if(P&&(P=P(i,o)))return xe(P,a,v);D&&D(i,w,o),"blur"===i&&(i=w._wrapperState)&&i.controlled&&"number"===w.type&&Ab(w,"number",w.value)}},Pn=G.extend({view:null,detail:null}),An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ne(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):!!(i=An[i])&&!!o[i]}function Oe(){return Ne}var Dn=0,Mn=0,jn=!1,In=!1,Rn=Pn.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Oe,button:null,buttons:null,relatedTarget:function relatedTarget(i){return i.relatedTarget||(i.fromElement===i.srcElement?i.toElement:i.fromElement)},movementX:function movementX(i){if("movementX"in i)return i.movementX;var o=Dn;return Dn=i.screenX,jn?"mousemove"===i.type?i.screenX-o:0:(jn=!0,0)},movementY:function movementY(i){if("movementY"in i)return i.movementY;var o=Mn;return Mn=i.screenY,In?"mousemove"===i.type?i.screenY-o:0:(In=!0,0)}}),Ln=Rn.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Fn={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Bn={eventTypes:Fn,extractEvents:function extractEvents(i,o,a,v,w){var E="mouseover"===i||"pointerover"===i,P="mouseout"===i||"pointerout"===i;if(E&&0===(32&w)&&(a.relatedTarget||a.fromElement)||!P&&!E)return null;(E=v.window===v?v:(E=v.ownerDocument)?E.defaultView||E.parentWindow:window,P)?(P=o,null!==(o=(o=a.relatedTarget||a.toElement)?sc(o):null)&&(o!==cc(o)||5!==o.tag&&6!==o.tag)&&(o=null)):P=null;if(P===o)return null;if("mouseout"===i||"mouseover"===i)var D=Rn,j=Fn.mouseLeave,B=Fn.mouseEnter,Q="mouse";else"pointerout"!==i&&"pointerover"!==i||(D=Ln,j=Fn.pointerLeave,B=Fn.pointerEnter,Q="pointer");if(i=null==P?E:Nd(P),E=null==o?E:Nd(o),(j=D.getPooled(j,P,a,v)).type=Q+"leave",j.target=i,j.relatedTarget=E,(a=D.getPooled(B,o,a,v)).type=Q+"enter",a.target=E,a.relatedTarget=i,Q=o,(v=P)&&Q)e:{for(B=Q,P=0,i=D=v;i;i=Pd(i))P++;for(i=0,o=B;o;o=Pd(o))i++;for(;0<P-i;)D=Pd(D),P--;for(;0<i-P;)B=Pd(B),i--;for(;P--;){if(D===B||D===B.alternate)break e;D=Pd(D),B=Pd(B)}D=null}else D=null;for(B=D,D=[];v&&v!==B&&(null===(P=v.alternate)||P!==B);)D.push(v),v=Pd(v);for(v=[];Q&&Q!==B&&(null===(P=Q.alternate)||P!==B);)v.push(Q),Q=Pd(Q);for(Q=0;Q<D.length;Q++)Td(D[Q],"bubbled",j);for(Q=v.length;0<Q--;)Td(v[Q],"captured",a);return 0===(64&w)?[j]:[j,a]}};var Nn="function"===typeof Object.is?Object.is:function Xe(i,o){return i===o&&(0!==i||1/i===1/o)||i!==i&&o!==o},Un=Object.prototype.hasOwnProperty;function $e(i,o){if(Nn(i,o))return!0;if("object"!==typeof i||null===i||"object"!==typeof o||null===o)return!1;var a=Object.keys(i),v=Object.keys(o);if(a.length!==v.length)return!1;for(v=0;v<a.length;v++)if(!Un.call(o,a[v])||!Nn(i[a[v]],o[a[v]]))return!1;return!0}var Hn=me&&"documentMode"in document&&11>=document.documentMode,Wn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},zn=null,Vn=null,Gn=null,Yn=!1;function gf(i,o){var a=o.window===o?o.document:9===o.nodeType?o:o.ownerDocument;return Yn||null==zn||zn!==rd(a)?null:("selectionStart"in(a=zn)&&wd(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},Gn&&$e(Gn,a)?null:(Gn=a,(i=G.getPooled(Wn.select,Vn,i,o)).type="select",i.target=zn,Vd(i),i))}var Xn={eventTypes:Wn,extractEvents:function extractEvents(i,o,a,v,w,E){if(!(E=!(w=E||(v.window===v?v.document:9===v.nodeType?v:v.ownerDocument)))){e:{w=bc(w),E=ge.onSelect;for(var P=0;P<E.length;P++)if(!w.has(E[P])){w=!1;break e}w=!0}E=!w}if(E)return null;switch(w=o?Nd(o):window,i){case"focus":(ve(w)||"true"===w.contentEditable)&&(zn=w,Vn=o,Gn=null);break;case"blur":Gn=Vn=zn=null;break;case"mousedown":Yn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Yn=!1,gf(a,v);case"selectionchange":if(Hn)break;case"keydown":case"keyup":return gf(a,v)}return null}},qn=G.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Kn=G.extend({clipboardData:function clipboardData(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Qn=Pn.extend({relatedTarget:null});function mf(i){var o=i.keyCode;return"charCode"in i?0===(i=i.charCode)&&13===o&&(i=13):i=o,10===i&&(i=13),32<=i||13===i?i:0}var $n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zn=Pn.extend({key:function key(i){if(i.key){var o=$n[i.key]||i.key;if("Unidentified"!==o)return o}return"keypress"===i.type?13===(i=mf(i))?"Enter":String.fromCharCode(i):"keydown"===i.type||"keyup"===i.type?Jn[i.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Oe,charCode:function charCode(i){return"keypress"===i.type?mf(i):0},keyCode:function keyCode(i){return"keydown"===i.type||"keyup"===i.type?i.keyCode:0},which:function which(i){return"keypress"===i.type?mf(i):"keydown"===i.type||"keyup"===i.type?i.keyCode:0}}),er=Rn.extend({dataTransfer:null}),tr=Pn.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Oe}),nr=G.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),rr=Rn.extend({deltaX:function deltaX(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function deltaY(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:null,deltaMode:null}),ir={eventTypes:Nt,extractEvents:function extractEvents(i,o,a,v){var w=Ut.get(i);if(!w)return null;switch(i){case"keypress":if(0===mf(a))return null;case"keydown":case"keyup":i=Zn;break;case"blur":case"focus":i=Qn;break;case"click":if(2===a.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":i=Rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":i=er;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":i=tr;break;case yt:case bt:case _t:i=qn;break;case wt:i=nr;break;case"scroll":i=Pn;break;case"wheel":i=rr;break;case"copy":case"cut":case"paste":i=Kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":i=Ln;break;default:i=G}return Vd(o=i.getPooled(w,o,a,v)),o}};if(ie)throw Error(u(101));ie=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),ra(),ee=Od,te=Mc,ne=Nd,xa({SimpleEventPlugin:ir,EnterLeaveEventPlugin:Bn,ChangeEventPlugin:kn,SelectEventPlugin:Xn,BeforeInputEventPlugin:Sn});var or=[],ar=-1;function H(i){0>ar||(i.current=or[ar],or[ar]=null,ar--)}function I(i,o){ar++,or[ar]=i.current,i.current=o}var sr={},lr={current:sr},cr={current:!1},ur=sr;function Af(i,o){var a=i.type.contextTypes;if(!a)return sr;var v=i.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===o)return v.__reactInternalMemoizedMaskedChildContext;var w,E={};for(w in a)E[w]=o[w];return v&&((i=i.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=E),E}function M(i){return null!==(i=i.childContextTypes)&&void 0!==i}function Bf(){H(cr),H(lr)}function Cf(i,o,a){if(lr.current!==sr)throw Error(u(168));I(lr,o),I(cr,a)}function Df(i,o,a){var v=i.stateNode;if(i=o.childContextTypes,"function"!==typeof v.getChildContext)return a;for(var E in v=v.getChildContext())if(!(E in i))throw Error(u(108,pb(o)||"Unknown",E));return w({},a,{},v)}function Ef(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||sr,ur=lr.current,I(lr,i),I(cr,cr.current),!0}function Ff(i,o,a){var v=i.stateNode;if(!v)throw Error(u(169));a?(i=Df(i,o,ur),v.__reactInternalMemoizedMergedChildContext=i,H(cr),H(lr),I(lr,i)):H(cr),I(cr,a)}var fr=E.unstable_runWithPriority,hr=E.unstable_scheduleCallback,dr=E.unstable_cancelCallback,pr=E.unstable_shouldYield,gr=E.unstable_requestPaint,mr=E.unstable_now,vr=E.unstable_getCurrentPriorityLevel,yr=E.unstable_ImmediatePriority,br=E.unstable_UserBlockingPriority,_r=E.unstable_NormalPriority,wr=E.unstable_LowPriority,Sr=E.unstable_IdlePriority;if(null==P.__interactionsRef||null==P.__interactionsRef.current)throw Error(u(302));var xr={},Cr=void 0!==gr?gr:function(){},Tr=null,Or=null,Er=!1,kr=mr(),Pr=1e4>kr?mr:function(){return mr()-kr};function Yf(){switch(vr()){case yr:return 99;case br:return 98;case _r:return 97;case wr:return 96;case Sr:return 95;default:throw Error(u(332))}}function Zf(i){switch(i){case 99:return yr;case 98:return br;case 97:return _r;case 96:return wr;case 95:return Sr;default:throw Error(u(332))}}function $f(i,o){return i=Zf(i),fr(i,o)}function ag(i,o,a){return i=Zf(i),hr(i,o,a)}function bg(i){return null===Tr?(Tr=[i],Or=hr(yr,cg)):Tr.push(i),xr}function dg(){if(null!==Or){var i=Or;Or=null,dr(i)}cg()}function cg(){if(!Er&&null!==Tr){Er=!0;var i=0;try{var o=Tr;$f(99,(function(){for(;i<o.length;i++){var a=o[i];do{a=a(!0)}while(null!==a)}})),Tr=null}catch(a){throw null!==Tr&&(Tr=Tr.slice(i+1)),hr(yr,dg),a}finally{Er=!1}}}function eg(i,o,a){return 1073741821-(1+((1073741821-i+o/10)/(a/=10)|0))*a}function fg(i,o){return 1073741823===o?99:1===o||2===o?95:0>=(i=10*(1073741821-o)-10*(1073741821-i))?99:250>=i?98:5250>=i?97:95}function gg(i,o){if(i&&i.defaultProps)for(var a in o=w({},o),i=i.defaultProps)void 0===o[a]&&(o[a]=i[a]);return o}var Ar={current:null},Dr=null,Mr=null,jr=null;function lg(){jr=Mr=Dr=null}function mg(i){var o=Ar.current;H(Ar),i.type._context._currentValue=o}function ng(i,o){for(;null!==i;){var a=i.alternate;if(i.childExpirationTime<o)i.childExpirationTime=o,null!==a&&a.childExpirationTime<o&&(a.childExpirationTime=o);else{if(!(null!==a&&a.childExpirationTime<o))break;a.childExpirationTime=o}i=i.return}}function og(i,o){Dr=i,jr=Mr=null,null!==(i=i.dependencies)&&null!==i.firstContext&&(i.expirationTime>=o&&($i=!0),i.firstContext=null)}function qg(i,o){if(jr!==i&&!1!==o&&0!==o)if("number"===typeof o&&1073741823!==o||(jr=i,o=1073741823),o={context:i,observedBits:o,next:null},null===Mr){if(null===Dr)throw Error(u(308));Mr=o,Dr.dependencies={expirationTime:0,firstContext:o,responders:null}}else Mr=Mr.next=o;return i._currentValue}var Ir=!1;function sg(i){i.updateQueue={baseState:i.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function tg(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,baseQueue:i.baseQueue,shared:i.shared,effects:i.effects})}function ug(i,o){return(i={expirationTime:i,suspenseConfig:o,tag:0,payload:null,callback:null,next:null}).next=i}function vg(i,o){if(null!==(i=i.updateQueue)){var a=(i=i.shared).pending;null===a?o.next=o:(o.next=a.next,a.next=o),i.pending=o}}function wg(i,o){var a=i.alternate;null!==a&&tg(a,i),null===(a=(i=i.updateQueue).baseQueue)?(i.baseQueue=o.next=o,o.next=o):(o.next=a.next,a.next=o)}function xg(i,o,a,v){var E=i.updateQueue;Ir=!1;var P=E.baseQueue,D=E.shared.pending;if(null!==D){if(null!==P){var j=P.next;P.next=D.next,D.next=j}P=D,E.shared.pending=null,null!==(j=i.alternate)&&(null!==(j=j.updateQueue)&&(j.baseQueue=D))}if(null!==P){j=P.next;var B=E.baseState,Q=0,$=null,ee=null,te=null;if(null!==j)for(var ne=j;;){if((D=ne.expirationTime)<v){var ie={expirationTime:ne.expirationTime,suspenseConfig:ne.suspenseConfig,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null};null===te?(ee=te=ie,$=B):te=te.next=ie,D>Q&&(Q=D)}else{null!==te&&(te=te.next={expirationTime:1073741823,suspenseConfig:ne.suspenseConfig,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null}),yg(D,ne.suspenseConfig);e:{var le=i,ue=ne;switch(D=o,ie=a,ue.tag){case 1:if("function"===typeof(le=ue.payload)){B=le.call(ie,B,D);break e}B=le;break e;case 3:le.effectTag=-4097&le.effectTag|64;case 0:if(null===(D="function"===typeof(le=ue.payload)?le.call(ie,B,D):le)||void 0===D)break e;B=w({},B,D);break e;case 2:Ir=!0}}null!==ne.callback&&(i.effectTag|=32,null===(D=E.effects)?E.effects=[ne]:D.push(ne))}if(null===(ne=ne.next)||ne===j){if(null===(D=E.shared.pending))break;ne=P.next=D.next,D.next=j,E.baseQueue=P=D,E.shared.pending=null}}null===te?$=B:te.next=ee,E.baseState=$,E.baseQueue=te,zg(Q),i.expirationTime=Q,i.memoizedState=B}}function Ag(i,o,a){if(i=o.effects,o.effects=null,null!==i)for(o=0;o<i.length;o++){var v=i[o],w=v.callback;if(null!==w){if(v.callback=null,v=w,w=a,"function"!==typeof v)throw Error(u(191,v));v.call(w)}}}var Rr=Ue.ReactCurrentBatchConfig,Lr=(new v.Component).refs;function Dg(i,o,a,v){a=null===(a=a(v,o=i.memoizedState))||void 0===a?o:w({},o,a),i.memoizedState=a,0===i.expirationTime&&(i.updateQueue.baseState=a)}var Fr={isMounted:function isMounted(i){return!!(i=i._reactInternalFiber)&&cc(i)===i},enqueueSetState:function enqueueSetState(i,o,a){i=i._reactInternalFiber;var v=Eg(),w=Rr.suspense;(w=ug(v=Fg(v,i,w),w)).payload=o,void 0!==a&&null!==a&&(w.callback=a),vg(i,w),Gg(i,v)},enqueueReplaceState:function enqueueReplaceState(i,o,a){i=i._reactInternalFiber;var v=Eg(),w=Rr.suspense;(w=ug(v=Fg(v,i,w),w)).tag=1,w.payload=o,void 0!==a&&null!==a&&(w.callback=a),vg(i,w),Gg(i,v)},enqueueForceUpdate:function enqueueForceUpdate(i,o){i=i._reactInternalFiber;var a=Eg(),v=Rr.suspense;(v=ug(a=Fg(a,i,v),v)).tag=2,void 0!==o&&null!==o&&(v.callback=o),vg(i,v),Gg(i,a)}};function Ig(i,o,a,v,w,E,P){return"function"===typeof(i=i.stateNode).shouldComponentUpdate?i.shouldComponentUpdate(v,E,P):!o.prototype||!o.prototype.isPureReactComponent||(!$e(a,v)||!$e(w,E))}function Jg(i,o,a){var v=!1,w=sr,E=o.contextType;return"object"===typeof E&&null!==E?E=qg(E):(w=M(o)?ur:lr.current,E=(v=null!==(v=o.contextTypes)&&void 0!==v)?Af(i,w):sr),o=new o(a,E),i.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=Fr,i.stateNode=o,o._reactInternalFiber=i,v&&((i=i.stateNode).__reactInternalMemoizedUnmaskedChildContext=w,i.__reactInternalMemoizedMaskedChildContext=E),o}function Kg(i,o,a,v){i=o.state,"function"===typeof o.componentWillReceiveProps&&o.componentWillReceiveProps(a,v),"function"===typeof o.UNSAFE_componentWillReceiveProps&&o.UNSAFE_componentWillReceiveProps(a,v),o.state!==i&&Fr.enqueueReplaceState(o,o.state,null)}function Lg(i,o,a,v){var w=i.stateNode;w.props=a,w.state=i.memoizedState,w.refs=Lr,sg(i);var E=o.contextType;"object"===typeof E&&null!==E?w.context=qg(E):(E=M(o)?ur:lr.current,w.context=Af(i,E)),xg(i,a,w,v),w.state=i.memoizedState,"function"===typeof(E=o.getDerivedStateFromProps)&&(Dg(i,o,E,a),w.state=i.memoizedState),"function"===typeof o.getDerivedStateFromProps||"function"===typeof w.getSnapshotBeforeUpdate||"function"!==typeof w.UNSAFE_componentWillMount&&"function"!==typeof w.componentWillMount||(o=w.state,"function"===typeof w.componentWillMount&&w.componentWillMount(),"function"===typeof w.UNSAFE_componentWillMount&&w.UNSAFE_componentWillMount(),o!==w.state&&Fr.enqueueReplaceState(w,w.state,null),xg(i,a,w,v),w.state=i.memoizedState),"function"===typeof w.componentDidMount&&(i.effectTag|=4)}var Br=Array.isArray;function Ng(i,o,a){if(null!==(i=a.ref)&&"function"!==typeof i&&"object"!==typeof i){if(a._owner){if(a=a._owner){if(1!==a.tag)throw Error(u(309));var v=a.stateNode}if(!v)throw Error(u(147,i));var w=""+i;return null!==o&&null!==o.ref&&"function"===typeof o.ref&&o.ref._stringRef===w?o.ref:((o=function b(i){var b=v.refs;b===Lr&&(b=v.refs={}),null===i?delete b[w]:b[w]=i})._stringRef=w,o)}if("string"!==typeof i)throw Error(u(284));if(!a._owner)throw Error(u(290,i))}return i}function Og(i,o){if("textarea"!==i.type)throw Error(u(31,"[object Object]"===Object.prototype.toString.call(o)?"object with keys {"+Object.keys(o).join(", ")+"}":o,""))}function Pg(i){function b(o,a){if(i){var v=o.lastEffect;null!==v?(v.nextEffect=a,o.lastEffect=a):o.firstEffect=o.lastEffect=a,a.nextEffect=null,a.effectTag=8}}function c(o,a){if(!i)return null;for(;null!==a;)b(o,a),a=a.sibling;return null}function d(i,o){for(i=new Map;null!==o;)null!==o.key?i.set(o.key,o):i.set(o.index,o),o=o.sibling;return i}function e(i,o){return(i=Qg(i,o)).index=0,i.sibling=null,i}function f(o,a,v){return o.index=v,i?null!==(v=o.alternate)?(v=v.index)<a?(o.effectTag=2,a):v:(o.effectTag=2,a):a}function g(o){return i&&null===o.alternate&&(o.effectTag=2),o}function h(i,o,a,v){return null===o||6!==o.tag?((o=Rg(a,i.mode,v)).return=i,o):((o=e(o,a)).return=i,o)}function k(i,o,a,v){return null!==o&&o.elementType===a.type?((v=e(o,a.props)).ref=Ng(i,o,a),v.return=i,v):((v=Sg(a.type,a.key,a.props,null,i.mode,v)).ref=Ng(i,o,a),v.return=i,v)}function l(i,o,a,v){return null===o||4!==o.tag||o.stateNode.containerInfo!==a.containerInfo||o.stateNode.implementation!==a.implementation?((o=Tg(a,i.mode,v)).return=i,o):((o=e(o,a.children||[])).return=i,o)}function m(i,o,a,v,w){return null===o||7!==o.tag?((o=Ug(a,i.mode,v,w)).return=i,o):((o=e(o,a)).return=i,o)}function q(i,o,a){if("string"===typeof o||"number"===typeof o)return(o=Rg(""+o,i.mode,a)).return=i,o;if("object"===typeof o&&null!==o){switch(o.$$typeof){case Ve:return(a=Sg(o.type,o.key,o.props,null,i.mode,a)).ref=Ng(i,null,o),a.return=i,a;case Ye:return(o=Tg(o,i.mode,a)).return=i,o}if(Br(o)||nb(o))return(o=Ug(o,i.mode,a,null)).return=i,o;Og(i,o)}return null}function x(i,o,a,v){var w=null!==o?o.key:null;if("string"===typeof a||"number"===typeof a)return null!==w?null:h(i,o,""+a,v);if("object"===typeof a&&null!==a){switch(a.$$typeof){case Ve:return a.key===w?a.type===qe?m(i,o,a.props.children,v,w):k(i,o,a,v):null;case Ye:return a.key===w?l(i,o,a,v):null}if(Br(a)||nb(a))return null!==w?null:m(i,o,a,v,null);Og(i,a)}return null}function y(i,o,a,v,w){if("string"===typeof v||"number"===typeof v)return h(o,i=i.get(a)||null,""+v,w);if("object"===typeof v&&null!==v){switch(v.$$typeof){case Ve:return i=i.get(null===v.key?a:v.key)||null,v.type===qe?m(o,i,v.props.children,w,v.key):k(o,i,v,w);case Ye:return l(o,i=i.get(null===v.key?a:v.key)||null,v,w)}if(Br(v)||nb(v))return m(o,i=i.get(a)||null,v,w,null);Og(o,v)}return null}function S(o,a,v,w){for(var E=null,P=null,D=a,j=a=0,B=null;null!==D&&j<v.length;j++){D.index>j?(B=D,D=null):B=D.sibling;var Q=x(o,D,v[j],w);if(null===Q){null===D&&(D=B);break}i&&D&&null===Q.alternate&&b(o,D),a=f(Q,a,j),null===P?E=Q:P.sibling=Q,P=Q,D=B}if(j===v.length)return c(o,D),E;if(null===D){for(;j<v.length;j++)null!==(D=q(o,v[j],w))&&(a=f(D,a,j),null===P?E=D:P.sibling=D,P=D);return E}for(D=d(o,D);j<v.length;j++)null!==(B=y(D,o,j,v[j],w))&&(i&&null!==B.alternate&&D.delete(null===B.key?j:B.key),a=f(B,a,j),null===P?E=B:P.sibling=B,P=B);return i&&D.forEach((function(i){return b(o,i)})),E}function L(o,a,v,w){var E=nb(v);if("function"!==typeof E)throw Error(u(150));if(null==(v=E.call(v)))throw Error(u(151));for(var P=E=null,D=a,j=a=0,B=null,Q=v.next();null!==D&&!Q.done;j++,Q=v.next()){D.index>j?(B=D,D=null):B=D.sibling;var $=x(o,D,Q.value,w);if(null===$){null===D&&(D=B);break}i&&D&&null===$.alternate&&b(o,D),a=f($,a,j),null===P?E=$:P.sibling=$,P=$,D=B}if(Q.done)return c(o,D),E;if(null===D){for(;!Q.done;j++,Q=v.next())null!==(Q=q(o,Q.value,w))&&(a=f(Q,a,j),null===P?E=Q:P.sibling=Q,P=Q);return E}for(D=d(o,D);!Q.done;j++,Q=v.next())null!==(Q=y(D,o,j,Q.value,w))&&(i&&null!==Q.alternate&&D.delete(null===Q.key?j:Q.key),a=f(Q,a,j),null===P?E=Q:P.sibling=Q,P=Q);return i&&D.forEach((function(i){return b(o,i)})),E}return function(i,o,a,v){var w="object"===typeof a&&null!==a&&a.type===qe&&null===a.key;w&&(a=a.props.children);var E="object"===typeof a&&null!==a;if(E)switch(a.$$typeof){case Ve:e:{for(E=a.key,w=o;null!==w;){if(w.key===E){switch(w.tag){case 7:if(a.type===qe){c(i,w.sibling),(o=e(w,a.props.children)).return=i,i=o;break e}break;default:if(w.elementType===a.type){c(i,w.sibling),(o=e(w,a.props)).ref=Ng(i,w,a),o.return=i,i=o;break e}}c(i,w);break}b(i,w),w=w.sibling}a.type===qe?((o=Ug(a.props.children,i.mode,v,a.key)).return=i,i=o):((v=Sg(a.type,a.key,a.props,null,i.mode,v)).ref=Ng(i,o,a),v.return=i,i=v)}return g(i);case Ye:e:{for(w=a.key;null!==o;){if(o.key===w){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){c(i,o.sibling),(o=e(o,a.children||[])).return=i,i=o;break e}c(i,o);break}b(i,o),o=o.sibling}(o=Tg(a,i.mode,v)).return=i,i=o}return g(i)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==o&&6===o.tag?(c(i,o.sibling),(o=e(o,a)).return=i,i=o):(c(i,o),(o=Rg(a,i.mode,v)).return=i,i=o),g(i);if(Br(a))return S(i,o,a,v);if(nb(a))return L(i,o,a,v);if(E&&Og(i,a),"undefined"===typeof a&&!w)switch(i.tag){case 1:case 0:throw i=i.type,Error(u(152,i.displayName||i.name||"Component"))}return c(i,o)}}var Nr=Pg(!0),Ur=Pg(!1),Hr={},Wr={current:Hr},zr={current:Hr},Vr={current:Hr};function ah(i){if(i===Hr)throw Error(u(174));return i}function bh(i,o){switch(I(Vr,o),I(zr,i),I(Wr,Hr),i=o.nodeType){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Nb(null,"");break;default:o=Nb(o=(i=8===i?o.parentNode:o).namespaceURI||null,i=i.tagName)}H(Wr),I(Wr,o)}function ch(){H(Wr),H(zr),H(Vr)}function dh(i){ah(Vr.current);var o=ah(Wr.current),a=Nb(o,i.type);o!==a&&(I(zr,i),I(Wr,a))}function eh(i){zr.current===i&&(H(Wr),H(zr))}var Gr={current:0};function fh(i){for(var o=i;null!==o;){if(13===o.tag){var a=o.memoizedState;if(null!==a&&(null===(a=a.dehydrated)||"$?"===a.data||"$!"===a.data))return o}else if(19===o.tag&&void 0!==o.memoizedProps.revealOrder){if(0!==(64&o.effectTag))return o}else if(null!==o.child){o.child.return=o,o=o.child;continue}if(o===i)break;for(;null===o.sibling;){if(null===o.return||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function gh(i,o){return{responder:i,props:o}}var Yr=Ue.ReactCurrentDispatcher,Xr=Ue.ReactCurrentBatchConfig,qr=0,Kr=null,Qr=null,$r=null,Jr=!1;function lh(){throw Error(u(321))}function mh(i,o){if(null===o)return!1;for(var a=0;a<o.length&&a<i.length;a++)if(!Nn(i[a],o[a]))return!1;return!0}function nh(i,o,a,v,w,E){if(qr=E,Kr=o,o.memoizedState=null,o.updateQueue=null,o.expirationTime=0,Yr.current=null===i||null===i.memoizedState?ti:ni,i=a(v,w),o.expirationTime===qr){E=0;do{if(o.expirationTime=0,!(25>E))throw Error(u(301));E+=1,$r=Qr=null,o.updateQueue=null,Yr.current=yi,i=a(v,w)}while(o.expirationTime===qr)}if(Yr.current=Zr,o=null!==Qr&&null!==Qr.next,qr=0,$r=Qr=Kr=null,Jr=!1,o)throw Error(u(300));return i}function sh(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===$r?Kr.memoizedState=$r=i:$r=$r.next=i,$r}function th(){if(null===Qr){var i=Kr.alternate;i=null!==i?i.memoizedState:null}else i=Qr.next;var o=null===$r?Kr.memoizedState:$r.next;if(null!==o)$r=o,Qr=i;else{if(null===i)throw Error(u(310));i={memoizedState:(Qr=i).memoizedState,baseState:Qr.baseState,baseQueue:Qr.baseQueue,queue:Qr.queue,next:null},null===$r?Kr.memoizedState=$r=i:$r=$r.next=i}return $r}function uh(i,o){return"function"===typeof o?o(i):o}function vh(i){var o=th(),a=o.queue;if(null===a)throw Error(u(311));a.lastRenderedReducer=i;var v=Qr,w=v.baseQueue,E=a.pending;if(null!==E){if(null!==w){var P=w.next;w.next=E.next,E.next=P}v.baseQueue=w=E,a.pending=null}if(null!==w){w=w.next,v=v.baseState;var D=P=E=null,j=w;do{var B=j.expirationTime;if(B<qr){var Q={expirationTime:j.expirationTime,suspenseConfig:j.suspenseConfig,action:j.action,eagerReducer:j.eagerReducer,eagerState:j.eagerState,next:null};null===D?(P=D=Q,E=v):D=D.next=Q,B>Kr.expirationTime&&(Kr.expirationTime=B,zg(B))}else null!==D&&(D=D.next={expirationTime:1073741823,suspenseConfig:j.suspenseConfig,action:j.action,eagerReducer:j.eagerReducer,eagerState:j.eagerState,next:null}),yg(B,j.suspenseConfig),v=j.eagerReducer===i?j.eagerState:i(v,j.action);j=j.next}while(null!==j&&j!==w);null===D?E=v:D.next=P,Nn(v,o.memoizedState)||($i=!0),o.memoizedState=v,o.baseState=E,o.baseQueue=D,a.lastRenderedState=v}return[o.memoizedState,a.dispatch]}function wh(i){var o=th(),a=o.queue;if(null===a)throw Error(u(311));a.lastRenderedReducer=i;var v=a.dispatch,w=a.pending,E=o.memoizedState;if(null!==w){a.pending=null;var P=w=w.next;do{E=i(E,P.action),P=P.next}while(P!==w);Nn(E,o.memoizedState)||($i=!0),o.memoizedState=E,null===o.baseQueue&&(o.baseState=E),a.lastRenderedState=E}return[E,v]}function xh(i){var o=sh();return"function"===typeof i&&(i=i()),o.memoizedState=o.baseState=i,i=(i=o.queue={pending:null,dispatch:null,lastRenderedReducer:uh,lastRenderedState:i}).dispatch=yh.bind(null,Kr,i),[o.memoizedState,i]}function zh(i,o,a,v){return i={tag:i,create:o,destroy:a,deps:v,next:null},null===(o=Kr.updateQueue)?(o={lastEffect:null},Kr.updateQueue=o,o.lastEffect=i.next=i):null===(a=o.lastEffect)?o.lastEffect=i.next=i:(v=a.next,a.next=i,i.next=v,o.lastEffect=i),i}function Ah(){return th().memoizedState}function Bh(i,o,a,v){var w=sh();Kr.effectTag|=i,w.memoizedState=zh(1|o,a,void 0,void 0===v?null:v)}function Ch(i,o,a,v){var w=th();v=void 0===v?null:v;var E=void 0;if(null!==Qr){var P=Qr.memoizedState;if(E=P.destroy,null!==v&&mh(v,P.deps))return void zh(o,a,E,v)}Kr.effectTag|=i,w.memoizedState=zh(1|o,a,E,v)}function Dh(i,o){return Bh(516,4,i,o)}function Eh(i,o){return Ch(516,4,i,o)}function Fh(i,o){return Ch(4,2,i,o)}function Gh(i,o){return"function"===typeof o?(i=i(),o(i),function(){o(null)}):null!==o&&void 0!==o?(i=i(),o.current=i,function(){o.current=null}):void 0}function Hh(i,o,a){return a=null!==a&&void 0!==a?a.concat([i]):null,Ch(4,2,Gh.bind(null,o,i),a)}function Jh(){}function Kh(i,o){return sh().memoizedState=[i,void 0===o?null:o],i}function Lh(i,o){var a=th();o=void 0===o?null:o;var v=a.memoizedState;return null!==v&&null!==o&&mh(o,v[1])?v[0]:(a.memoizedState=[i,o],i)}function Mh(i,o){var a=th();o=void 0===o?null:o;var v=a.memoizedState;return null!==v&&null!==o&&mh(o,v[1])?v[0]:(i=i(),a.memoizedState=[i,o],i)}function Nh(i,o,a){var v=Yf();$f(98>v?98:v,(function(){i(!0)})),$f(97<v?97:v,(function(){var v=Xr.suspense;Xr.suspense=void 0===o?null:o;try{i(!1),a()}finally{Xr.suspense=v}}))}function yh(i,o,a){var v=Eg(),w=Rr.suspense;w={expirationTime:v=Fg(v,i,w),suspenseConfig:w,action:a,eagerReducer:null,eagerState:null,next:null};var E=o.pending;if(null===E?w.next=w:(w.next=E.next,E.next=w),o.pending=w,E=i.alternate,i===Kr||null!==E&&E===Kr)Jr=!0,w.expirationTime=qr,Kr.expirationTime=qr;else{if(0===i.expirationTime&&(null===E||0===E.expirationTime)&&null!==(E=o.lastRenderedReducer))try{var P=o.lastRenderedState,D=E(P,a);if(w.eagerReducer=E,w.eagerState=D,Nn(D,P))return}catch(j){}Gg(i,v)}}var Zr={readContext:qg,useCallback:lh,useContext:lh,useEffect:lh,useImperativeHandle:lh,useLayoutEffect:lh,useMemo:lh,useReducer:lh,useRef:lh,useState:lh,useDebugValue:lh,useResponder:lh,useDeferredValue:lh,useTransition:lh},ti={readContext:qg,useCallback:Kh,useContext:qg,useEffect:Dh,useImperativeHandle:function useImperativeHandle(i,o,a){return a=null!==a&&void 0!==a?a.concat([i]):null,Bh(4,2,Gh.bind(null,o,i),a)},useLayoutEffect:function useLayoutEffect(i,o){return Bh(4,2,i,o)},useMemo:function useMemo(i,o){var a=sh();return o=void 0===o?null:o,i=i(),a.memoizedState=[i,o],i},useReducer:function useReducer(i,o,a){var v=sh();return o=void 0!==a?a(o):o,v.memoizedState=v.baseState=o,i=(i=v.queue={pending:null,dispatch:null,lastRenderedReducer:i,lastRenderedState:o}).dispatch=yh.bind(null,Kr,i),[v.memoizedState,i]},useRef:function useRef(i){return i={current:i},sh().memoizedState=i},useState:xh,useDebugValue:Jh,useResponder:gh,useDeferredValue:function useDeferredValue(i,o){var a=xh(i),v=a[0],w=a[1];return Dh((function(){var a=Xr.suspense;Xr.suspense=void 0===o?null:o;try{w(i)}finally{Xr.suspense=a}}),[i,o]),v},useTransition:function useTransition(i){var o=xh(!1),a=o[0];return o=o[1],[Kh(Nh.bind(null,o,i),[o,i]),a]}},ni={readContext:qg,useCallback:Lh,useContext:qg,useEffect:Eh,useImperativeHandle:Hh,useLayoutEffect:Fh,useMemo:Mh,useReducer:vh,useRef:Ah,useState:function useState(){return vh(uh)},useDebugValue:Jh,useResponder:gh,useDeferredValue:function useDeferredValue(i,o){var a=vh(uh),v=a[0],w=a[1];return Eh((function(){var a=Xr.suspense;Xr.suspense=void 0===o?null:o;try{w(i)}finally{Xr.suspense=a}}),[i,o]),v},useTransition:function useTransition(i){var o=vh(uh),a=o[0];return o=o[1],[Lh(Nh.bind(null,o,i),[o,i]),a]}},yi={readContext:qg,useCallback:Lh,useContext:qg,useEffect:Eh,useImperativeHandle:Hh,useLayoutEffect:Fh,useMemo:Mh,useReducer:wh,useRef:Ah,useState:function useState(){return wh(uh)},useDebugValue:Jh,useResponder:gh,useDeferredValue:function useDeferredValue(i,o){var a=wh(uh),v=a[0],w=a[1];return Eh((function(){var a=Xr.suspense;Xr.suspense=void 0===o?null:o;try{w(i)}finally{Xr.suspense=a}}),[i,o]),v},useTransition:function useTransition(i){var o=wh(uh),a=o[0];return o=o[1],[Lh(Nh.bind(null,o,i),[o,i]),a]}},bi=E.unstable_now,_i=0,Ci=-1;function Rh(i,o){if(0<=Ci){var a=bi()-Ci;i.actualDuration+=a,o&&(i.selfBaseDuration=a),Ci=-1}}var Ai=null,Ii=null,Bi=!1;function Vh(i,o){var a=Wh(5,null,null,0);a.elementType="DELETED",a.type="DELETED",a.stateNode=o,a.return=i,a.effectTag=8,null!==i.lastEffect?(i.lastEffect.nextEffect=a,i.lastEffect=a):i.firstEffect=i.lastEffect=a}function Xh(i,o){switch(i.tag){case 5:var a=i.type;return null!==(o=1!==o.nodeType||a.toLowerCase()!==o.nodeName.toLowerCase()?null:o)&&(i.stateNode=o,!0);case 6:return null!==(o=""===i.pendingProps||3!==o.nodeType?null:o)&&(i.stateNode=o,!0);case 13:default:return!1}}function Yh(i){if(Bi){var o=Ii;if(o){var a=o;if(!Xh(i,o)){if(!(o=Hd(a.nextSibling))||!Xh(i,o))return i.effectTag=-1025&i.effectTag|2,Bi=!1,void(Ai=i);Vh(Ai,a)}Ai=i,Ii=Hd(o.firstChild)}else i.effectTag=-1025&i.effectTag|2,Bi=!1,Ai=i}}function Zh(i){for(i=i.return;null!==i&&5!==i.tag&&3!==i.tag&&13!==i.tag;)i=i.return;Ai=i}function $h(i){if(i!==Ai)return!1;if(!Bi)return Zh(i),Bi=!0,!1;var o=i.type;if(5!==i.tag||"head"!==o&&"body"!==o&&!Ed(o,i.memoizedProps))for(o=Ii;o;)Vh(i,o),o=Hd(o.nextSibling);if(Zh(i),13===i.tag){if(!(i=null!==(i=i.memoizedState)?i.dehydrated:null))throw Error(u(317));e:{for(i=i.nextSibling,o=0;i;){if(8===i.nodeType){var a=i.data;if("/$"===a){if(0===o){Ii=Hd(i.nextSibling);break e}o--}else"$"!==a&&"$!"!==a&&"$?"!==a||o++}i=i.nextSibling}Ii=null}}else Ii=Ai?Hd(i.stateNode.nextSibling):null;return!0}function ai(){Ii=Ai=null,Bi=!1}var zi=Ue.ReactCurrentOwner,$i=!1;function ci(i,o,a,v){o.child=null===i?Ur(o,null,a,v):Nr(o,i.child,a,v)}function di(i,o,a,v,w){a=a.render;var E=o.ref;return og(o,w),v=nh(i,o,a,v,E,w),null===i||$i?(o.effectTag|=1,ci(i,o,v,w),o.child):(o.updateQueue=i.updateQueue,o.effectTag&=-517,i.expirationTime<=w&&(i.expirationTime=0),ei(i,o,w))}function fi(i,o,a,v,w,E){if(null===i){var P=a.type;return"function"!==typeof P||gi(P)||void 0!==P.defaultProps||null!==a.compare||void 0!==a.defaultProps?((i=Sg(a.type,null,v,null,o.mode,E)).ref=o.ref,i.return=o,o.child=i):(o.tag=15,o.type=P,hi(i,o,P,v,w,E))}return P=i.child,w<E&&(w=P.memoizedProps,(a=null!==(a=a.compare)?a:$e)(w,v)&&i.ref===o.ref)?ei(i,o,E):(o.effectTag|=1,(i=Qg(P,v)).ref=o.ref,i.return=o,o.child=i)}function hi(i,o,a,v,w,E){return null!==i&&$e(i.memoizedProps,v)&&i.ref===o.ref&&($i=!1,w<E)?(o.expirationTime=i.expirationTime,ei(i,o,E)):ii(i,o,a,v,E)}function ji(i,o){var a=o.ref;(null===i&&null!==a||null!==i&&i.ref!==a)&&(o.effectTag|=128)}function ii(i,o,a,v,w){var E=M(a)?ur:lr.current;return E=Af(o,E),og(o,w),a=nh(i,o,a,v,E,w),null===i||$i?(o.effectTag|=1,ci(i,o,a,w),o.child):(o.updateQueue=i.updateQueue,o.effectTag&=-517,i.expirationTime<=w&&(i.expirationTime=0),ei(i,o,w))}function ki(i,o,a,v,w){if(M(a)){var E=!0;Ef(o)}else E=!1;if(og(o,w),null===o.stateNode)null!==i&&(i.alternate=null,o.alternate=null,o.effectTag|=2),Jg(o,a,v),Lg(o,a,v,w),v=!0;else if(null===i){var P=o.stateNode,D=o.memoizedProps;P.props=D;var j=P.context,B=a.contextType;"object"===typeof B&&null!==B?B=qg(B):B=Af(o,B=M(a)?ur:lr.current);var Q=a.getDerivedStateFromProps,$="function"===typeof Q||"function"===typeof P.getSnapshotBeforeUpdate;$||"function"!==typeof P.UNSAFE_componentWillReceiveProps&&"function"!==typeof P.componentWillReceiveProps||(D!==v||j!==B)&&Kg(o,P,v,B),Ir=!1;var ee=o.memoizedState;P.state=ee,xg(o,v,P,w),j=o.memoizedState,D!==v||ee!==j||cr.current||Ir?("function"===typeof Q&&(Dg(o,a,Q,v),j=o.memoizedState),(D=Ir||Ig(o,a,D,v,ee,j,B))?($||"function"!==typeof P.UNSAFE_componentWillMount&&"function"!==typeof P.componentWillMount||("function"===typeof P.componentWillMount&&P.componentWillMount(),"function"===typeof P.UNSAFE_componentWillMount&&P.UNSAFE_componentWillMount()),"function"===typeof P.componentDidMount&&(o.effectTag|=4)):("function"===typeof P.componentDidMount&&(o.effectTag|=4),o.memoizedProps=v,o.memoizedState=j),P.props=v,P.state=j,P.context=B,v=D):("function"===typeof P.componentDidMount&&(o.effectTag|=4),v=!1)}else P=o.stateNode,tg(i,o),D=o.memoizedProps,P.props=o.type===o.elementType?D:gg(o.type,D),j=P.context,"object"===typeof(B=a.contextType)&&null!==B?B=qg(B):B=Af(o,B=M(a)?ur:lr.current),($="function"===typeof(Q=a.getDerivedStateFromProps)||"function"===typeof P.getSnapshotBeforeUpdate)||"function"!==typeof P.UNSAFE_componentWillReceiveProps&&"function"!==typeof P.componentWillReceiveProps||(D!==v||j!==B)&&Kg(o,P,v,B),Ir=!1,j=o.memoizedState,P.state=j,xg(o,v,P,w),ee=o.memoizedState,D!==v||j!==ee||cr.current||Ir?("function"===typeof Q&&(Dg(o,a,Q,v),ee=o.memoizedState),(Q=Ir||Ig(o,a,D,v,j,ee,B))?($||"function"!==typeof P.UNSAFE_componentWillUpdate&&"function"!==typeof P.componentWillUpdate||("function"===typeof P.componentWillUpdate&&P.componentWillUpdate(v,ee,B),"function"===typeof P.UNSAFE_componentWillUpdate&&P.UNSAFE_componentWillUpdate(v,ee,B)),"function"===typeof P.componentDidUpdate&&(o.effectTag|=4),"function"===typeof P.getSnapshotBeforeUpdate&&(o.effectTag|=256)):("function"!==typeof P.componentDidUpdate||D===i.memoizedProps&&j===i.memoizedState||(o.effectTag|=4),"function"!==typeof P.getSnapshotBeforeUpdate||D===i.memoizedProps&&j===i.memoizedState||(o.effectTag|=256),o.memoizedProps=v,o.memoizedState=ee),P.props=v,P.state=ee,P.context=B,v=Q):("function"!==typeof P.componentDidUpdate||D===i.memoizedProps&&j===i.memoizedState||(o.effectTag|=4),"function"!==typeof P.getSnapshotBeforeUpdate||D===i.memoizedProps&&j===i.memoizedState||(o.effectTag|=256),v=!1);return li(i,o,a,v,E,w)}function li(i,o,a,v,w,E){ji(i,o);var P=0!==(64&o.effectTag);if(!v&&!P)return w&&Ff(o,a,!1),ei(i,o,E);if(v=o.stateNode,zi.current=o,P&&"function"!==typeof a.getDerivedStateFromError){var D=null;Ci=-1}else D=v.render();return o.effectTag|=1,null!==i&&P?(P=D,o.child=Nr(o,i.child,null,E),o.child=Nr(o,null,P,E)):ci(i,o,D,E),o.memoizedState=v.state,w&&Ff(o,a,!0),o.child}function mi(i){var o=i.stateNode;o.pendingContext?Cf(0,o.pendingContext,o.pendingContext!==o.context):o.context&&Cf(0,o.context,!1),bh(i,o.containerInfo)}var eo,to,no,ro={dehydrated:null,retryTime:0};function oi(i,o,a){var v,w=o.mode,E=o.pendingProps,P=Gr.current,D=!1;if((v=0!==(64&o.effectTag))||(v=0!==(2&P)&&(null===i||null!==i.memoizedState)),v?(D=!0,o.effectTag&=-65):null!==i&&null===i.memoizedState||void 0===E.fallback||!0===E.unstable_avoidThisFallback||(P|=1),I(Gr,1&P),null===i){if(void 0!==E.fallback&&Yh(o),D){if(D=E.fallback,(E=Ug(null,w,0,null)).return=o,0===(2&o.mode))for(i=null!==o.memoizedState?o.child.child:o.child,E.child=i;null!==i;)i.return=E,i=i.sibling;return(a=Ug(D,w,a,null)).return=o,E.sibling=a,o.memoizedState=ro,o.child=E,a}return w=E.children,o.memoizedState=null,o.child=Ur(o,null,w,a)}if(null!==i.memoizedState){if(w=(i=i.child).sibling,D){if(E=E.fallback,(a=Qg(i,i.pendingProps)).return=o,0===(2&o.mode)&&(D=null!==o.memoizedState?o.child.child:o.child)!==i.child)for(a.child=D;null!==D;)D.return=a,D=D.sibling;if(8&o.mode){for(D=0,i=a.child;null!==i;)D+=i.treeBaseDuration,i=i.sibling;a.treeBaseDuration=D}return(w=Qg(w,E)).return=o,a.sibling=w,a.childExpirationTime=0,o.memoizedState=ro,o.child=a,w}return a=Nr(o,i.child,E.children,a),o.memoizedState=null,o.child=a}if(i=i.child,D){if(D=E.fallback,(E=Ug(null,w,0,null)).return=o,E.child=i,null!==i&&(i.return=E),0===(2&o.mode))for(i=null!==o.memoizedState?o.child.child:o.child,E.child=i;null!==i;)i.return=E,i=i.sibling;if(8&o.mode){for(i=0,P=E.child;null!==P;)i+=P.treeBaseDuration,P=P.sibling;E.treeBaseDuration=i}return(a=Ug(D,w,a,null)).return=o,E.sibling=a,a.effectTag|=2,E.childExpirationTime=0,o.memoizedState=ro,o.child=E,a}return o.memoizedState=null,o.child=Nr(o,i,E.children,a)}function pi(i,o){i.expirationTime<o&&(i.expirationTime=o);var a=i.alternate;null!==a&&a.expirationTime<o&&(a.expirationTime=o),ng(i.return,o)}function qi(i,o,a,v,w,E){var P=i.memoizedState;null===P?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:v,tail:a,tailExpiration:0,tailMode:w,lastEffect:E}:(P.isBackwards=o,P.rendering=null,P.renderingStartTime=0,P.last=v,P.tail=a,P.tailExpiration=0,P.tailMode=w,P.lastEffect=E)}function ri(i,o,a){var v=o.pendingProps,w=v.revealOrder,E=v.tail;if(ci(i,o,v.children,a),0!==(2&(v=Gr.current)))v=1&v|2,o.effectTag|=64;else{if(null!==i&&0!==(64&i.effectTag))e:for(i=o.child;null!==i;){if(13===i.tag)null!==i.memoizedState&&pi(i,a);else if(19===i.tag)pi(i,a);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;null===i.sibling;){if(null===i.return||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}v&=1}if(I(Gr,v),0===(2&o.mode))o.memoizedState=null;else switch(w){case"forwards":for(a=o.child,w=null;null!==a;)null!==(i=a.alternate)&&null===fh(i)&&(w=a),a=a.sibling;null===(a=w)?(w=o.child,o.child=null):(w=a.sibling,a.sibling=null),qi(o,!1,w,a,E,o.lastEffect);break;case"backwards":for(a=null,w=o.child,o.child=null;null!==w;){if(null!==(i=w.alternate)&&null===fh(i)){o.child=w;break}i=w.sibling,w.sibling=a,a=w,w=i}qi(o,!0,a,null,E,o.lastEffect);break;case"together":qi(o,!1,null,null,void 0,o.lastEffect);break;default:o.memoizedState=null}return o.child}function ei(i,o,a){null!==i&&(o.dependencies=i.dependencies),Ci=-1;var v=o.expirationTime;if(0!==v&&zg(v),o.childExpirationTime<a)return null;if(null!==i&&o.child!==i.child)throw Error(u(153));if(null!==o.child){for(a=Qg(i=o.child,i.pendingProps),o.child=a,a.return=o;null!==i.sibling;)i=i.sibling,(a=a.sibling=Qg(i,i.pendingProps)).return=o;a.sibling=null}return o.child}function wi(i,o){switch(i.tailMode){case"hidden":o=i.tail;for(var a=null;null!==o;)null!==o.alternate&&(a=o),o=o.sibling;null===a?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var v=null;null!==a;)null!==a.alternate&&(v=a),a=a.sibling;null===v?o||null===i.tail?i.tail=null:i.tail.sibling=null:v.sibling=null}}function xi(i,o,a){var v=o.pendingProps;switch(o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return M(o.type)&&Bf(),null;case 3:return ch(),H(cr),H(lr),(a=o.stateNode).pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==i&&null!==i.child||!$h(o)||(o.effectTag|=4),null;case 5:eh(o),a=ah(Vr.current);var E=o.type;if(null!==i&&null!=o.stateNode)to(i,o,E,v,a),i.ref!==o.ref&&(o.effectTag|=128);else{if(!v){if(null===o.stateNode)throw Error(u(166));return null}if(i=ah(Wr.current),$h(o)){v=o.stateNode,E=o.type;var P=o.memoizedProps;switch(v[rn]=o,v[an]=P,E){case"iframe":case"object":case"embed":F("load",v);break;case"video":case"audio":for(i=0;i<St.length;i++)F(St[i],v);break;case"source":F("error",v);break;case"img":case"image":case"link":F("error",v),F("load",v);break;case"form":F("reset",v),F("submit",v);break;case"details":F("toggle",v);break;case"input":xb(v,P),F("invalid",v),pd(a,"onChange");break;case"select":v._wrapperState={wasMultiple:!!P.multiple},F("invalid",v),pd(a,"onChange");break;case"textarea":Ib(v,P),F("invalid",v),pd(a,"onChange")}for(var D in md(E,P),i=null,P)if(P.hasOwnProperty(D)){var j=P[D];"children"===D?"string"===typeof j?v.textContent!==j&&(i=["children",j]):"number"===typeof j&&v.textContent!==""+j&&(i=["children",""+j]):he.hasOwnProperty(D)&&null!=j&&pd(a,D)}switch(E){case"input":ub(v),Db(v,P,!0);break;case"textarea":ub(v),Kb(v);break;case"select":case"option":break;default:"function"===typeof P.onClick&&(v.onclick=qd)}a=i,o.updateQueue=a,null!==a&&(o.effectTag|=4)}else{switch(D=9===a.nodeType?a:a.ownerDocument,i===$t&&(i=Mb(E)),i===$t?"script"===E?((i=D.createElement("div")).innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):"string"===typeof v.is?i=D.createElement(E,{is:v.is}):(i=D.createElement(E),"select"===E&&(D=i,v.multiple?D.multiple=!0:v.size&&(D.size=v.size))):i=D.createElementNS(i,E),i[rn]=o,i[an]=v,eo(i,o),o.stateNode=i,D=nd(E,v),E){case"iframe":case"object":case"embed":F("load",i),j=v;break;case"video":case"audio":for(j=0;j<St.length;j++)F(St[j],i);j=v;break;case"source":F("error",i),j=v;break;case"img":case"image":case"link":F("error",i),F("load",i),j=v;break;case"form":F("reset",i),F("submit",i),j=v;break;case"details":F("toggle",i),j=v;break;case"input":xb(i,v),j=wb(i,v),F("invalid",i),pd(a,"onChange");break;case"option":j=Fb(i,v);break;case"select":i._wrapperState={wasMultiple:!!v.multiple},j=w({},v,{value:void 0}),F("invalid",i),pd(a,"onChange");break;case"textarea":Ib(i,v),j=Hb(i,v),F("invalid",i),pd(a,"onChange");break;default:j=v}md(E,j);var B=j;for(P in B)if(B.hasOwnProperty(P)){var Q=B[P];"style"===P?kd(i,Q):"dangerouslySetInnerHTML"===P?null!=(Q=Q?Q.__html:void 0)&&dt(i,Q):"children"===P?"string"===typeof Q?("textarea"!==E||""!==Q)&&Qb(i,Q):"number"===typeof Q&&Qb(i,""+Q):"suppressContentEditableWarning"!==P&&"suppressHydrationWarning"!==P&&"autoFocus"!==P&&(he.hasOwnProperty(P)?null!=Q&&pd(a,P):null!=Q&&Xa(i,P,Q,D))}switch(E){case"input":ub(i),Db(i,v,!1);break;case"textarea":ub(i),Kb(i);break;case"option":null!=v.value&&i.setAttribute("value",""+rb(v.value));break;case"select":i.multiple=!!v.multiple,null!=(a=v.value)?Gb(i,!!v.multiple,a,!1):null!=v.defaultValue&&Gb(i,!!v.multiple,v.defaultValue,!0);break;default:"function"===typeof j.onClick&&(i.onclick=qd)}Dd(E,v)&&(o.effectTag|=4)}null!==o.ref&&(o.effectTag|=128)}return null;case 6:if(i&&null!=o.stateNode)no(0,o,i.memoizedProps,v);else{if("string"!==typeof v&&null===o.stateNode)throw Error(u(166));a=ah(Vr.current),ah(Wr.current),$h(o)?(a=o.stateNode,v=o.memoizedProps,a[rn]=o,a.nodeValue!==v&&(o.effectTag|=4)):((a=(9===a.nodeType?a:a.ownerDocument).createTextNode(v))[rn]=o,o.stateNode=a)}return null;case 13:return H(Gr),v=o.memoizedState,0!==(64&o.effectTag)?(o.expirationTime=a,o):(a=null!==v,v=!1,null===i?void 0!==o.memoizedProps.fallback&&$h(o):(v=null!==(E=i.memoizedState),a||null===E||null!==(E=i.child.sibling)&&(null!==(P=o.firstEffect)?(o.firstEffect=E,E.nextEffect=P):(o.firstEffect=o.lastEffect=E,E.nextEffect=null),E.effectTag=8)),a&&!v&&0!==(2&o.mode)&&(null===i&&!0!==o.memoizedProps.unstable_avoidThisFallback||0!==(1&Gr.current)?bo===uo&&(bo=fo):(bo!==uo&&bo!==fo||(bo=ho),0!==Co&&null!==mo&&(Di(mo,yo),Ei(mo,Co)))),(a||v)&&(o.effectTag|=4),null);case 4:return ch(),null;case 10:return mg(o),null;case 17:return M(o.type)&&Bf(),null;case 19:if(H(Gr),null===(v=o.memoizedState))return null;if(E=0!==(64&o.effectTag),null===(P=v.rendering)){if(E)wi(v,!1);else if(bo!==uo||null!==i&&0!==(64&i.effectTag))for(P=o.child;null!==P;){if(null!==(i=fh(P))){for(o.effectTag|=64,wi(v,!1),null!==(E=i.updateQueue)&&(o.updateQueue=E,o.effectTag|=4),null===v.lastEffect&&(o.firstEffect=null),o.lastEffect=v.lastEffect,v=o.child;null!==v;)i=a,(E=v).effectTag&=2,E.nextEffect=null,E.firstEffect=null,E.lastEffect=null,null===(P=E.alternate)?(E.childExpirationTime=0,E.expirationTime=i,E.child=null,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.selfBaseDuration=0,E.treeBaseDuration=0):(E.childExpirationTime=P.childExpirationTime,E.expirationTime=P.expirationTime,E.child=P.child,E.memoizedProps=P.memoizedProps,E.memoizedState=P.memoizedState,E.updateQueue=P.updateQueue,i=P.dependencies,E.dependencies=null===i?null:{expirationTime:i.expirationTime,firstContext:i.firstContext,responders:i.responders},E.selfBaseDuration=P.selfBaseDuration,E.treeBaseDuration=P.treeBaseDuration),v=v.sibling;return I(Gr,1&Gr.current|2),o.child}P=P.sibling}}else{if(!E)if(null!==(i=fh(P))){if(o.effectTag|=64,E=!0,null!==(a=i.updateQueue)&&(o.updateQueue=a,o.effectTag|=4),wi(v,!0),null===v.tail&&"hidden"===v.tailMode&&!P.alternate)return null!==(o=o.lastEffect=v.lastEffect)&&(o.nextEffect=null),null}else 2*Pr()-v.renderingStartTime>v.tailExpiration&&1<a&&(o.effectTag|=64,E=!0,wi(v,!1),--a,o.expirationTime=o.childExpirationTime=a,Fi(a));v.isBackwards?(P.sibling=o.child,o.child=P):(null!==(a=v.last)?a.sibling=P:o.child=P,v.last=P)}return null!==v.tail?(0===v.tailExpiration&&(v.tailExpiration=Pr()+500),a=v.tail,v.rendering=a,v.tail=a.sibling,v.lastEffect=o.lastEffect,v.renderingStartTime=Pr(),a.sibling=null,o=Gr.current,I(Gr,E?1&o|2:1&o),a):null}throw Error(u(156,o.tag))}function Gi(i){switch(i.tag){case 1:M(i.type)&&Bf();var o=i.effectTag;return 4096&o?(i.effectTag=-4097&o|64,i):null;case 3:if(ch(),H(cr),H(lr),0!==(64&(o=i.effectTag)))throw Error(u(285));return i.effectTag=-4097&o|64,i;case 5:return eh(i),null;case 13:return H(Gr),4096&(o=i.effectTag)?(i.effectTag=-4097&o|64,i):null;case 19:return H(Gr),null;case 4:return ch(),null;case 10:return mg(i),null;default:return null}}function Hi(i,o){return{value:i,source:o,stack:qb(o)}}eo=function si(i,o){for(var a=o.child;null!==a;){if(5===a.tag||6===a.tag)i.appendChild(a.stateNode);else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===o)break;for(;null===a.sibling;){if(null===a.return||a.return===o)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},to=function ui(i,o,a,v,E){var P=i.memoizedProps;if(P!==v){var D,j,B=o.stateNode;switch(ah(Wr.current),i=null,a){case"input":P=wb(B,P),v=wb(B,v),i=[];break;case"option":P=Fb(B,P),v=Fb(B,v),i=[];break;case"select":P=w({},P,{value:void 0}),v=w({},v,{value:void 0}),i=[];break;case"textarea":P=Hb(B,P),v=Hb(B,v),i=[];break;default:"function"!==typeof P.onClick&&"function"===typeof v.onClick&&(B.onclick=qd)}for(D in md(a,v),a=null,P)if(!v.hasOwnProperty(D)&&P.hasOwnProperty(D)&&null!=P[D])if("style"===D)for(j in B=P[D])B.hasOwnProperty(j)&&(a||(a={}),a[j]="");else"dangerouslySetInnerHTML"!==D&&"children"!==D&&"suppressContentEditableWarning"!==D&&"suppressHydrationWarning"!==D&&"autoFocus"!==D&&(he.hasOwnProperty(D)?i||(i=[]):(i=i||[]).push(D,null));for(D in v){var Q=v[D];if(B=null!=P?P[D]:void 0,v.hasOwnProperty(D)&&Q!==B&&(null!=Q||null!=B))if("style"===D)if(B){for(j in B)!B.hasOwnProperty(j)||Q&&Q.hasOwnProperty(j)||(a||(a={}),a[j]="");for(j in Q)Q.hasOwnProperty(j)&&B[j]!==Q[j]&&(a||(a={}),a[j]=Q[j])}else a||(i||(i=[]),i.push(D,a)),a=Q;else"dangerouslySetInnerHTML"===D?(Q=Q?Q.__html:void 0,B=B?B.__html:void 0,null!=Q&&B!==Q&&(i=i||[]).push(D,Q)):"children"===D?B===Q||"string"!==typeof Q&&"number"!==typeof Q||(i=i||[]).push(D,""+Q):"suppressContentEditableWarning"!==D&&"suppressHydrationWarning"!==D&&(he.hasOwnProperty(D)?(null!=Q&&pd(E,D),i||B===Q||(i=[])):(i=i||[]).push(D,Q))}a&&(i=i||[]).push("style",a),E=i,(o.updateQueue=E)&&(o.effectTag|=4)}},no=function vi(i,o,a,v){a!==v&&(o.effectTag|=4)};var io="function"===typeof WeakSet?WeakSet:Set;function Ji(i,o){var a=o.source,v=o.stack;null===v&&null!==a&&(v=qb(a)),null!==a&&pb(a.type),o=o.value,null!==i&&1===i.tag&&pb(i.type);try{console.error(o)}catch(w){setTimeout((function(){throw w}))}}function Mi(i){var o=i.ref;if(null!==o)if("function"===typeof o)try{o(null)}catch(a){Li(i,a)}else o.current=null}function Ni(i,o){switch(o.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&o.effectTag&&null!==i){var a=i.memoizedProps,v=i.memoizedState;o=(i=o.stateNode).getSnapshotBeforeUpdate(o.elementType===o.type?a:gg(o.type,a),v),i.__reactInternalSnapshotBeforeUpdate=o}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(u(163))}function Oi(i,o){if(null!==(o=null!==(o=o.updateQueue)?o.lastEffect:null)){var a=o=o.next;do{if((a.tag&i)===i){var v=a.destroy;a.destroy=void 0,void 0!==v&&v()}a=a.next}while(a!==o)}}function Pi(i,o){if(null!==(o=null!==(o=o.updateQueue)?o.lastEffect:null)){var a=o=o.next;do{if((a.tag&i)===i){var v=a.create;a.destroy=v()}a=a.next}while(a!==o)}}function Qi(i,o,a){switch(a.tag){case 0:case 11:case 15:case 22:return void Pi(3,a);case 1:if(i=a.stateNode,4&a.effectTag)if(null===o)i.componentDidMount();else{var v=a.elementType===a.type?o.memoizedProps:gg(a.type,o.memoizedProps);i.componentDidUpdate(v,o.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}return void(null!==(o=a.updateQueue)&&Ag(a,o,i));case 3:if(null!==(o=a.updateQueue)){if(i=null,null!==a.child)switch(a.child.tag){case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}Ag(a,o,i)}return;case 5:return i=a.stateNode,void(null===o&&4&a.effectTag&&Dd(a.type,a.memoizedProps)&&i.focus());case 6:case 4:return;case 12:return void("function"===typeof(v=a.memoizedProps.onRender)&&v(a.memoizedProps.id,null===o?"mount":"update",a.actualDuration,a.treeBaseDuration,a.actualStartTime,_i,i.memoizedInteractions));case 13:return void(null===a.memoizedState&&(a=a.alternate,null!==a&&(a=a.memoizedState,null!==a&&(a=a.dehydrated,null!==a&&Uc(a)))));case 19:case 17:case 20:case 21:return}throw Error(u(163))}function Ri(i,o,a){switch("function"===typeof Ho&&Ho(o),o.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(i=o.updateQueue)&&null!==(i=i.lastEffect)){var v=i.next;$f(97<a?97:a,(function(){var i=v;do{var a=i.destroy;if(void 0!==a){var w=o;try{a()}catch(E){Li(w,E)}}i=i.next}while(i!==v)}))}break;case 1:Mi(o),"function"===typeof(a=o.stateNode).componentWillUnmount&&function Ki(i,o){try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(a){Li(i,a)}}(o,a);break;case 5:Mi(o);break;case 4:Ti(i,o,a)}}function Ui(i){var o=i.alternate;i.return=null,i.child=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.alternate=null,i.firstEffect=null,i.lastEffect=null,i.pendingProps=null,i.memoizedProps=null,i.stateNode=null,null!==o&&Ui(o)}function Vi(i){return 5===i.tag||3===i.tag||4===i.tag}function Wi(i){e:{for(var o=i.return;null!==o;){if(Vi(o)){var a=o;break e}o=o.return}throw Error(u(160))}switch(o=a.stateNode,a.tag){case 5:var v=!1;break;case 3:case 4:o=o.containerInfo,v=!0;break;default:throw Error(u(161))}16&a.effectTag&&(Qb(o,""),a.effectTag&=-17);e:t:for(a=i;;){for(;null===a.sibling;){if(null===a.return||Vi(a.return)){a=null;break e}a=a.return}for(a.sibling.return=a.return,a=a.sibling;5!==a.tag&&6!==a.tag&&18!==a.tag;){if(2&a.effectTag)continue t;if(null===a.child||4===a.tag)continue t;a.child.return=a,a=a.child}if(!(2&a.effectTag)){a=a.stateNode;break e}}v?function Xi(i,o,a){var v=i.tag,w=5===v||6===v;if(w)i=w?i.stateNode:i.stateNode.instance,o?8===a.nodeType?a.parentNode.insertBefore(i,o):a.insertBefore(i,o):(8===a.nodeType?(o=a.parentNode).insertBefore(i,a):(o=a).appendChild(i),null!==(a=a._reactRootContainer)&&void 0!==a||null!==o.onclick||(o.onclick=qd));else if(4!==v&&null!==(i=i.child))for(Xi(i,o,a),i=i.sibling;null!==i;)Xi(i,o,a),i=i.sibling}(i,a,o):function Yi(i,o,a){var v=i.tag,w=5===v||6===v;if(w)i=w?i.stateNode:i.stateNode.instance,o?a.insertBefore(i,o):a.appendChild(i);else if(4!==v&&null!==(i=i.child))for(Yi(i,o,a),i=i.sibling;null!==i;)Yi(i,o,a),i=i.sibling}(i,a,o)}function Ti(i,o,a){for(var v,w,E=o,P=!1;;){if(!P){P=E.return;e:for(;;){if(null===P)throw Error(u(160));switch(v=P.stateNode,P.tag){case 5:w=!1;break e;case 3:case 4:v=v.containerInfo,w=!0;break e}P=P.return}P=!0}if(5===E.tag||6===E.tag){e:for(var D=i,j=E,B=a,Q=j;;)if(Ri(D,Q,B),null!==Q.child&&4!==Q.tag)Q.child.return=Q,Q=Q.child;else{if(Q===j)break e;for(;null===Q.sibling;){if(null===Q.return||Q.return===j)break e;Q=Q.return}Q.sibling.return=Q.return,Q=Q.sibling}w?(D=v,j=E.stateNode,8===D.nodeType?D.parentNode.removeChild(j):D.removeChild(j)):v.removeChild(E.stateNode)}else if(4===E.tag){if(null!==E.child){v=E.stateNode.containerInfo,w=!0,E.child.return=E,E=E.child;continue}}else if(Ri(i,E,a),null!==E.child){E.child.return=E,E=E.child;continue}if(E===o)break;for(;null===E.sibling;){if(null===E.return||E.return===o)return;4===(E=E.return).tag&&(P=!1)}E.sibling.return=E.return,E=E.sibling}}function Zi(i,o){switch(o.tag){case 0:case 11:case 14:case 15:case 22:return void Oi(3,o);case 1:return;case 5:var a=o.stateNode;if(null!=a){var v=o.memoizedProps,w=null!==i?i.memoizedProps:v;i=o.type;var E=o.updateQueue;if(o.updateQueue=null,null!==E){for(a[an]=v,"input"===i&&"radio"===v.type&&null!=v.name&&yb(a,v),nd(i,w),o=nd(i,v),w=0;w<E.length;w+=2){var P=E[w],D=E[w+1];"style"===P?kd(a,D):"dangerouslySetInnerHTML"===P?dt(a,D):"children"===P?Qb(a,D):Xa(a,P,D,o)}switch(i){case"input":zb(a,v);break;case"textarea":Jb(a,v);break;case"select":o=a._wrapperState.wasMultiple,a._wrapperState.wasMultiple=!!v.multiple,null!=(i=v.value)?Gb(a,!!v.multiple,i,!1):o!==!!v.multiple&&(null!=v.defaultValue?Gb(a,!!v.multiple,v.defaultValue,!0):Gb(a,!!v.multiple,v.multiple?[]:"",!1))}}}return;case 6:if(null===o.stateNode)throw Error(u(162));return void(o.stateNode.nodeValue=o.memoizedProps);case 3:return void((o=o.stateNode).hydrate&&(o.hydrate=!1,Uc(o.containerInfo)));case 12:return;case 13:if(a=o,null===o.memoizedState?v=!1:(v=!0,a=o.child,Oo=Pr()),null!==a)e:for(i=a;;){if(5===i.tag)E=i.stateNode,v?"function"===typeof(E=E.style).setProperty?E.setProperty("display","none","important"):E.display="none":(E=i.stateNode,w=void 0!==(w=i.memoizedProps.style)&&null!==w&&w.hasOwnProperty("display")?w.display:null,E.style.display=jd("display",w));else if(6===i.tag)i.stateNode.nodeValue=v?"":i.memoizedProps;else{if(13===i.tag&&null!==i.memoizedState&&null===i.memoizedState.dehydrated){(E=i.child.sibling).return=i,i=E;continue}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===a)break;for(;null===i.sibling;){if(null===i.return||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}return void aj(o);case 19:return void aj(o);case 17:return}throw Error(u(163))}function aj(i){var o=i.updateQueue;if(null!==o){i.updateQueue=null;var a=i.stateNode;null===a&&(a=i.stateNode=new io),o.forEach((function(o){var v=bj.bind(null,i,o);a.has(o)||(!0!==o.__reactDoNotTraceInteractions&&(v=P.unstable_wrap(v)),a.add(o),o.then(v,v))}))}}var oo="function"===typeof WeakMap?WeakMap:Map;function dj(i,o,a){(a=ug(a,null)).tag=3,a.payload={element:null};var v=o.value;return a.callback=function(){ko||(ko=!0,Po=v),Ji(i,o)},a}function gj(i,o,a){(a=ug(a,null)).tag=3;var v=i.type.getDerivedStateFromError;if("function"===typeof v){var w=o.value;a.payload=function(){return Ji(i,o),v(w)}}var E=i.stateNode;return null!==E&&"function"===typeof E.componentDidCatch&&(a.callback=function(){"function"!==typeof v&&(null===Ao?Ao=new Set([this]):Ao.add(this),Ji(i,o));var a=o.stack;this.componentDidCatch(o.value,{componentStack:null!==a?a:""})}),a}var ao,so=Math.ceil,lo=Ue.ReactCurrentDispatcher,co=Ue.ReactCurrentOwner,uo=0,fo=3,ho=4,po=0,mo=null,vo=null,yo=0,bo=uo,_o=null,wo=1073741823,So=1073741823,xo=null,Co=0,To=!1,Oo=0,Eo=null,ko=!1,Po=null,Ao=null,Do=!1,Mo=null,jo=90,Io=0,Ro=null,Lo=0,Fo=null,Bo=null,No=0;function Eg(){return 0!==(48&po)?1073741821-(Pr()/10|0):0!==No?No:No=1073741821-(Pr()/10|0)}function Fg(i,o,a){if(0===(2&(o=o.mode)))return 1073741823;var v=Yf();if(0===(4&o))return 99===v?1073741823:1073741822;if(0!==(16&po))return yo;if(null!==a)i=eg(i,0|a.timeoutMs||5e3,250);else switch(v){case 99:i=1073741823;break;case 98:i=eg(i,150,100);break;case 97:case 96:i=eg(i,5e3,250);break;case 95:i=2;break;default:throw Error(u(326))}return null!==mo&&i===yo&&--i,i}function Gg(i,o){if(50<Lo)throw Lo=0,Fo=null,Error(u(185));if(null!==(i=Gj(i,o))){var a=Yf();1073741823===o?0!==(8&po)&&0===(48&po)?(Hj(i,o),Ij(i)):(Jj(i),Hj(i,o),0===po&&dg()):(Jj(i),Hj(i,o)),0===(4&po)||98!==a&&99!==a||(null===Ro?Ro=new Map([[i,o]]):(void 0===(a=Ro.get(i))||a>o)&&Ro.set(i,o))}}function Gj(i,o){i.expirationTime<o&&(i.expirationTime=o);var a=i.alternate;null!==a&&a.expirationTime<o&&(a.expirationTime=o);var v=i.return,w=null;if(null===v&&3===i.tag)w=i.stateNode;else for(;null!==v;){if(a=v.alternate,v.childExpirationTime<o&&(v.childExpirationTime=o),null!==a&&a.childExpirationTime<o&&(a.childExpirationTime=o),null===v.return&&3===v.tag){w=v.stateNode;break}v=v.return}return null!==w&&(mo===w&&(zg(o),bo===ho&&Di(w,yo)),Ei(w,o)),w}function Kj(i){var o=i.lastExpiredTime;if(0!==o)return o;if(!Lj(i,o=i.firstPendingTime))return o;var a=i.lastPingedTime;return 2>=(i=a>(i=i.nextKnownPendingLevel)?a:i)&&o!==i?0:i}function Jj(i){if(0!==i.lastExpiredTime)i.callbackExpirationTime=1073741823,i.callbackPriority=99,i.callbackNode=bg(Ij.bind(null,i));else{var o=Kj(i),a=i.callbackNode;if(0===o)null!==a&&(i.callbackNode=null,i.callbackExpirationTime=0,i.callbackPriority=90);else{var v=Eg();if(v=fg(v,o),null!==a){var w=i.callbackPriority;if(i.callbackExpirationTime===o&&w>=v)return;a!==xr&&dr(a)}i.callbackExpirationTime=o,i.callbackPriority=v,o=1073741823===o?bg(Ij.bind(null,i)):ag(v,Mj.bind(null,i),{timeout:10*(1073741821-o)-Pr()}),i.callbackNode=o}}}function Mj(i,o){if(No=0,o)return Nj(i,o=Eg()),Jj(i),null;var a=Kj(i);if(0!==a){if(o=i.callbackNode,0!==(48&po))throw Error(u(327));if(Oj(),i===mo&&a===yo||(Pj(i,a),Qj(i,a)),null!==vo){var v=po;po|=16;for(var w=Rj(),E=Sj(i);;)try{Tj();break}catch(j){Uj(i,j)}if(lg(),po=v,lo.current=w,P.__interactionsRef.current=E,1===bo)throw o=_o,Pj(i,a),Di(i,a),Jj(i),o;if(null===vo)switch(w=i.finishedWork=i.current.alternate,i.finishedExpirationTime=a,v=bo,mo=null,v){case uo:case 1:throw Error(u(345));case 2:Nj(i,2<a?2:a);break;case fo:if(Di(i,a),a===(v=i.lastSuspendedTime)&&(i.nextKnownPendingLevel=Vj(w)),1073741823===wo&&10<(w=Oo+500-Pr())){if(To&&(0===(E=i.lastPingedTime)||E>=a)){i.lastPingedTime=a,Pj(i,a);break}if(0!==(E=Kj(i))&&E!==a)break;if(0!==v&&v!==a){i.lastPingedTime=v;break}i.timeoutHandle=en(Wj.bind(null,i),w);break}Wj(i);break;case ho:if(Di(i,a),a===(v=i.lastSuspendedTime)&&(i.nextKnownPendingLevel=Vj(w)),To&&(0===(w=i.lastPingedTime)||w>=a)){i.lastPingedTime=a,Pj(i,a);break}if(0!==(w=Kj(i))&&w!==a)break;if(0!==v&&v!==a){i.lastPingedTime=v;break}if(1073741823!==So?v=10*(1073741821-So)-Pr():1073741823===wo?v=0:(v=10*(1073741821-wo)-5e3,0>(v=(w=Pr())-v)&&(v=0),(a=10*(1073741821-a)-w)<(v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*so(v/1960))-v)&&(v=a)),10<v){i.timeoutHandle=en(Wj.bind(null,i),v);break}Wj(i);break;case 5:if(1073741823!==wo&&null!==xo){E=wo;var D=xo;if(0>=(v=0|D.busyMinDurationMs)?v=0:(w=0|D.busyDelayMs,v=(E=Pr()-(10*(1073741821-E)-(0|D.timeoutMs||5e3)))<=w?0:w+v-E),10<v){Di(i,a),i.timeoutHandle=en(Wj.bind(null,i),v);break}}Wj(i);break;default:throw Error(u(329))}if(Jj(i),i.callbackNode===o)return Mj.bind(null,i)}}return null}function Ij(i){var o=i.lastExpiredTime;if(o=0!==o?o:1073741823,0!==(48&po))throw Error(u(327));if(Oj(),i===mo&&o===yo||(Pj(i,o),Qj(i,o)),null!==vo){var a=po;po|=16;for(var v=Rj(),w=Sj(i);;)try{Xj();break}catch(E){Uj(i,E)}if(lg(),po=a,lo.current=v,P.__interactionsRef.current=w,1===bo)throw a=_o,Pj(i,o),Di(i,o),Jj(i),a;if(null!==vo)throw Error(u(261));i.finishedWork=i.current.alternate,i.finishedExpirationTime=o,mo=null,Wj(i),Jj(i)}return null}function Zj(i,o){var a=po;po|=1;try{return i(o)}finally{0===(po=a)&&dg()}}function ak(i,o){var a=po;po&=-2,po|=8;try{return i(o)}finally{0===(po=a)&&dg()}}function Pj(i,o){i.finishedWork=null,i.finishedExpirationTime=0;var a=i.timeoutHandle;if(-1!==a&&(i.timeoutHandle=-1,tn(a)),null!==vo)for(a=vo.return;null!==a;){var v=a;switch(v.tag){case 1:null!==(v=v.type.childContextTypes)&&void 0!==v&&Bf();break;case 3:ch(),H(cr),H(lr);break;case 5:eh(v);break;case 4:ch();break;case 13:case 19:H(Gr);break;case 10:mg(v)}a=a.return}mo=i,vo=Qg(i.current,null),yo=o,bo=uo,_o=null,So=wo=1073741823,xo=null,Co=0,To=!1,Bo=null}function Uj(i,o){for(;;){try{if(lg(),Yr.current=Zr,Jr)for(var a=Kr.memoizedState;null!==a;){var v=a.queue;null!==v&&(v.pending=null),a=a.next}if(qr=0,$r=Qr=Kr=null,Jr=!1,null===vo||null===vo.return)return bo=1,_o=o,vo=null;8&vo.mode&&Rh(vo,!0);e:{var w=i,E=vo.return,P=vo,D=o;if(o=yo,P.effectTag|=2048,P.firstEffect=P.lastEffect=null,null!==D&&"object"===typeof D&&"function"===typeof D.then){var j=D;if(0===(2&P.mode)){var B=P.alternate;B?(P.updateQueue=B.updateQueue,P.memoizedState=B.memoizedState,P.expirationTime=B.expirationTime):(P.updateQueue=null,P.memoizedState=null)}var Q=0!==(1&Gr.current),$=E;do{var ee;if(ee=13===$.tag){var te=$.memoizedState;if(null!==te)ee=null!==te.dehydrated;else{var ne=$.memoizedProps;ee=void 0!==ne.fallback&&(!0!==ne.unstable_avoidThisFallback||!Q)}}if(ee){var ie=$.updateQueue;if(null===ie){var le=new Set;le.add(j),$.updateQueue=le}else ie.add(j);if(0===(2&$.mode)){if($.effectTag|=64,P.effectTag&=-2981,1===P.tag)if(null===P.alternate)P.tag=17;else{var ue=ug(1073741823,null);ue.tag=2,vg(P,ue)}P.expirationTime=1073741823;break e}D=void 0,P=o;var fe=w.pingCache;if(null===fe?(fe=w.pingCache=new oo,D=new Set,fe.set(j,D)):void 0===(D=fe.get(j))&&(D=new Set,fe.set(j,D)),!D.has(P)){D.add(P);var he=bk.bind(null,w,j,P);j.then(he,he)}$.effectTag|=4096,$.expirationTime=o;break e}$=$.return}while(null!==$);D=Error((pb(P.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+qb(P))}5!==bo&&(bo=2),D=Hi(D,P),$=E;do{switch($.tag){case 3:j=D,$.effectTag|=4096,$.expirationTime=o,wg($,dj($,j,o));break e;case 1:j=D;var ge=$.type,me=$.stateNode;if(0===(64&$.effectTag)&&("function"===typeof ge.getDerivedStateFromError||null!==me&&"function"===typeof me.componentDidCatch&&(null===Ao||!Ao.has(me)))){$.effectTag|=4096,$.expirationTime=o,wg($,gj($,j,o));break e}}$=$.return}while(null!==$)}vo=ck(vo)}catch(ye){o=ye;continue}break}}function Rj(){var i=lo.current;return lo.current=Zr,null===i?Zr:i}function Sj(i){var o=P.__interactionsRef.current;return P.__interactionsRef.current=i.memoizedInteractions,o}function yg(i,o){i<wo&&2<i&&(wo=i),null!==o&&i<So&&2<i&&(So=i,xo=o)}function zg(i){i>Co&&(Co=i)}function Xj(){for(;null!==vo;)vo=dk(vo)}function Tj(){for(;null!==vo&&!pr();)vo=dk(vo)}function dk(i){var o=i.alternate;return 0!==(8&i.mode)?(Ci=bi(),0>i.actualStartTime&&(i.actualStartTime=bi()),o=ao(o,i,yo),Rh(i,!0)):o=ao(o,i,yo),i.memoizedProps=i.pendingProps,null===o&&(o=ck(i)),co.current=null,o}function ck(i){vo=i;do{var o=vo.alternate;if(i=vo.return,0===(2048&vo.effectTag)){if(0===(8&vo.mode))o=xi(o,vo,yo);else{var a=vo;Ci=bi(),0>a.actualStartTime&&(a.actualStartTime=bi()),o=xi(o,vo,yo),Rh(vo,!1)}if(a=vo,1===yo||1!==a.childExpirationTime){var v=0;if(0!==(8&a.mode)){for(var w=a.actualDuration,E=a.selfBaseDuration,P=null===a.alternate||a.child!==a.alternate.child,D=a.child;null!==D;){var j=D.expirationTime,B=D.childExpirationTime;j>v&&(v=j),B>v&&(v=B),P&&(w+=D.actualDuration),E+=D.treeBaseDuration,D=D.sibling}a.actualDuration=w,a.treeBaseDuration=E}else for(w=a.child;null!==w;)(E=w.expirationTime)>v&&(v=E),(P=w.childExpirationTime)>v&&(v=P),w=w.sibling;a.childExpirationTime=v}if(null!==o)return o;null!==i&&0===(2048&i.effectTag)&&(null===i.firstEffect&&(i.firstEffect=vo.firstEffect),null!==vo.lastEffect&&(null!==i.lastEffect&&(i.lastEffect.nextEffect=vo.firstEffect),i.lastEffect=vo.lastEffect),1<vo.effectTag&&(null!==i.lastEffect?i.lastEffect.nextEffect=vo:i.firstEffect=vo,i.lastEffect=vo))}else{if(o=Gi(vo),0!==(8&vo.mode)){for(Rh(vo,!1),a=vo.actualDuration,v=vo.child;null!==v;)a+=v.actualDuration,v=v.sibling;vo.actualDuration=a}if(null!==o)return o.effectTag&=2047,o;null!==i&&(i.firstEffect=i.lastEffect=null,i.effectTag|=2048)}if(null!==(o=vo.sibling))return o;vo=i}while(null!==vo);return bo===uo&&(bo=5),null}function Vj(i){var o=i.expirationTime;return o>(i=i.childExpirationTime)?o:i}function Wj(i){var o=Yf();return $f(99,fk.bind(null,i,o)),null}function fk(i,o){do{Oj()}while(null!==Mo);if(0!==(48&po))throw Error(u(327));var a=i.finishedWork,v=i.finishedExpirationTime;if(null===a)return null;if(i.finishedWork=null,i.finishedExpirationTime=0,a===i.current)throw Error(u(177));i.callbackNode=null,i.callbackExpirationTime=0,i.callbackPriority=90,i.nextKnownPendingLevel=0;var w=Vj(a);if(i.firstPendingTime=w,v<=i.lastSuspendedTime?i.firstSuspendedTime=i.lastSuspendedTime=i.nextKnownPendingLevel=0:v<=i.firstSuspendedTime&&(i.firstSuspendedTime=v-1),v<=i.lastPingedTime&&(i.lastPingedTime=0),v<=i.lastExpiredTime&&(i.lastExpiredTime=0),i===mo&&(vo=mo=null,yo=0),1<a.effectTag?null!==a.lastEffect?(a.lastEffect.nextEffect=a,w=a.firstEffect):w=a:w=a.firstEffect,null!==w){var E=po;po|=32;var D=Sj(i);co.current=null,Jt=Xt;var j=vd();if(wd(j)){if("selectionStart"in j)var B={start:j.selectionStart,end:j.selectionEnd};else e:{var Q=(B=(B=j.ownerDocument)&&B.defaultView||window).getSelection&&B.getSelection();if(Q&&0!==Q.rangeCount){B=Q.anchorNode;var $=Q.anchorOffset,ee=Q.focusNode;Q=Q.focusOffset;try{B.nodeType,ee.nodeType}catch(ke){B=null;break e}var te=0,ne=-1,ie=-1,le=0,ue=0,fe=j,he=null;t:for(;;){for(var ge;fe!==B||0!==$&&3!==fe.nodeType||(ne=te+$),fe!==ee||0!==Q&&3!==fe.nodeType||(ie=te+Q),3===fe.nodeType&&(te+=fe.nodeValue.length),null!==(ge=fe.firstChild);)he=fe,fe=ge;for(;;){if(fe===j)break t;if(he===B&&++le===$&&(ne=te),he===ee&&++ue===Q&&(ie=te),null!==(ge=fe.nextSibling))break;he=(fe=he).parentNode}fe=ge}B=-1===ne||-1===ie?null:{start:ne,end:ie}}else B=null}B=B||{start:0,end:0}}else B=null;Zt={activeElementDetached:null,focusedElem:j,selectionRange:B},Xt=!1,Eo=w;do{try{gk()}catch(ke){if(null===Eo)throw Error(u(330));Li(Eo,ke),Eo=Eo.nextEffect}}while(null!==Eo);_i=bi(),Eo=w;do{try{for(j=i,B=o;null!==Eo;){var me=Eo.effectTag;if(16&me&&Qb(Eo.stateNode,""),128&me){var ye=Eo.alternate;if(null!==ye){var _e=ye.ref;null!==_e&&("function"===typeof _e?_e(null):_e.current=null)}}switch(1038&me){case 2:Wi(Eo),Eo.effectTag&=-3;break;case 6:Wi(Eo),Eo.effectTag&=-3,Zi(Eo.alternate,Eo);break;case 1024:Eo.effectTag&=-1025;break;case 1028:Eo.effectTag&=-1025,Zi(Eo.alternate,Eo);break;case 4:Zi(Eo.alternate,Eo);break;case 8:Ti(j,$=Eo,B),Ui($)}Eo=Eo.nextEffect}}catch(ke){if(null===Eo)throw Error(u(330));Li(Eo,ke),Eo=Eo.nextEffect}}while(null!==Eo);if(_e=Zt,ye=vd(),me=_e.focusedElem,B=_e.selectionRange,ye!==me&&me&&me.ownerDocument&&function ud(i,o){return!(!i||!o)&&(i===o||(!i||3!==i.nodeType)&&(o&&3===o.nodeType?ud(i,o.parentNode):"contains"in i?i.contains(o):!!i.compareDocumentPosition&&!!(16&i.compareDocumentPosition(o))))}(me.ownerDocument.documentElement,me)){null!==B&&wd(me)&&(ye=B.start,void 0===(_e=B.end)&&(_e=ye),"selectionStart"in me?(me.selectionStart=ye,me.selectionEnd=Math.min(_e,me.value.length)):(_e=(ye=me.ownerDocument||document)&&ye.defaultView||window).getSelection&&(_e=_e.getSelection(),$=me.textContent.length,j=Math.min(B.start,$),B=void 0===B.end?j:Math.min(B.end,$),!_e.extend&&j>B&&($=B,B=j,j=$),$=td(me,j),ee=td(me,B),$&&ee&&(1!==_e.rangeCount||_e.anchorNode!==$.node||_e.anchorOffset!==$.offset||_e.focusNode!==ee.node||_e.focusOffset!==ee.offset)&&((ye=ye.createRange()).setStart($.node,$.offset),_e.removeAllRanges(),j>B?(_e.addRange(ye),_e.extend(ee.node,ee.offset)):(ye.setEnd(ee.node,ee.offset),_e.addRange(ye))))),ye=[];for(_e=me;_e=_e.parentNode;)1===_e.nodeType&&ye.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for("function"===typeof me.focus&&me.focus(),me=0;me<ye.length;me++)(_e=ye[me]).element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}Xt=!!Jt,Zt=Jt=null,i.current=a,Eo=w;do{try{for(me=i;null!==Eo;){var we=Eo.effectTag;if(36&we&&Qi(me,Eo.alternate,Eo),128&we){ye=void 0;var Se=Eo.ref;if(null!==Se){var Te=Eo.stateNode;switch(Eo.tag){case 5:ye=Te;break;default:ye=Te}"function"===typeof Se?Se(ye):Se.current=ye}}Eo=Eo.nextEffect}}catch(ke){if(null===Eo)throw Error(u(330));Li(Eo,ke),Eo=Eo.nextEffect}}while(null!==Eo);Eo=null,Cr(),P.__interactionsRef.current=D,po=E}else i.current=a,_i=bi();if(we=Do)Do=!1,Mo=i,Io=v,jo=o;else for(Eo=w;null!==Eo;)o=Eo.nextEffect,Eo.nextEffect=null,Eo=o;if(0!==(o=i.firstPendingTime)){if(null!==Bo)for(w=Bo,Bo=null,Se=0;Se<w.length;Se++)hk(i,w[Se],i.memoizedInteractions);Hj(i,o)}else Ao=null;if(we||ik(i,v),1073741823===o?i===Fo?Lo++:(Lo=0,Fo=i):Lo=0,"function"===typeof Uo&&Uo(a.stateNode,v),Jj(i),ko)throw ko=!1,i=Po,Po=null,i;return 0!==(8&po)||dg(),null}function gk(){for(;null!==Eo;){var i=Eo.effectTag;0!==(256&i)&&Ni(Eo.alternate,Eo),0===(512&i)||Do||(Do=!0,ag(97,(function(){return Oj(),null}))),Eo=Eo.nextEffect}}function Oj(){if(90!==jo){var i=97<jo?97:jo;return jo=90,$f(i,kk)}}function kk(){if(null===Mo)return!1;var i=Mo,o=Io;if(Mo=null,Io=0,0!==(48&po))throw Error(u(331));var a=po;po|=32;for(var v=Sj(i),w=i.current.firstEffect;null!==w;){try{var E=w;if(0!==(512&E.effectTag))switch(E.tag){case 0:case 11:case 15:case 22:Oi(5,E),Pi(5,E)}}catch(D){if(null===w)throw Error(u(330));Li(w,D)}E=w.nextEffect,w.nextEffect=null,w=E}return P.__interactionsRef.current=v,ik(i,o),po=a,dg(),!0}function lk(i,o,a){vg(i,o=dj(i,o=Hi(a,o),1073741823)),null!==(i=Gj(i,1073741823))&&(Jj(i),Hj(i,1073741823))}function Li(i,o){if(3===i.tag)lk(i,i,o);else for(var a=i.return;null!==a;){if(3===a.tag){lk(a,i,o);break}if(1===a.tag){var v=a.stateNode;if("function"===typeof a.type.getDerivedStateFromError||"function"===typeof v.componentDidCatch&&(null===Ao||!Ao.has(v))){vg(a,i=gj(a,i=Hi(o,i),1073741823)),null!==(a=Gj(a,1073741823))&&(Jj(a),Hj(a,1073741823));break}}a=a.return}}function bk(i,o,a){var v=i.pingCache;null!==v&&v.delete(o),mo===i&&yo===a?bo===ho||bo===fo&&1073741823===wo&&Pr()-Oo<500?Pj(i,yo):To=!0:Lj(i,a)&&(0!==(o=i.lastPingedTime)&&o<a||(i.lastPingedTime=a,Jj(i),Hj(i,a)))}function bj(i,o){var a=i.stateNode;null!==a&&a.delete(o),0===(o=0)&&(o=Fg(o=Eg(),i,null)),null!==(i=Gj(i,o))&&(Jj(i),Hj(i,o))}function Fi(i){null===Bo?Bo=[i]:Bo.push(i)}function hk(i,o,a){if(0<a.size){var v=i.pendingInteractionMap,w=v.get(o);null!=w?a.forEach((function(i){w.has(i)||i.__count++,w.add(i)})):(v.set(o,new Set(a)),a.forEach((function(i){i.__count++}))),null!==(v=P.__subscriberRef.current)&&v.onWorkScheduled(a,1e3*o+i.interactionThreadID)}}function Hj(i,o){hk(i,o,P.__interactionsRef.current)}function Qj(i,o){var a=new Set;if(i.pendingInteractionMap.forEach((function(i,v){v>=o&&i.forEach((function(i){return a.add(i)}))})),i.memoizedInteractions=a,0<a.size){var v=P.__subscriberRef.current;if(null!==v){i=1e3*o+i.interactionThreadID;try{v.onWorkStarted(a,i)}catch(w){ag(99,(function(){throw w}))}}}}function ik(i,o){var a=i.firstPendingTime;try{var v=P.__subscriberRef.current;null!==v&&0<i.memoizedInteractions.size&&v.onWorkStopped(i.memoizedInteractions,1e3*o+i.interactionThreadID)}catch(E){ag(99,(function(){throw E}))}finally{var w=i.pendingInteractionMap;w.forEach((function(i,o){o>a&&(w.delete(o),i.forEach((function(i){if(i.__count--,null!==v&&0===i.__count)try{v.onInteractionScheduledWorkCompleted(i)}catch(o){ag(99,(function(){throw o}))}})))}))}}ao=function ek(i,o,a){var v=o.expirationTime;if(null!==i){var w=o.pendingProps;if(i.memoizedProps!==w||cr.current)$i=!0;else{if(v<a){switch($i=!1,o.tag){case 3:mi(o),ai();break;case 5:if(dh(o),4&o.mode&&1!==a&&w.hidden)return Fi(1),o.expirationTime=o.childExpirationTime=1,null;break;case 1:M(o.type)&&Ef(o);break;case 4:bh(o,o.stateNode.containerInfo);break;case 10:v=o.memoizedProps.value,w=o.type._context,I(Ar,w._currentValue),w._currentValue=v;break;case 12:o.childExpirationTime>=a&&(o.effectTag|=4);break;case 13:if(null!==o.memoizedState)return 0!==(v=o.child.childExpirationTime)&&v>=a?oi(i,o,a):(I(Gr,1&Gr.current),null!==(o=ei(i,o,a))?o.sibling:null);I(Gr,1&Gr.current);break;case 19:if(v=o.childExpirationTime>=a,0!==(64&i.effectTag)){if(v)return ri(i,o,a);o.effectTag|=64}if(null!==(w=o.memoizedState)&&(w.rendering=null,w.tail=null),I(Gr,Gr.current),!v)return null}return ei(i,o,a)}$i=!1}}else $i=!1;switch(o.expirationTime=0,o.tag){case 2:if(v=o.type,null!==i&&(i.alternate=null,o.alternate=null,o.effectTag|=2),i=o.pendingProps,w=Af(o,lr.current),og(o,a),w=nh(null,o,v,i,w,a),o.effectTag|=1,"object"===typeof w&&null!==w&&"function"===typeof w.render&&void 0===w.$$typeof){if(o.tag=1,o.memoizedState=null,o.updateQueue=null,M(v)){var E=!0;Ef(o)}else E=!1;o.memoizedState=null!==w.state&&void 0!==w.state?w.state:null,sg(o);var P=v.getDerivedStateFromProps;"function"===typeof P&&Dg(o,v,P,i),w.updater=Fr,o.stateNode=w,w._reactInternalFiber=o,Lg(o,v,i,a),o=li(null,o,v,!0,E,a)}else o.tag=0,ci(null,o,w,a),o=o.child;return o;case 16:e:{if(w=o.elementType,null!==i&&(i.alternate=null,o.alternate=null,o.effectTag|=2),i=o.pendingProps,function ob(i){if(-1===i._status){i._status=0;var o=i._ctor;o=o(),i._result=o,o.then((function(o){0===i._status&&(o=o.default,i._status=1,i._result=o)}),(function(o){0===i._status&&(i._status=2,i._result=o)}))}}(w),1!==w._status)throw w._result;switch(w=w._result,o.type=w,E=o.tag=function mk(i){if("function"===typeof i)return gi(i)?1:0;if(void 0!==i&&null!==i){if((i=i.$$typeof)===nt)return 11;if(i===ot)return 14}return 2}(w),i=gg(w,i),E){case 0:o=ii(null,o,w,i,a);break e;case 1:o=ki(null,o,w,i,a);break e;case 11:o=di(null,o,w,i,a);break e;case 14:o=fi(null,o,w,gg(w.type,i),v,a);break e}throw Error(u(306,w,""))}return o;case 0:return v=o.type,w=o.pendingProps,ii(i,o,v,w=o.elementType===v?w:gg(v,w),a);case 1:return v=o.type,w=o.pendingProps,ki(i,o,v,w=o.elementType===v?w:gg(v,w),a);case 3:if(mi(o),v=o.updateQueue,null===i||null===v)throw Error(u(282));if(v=o.pendingProps,w=null!==(w=o.memoizedState)?w.element:null,tg(i,o),xg(o,v,null,a),(v=o.memoizedState.element)===w)ai(),o=ei(i,o,a);else{if((w=o.stateNode.hydrate)&&(Ii=Hd(o.stateNode.containerInfo.firstChild),Ai=o,w=Bi=!0),w)for(a=Ur(o,null,v,a),o.child=a;a;)a.effectTag=-3&a.effectTag|1024,a=a.sibling;else ci(i,o,v,a),ai();o=o.child}return o;case 5:return dh(o),null===i&&Yh(o),v=o.type,w=o.pendingProps,E=null!==i?i.memoizedProps:null,P=w.children,Ed(v,w)?P=null:null!==E&&Ed(v,E)&&(o.effectTag|=16),ji(i,o),4&o.mode&&1!==a&&w.hidden?(Fi(1),o.expirationTime=o.childExpirationTime=1,o=null):(ci(i,o,P,a),o=o.child),o;case 6:return null===i&&Yh(o),null;case 13:return oi(i,o,a);case 4:return bh(o,o.stateNode.containerInfo),v=o.pendingProps,null===i?o.child=Nr(o,null,v,a):ci(i,o,v,a),o.child;case 11:return v=o.type,w=o.pendingProps,di(i,o,v,w=o.elementType===v?w:gg(v,w),a);case 7:return ci(i,o,o.pendingProps,a),o.child;case 8:return ci(i,o,o.pendingProps.children,a),o.child;case 12:return o.effectTag|=4,ci(i,o,o.pendingProps.children,a),o.child;case 10:e:{v=o.type._context,w=o.pendingProps,P=o.memoizedProps,E=w.value;var D=o.type._context;if(I(Ar,D._currentValue),D._currentValue=E,null!==P)if(D=P.value,0===(E=Nn(D,E)?0:0|("function"===typeof v._calculateChangedBits?v._calculateChangedBits(D,E):1073741823))){if(P.children===w.children&&!cr.current){o=ei(i,o,a);break e}}else for(null!==(D=o.child)&&(D.return=o);null!==D;){var j=D.dependencies;if(null!==j){P=D.child;for(var B=j.firstContext;null!==B;){if(B.context===v&&0!==(B.observedBits&E)){1===D.tag&&((B=ug(a,null)).tag=2,vg(D,B)),D.expirationTime<a&&(D.expirationTime=a),null!==(B=D.alternate)&&B.expirationTime<a&&(B.expirationTime=a),ng(D.return,a),j.expirationTime<a&&(j.expirationTime=a);break}B=B.next}}else P=10===D.tag&&D.type===o.type?null:D.child;if(null!==P)P.return=D;else for(P=D;null!==P;){if(P===o){P=null;break}if(null!==(D=P.sibling)){D.return=P.return,P=D;break}P=P.return}D=P}ci(i,o,w.children,a),o=o.child}return o;case 9:return w=o.type,v=(E=o.pendingProps).children,og(o,a),v=v(w=qg(w,E.unstable_observedBits)),o.effectTag|=1,ci(i,o,v,a),o.child;case 14:return E=gg(w=o.type,o.pendingProps),fi(i,o,w,E=gg(w.type,E),v,a);case 15:return hi(i,o,o.type,o.pendingProps,v,a);case 17:return v=o.type,w=o.pendingProps,w=o.elementType===v?w:gg(v,w),null!==i&&(i.alternate=null,o.alternate=null,o.effectTag|=2),o.tag=1,M(v)?(i=!0,Ef(o)):i=!1,og(o,a),Jg(o,v,w),Lg(o,v,w,a),li(null,o,v,!0,i,a);case 19:return ri(i,o,a)}throw Error(u(156,o.tag))};var Uo=null,Ho=null,Wo="undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__;function pk(i,o,a,v){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null,this.actualDuration=0,this.actualStartTime=-1,this.treeBaseDuration=this.selfBaseDuration=0}function Wh(i,o,a,v){return new pk(i,o,a,v)}function gi(i){return!(!(i=i.prototype)||!i.isReactComponent)}function Qg(i,o){var a=i.alternate;return null===a?((a=Wh(i.tag,o,i.key,i.mode)).elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=o,a.effectTag=0,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,a.actualDuration=0,a.actualStartTime=-1),a.childExpirationTime=i.childExpirationTime,a.expirationTime=i.expirationTime,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,o=i.dependencies,a.dependencies=null===o?null:{expirationTime:o.expirationTime,firstContext:o.firstContext,responders:o.responders},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.selfBaseDuration=i.selfBaseDuration,a.treeBaseDuration=i.treeBaseDuration,a}function Sg(i,o,a,v,w,E){var P=2;if(v=i,"function"===typeof i)gi(i)&&(P=1);else if("string"===typeof i)P=5;else e:switch(i){case qe:return Ug(a.children,w,E,o);case tt:P=8,w|=7;break;case Ke:P=8,w|=1;break;case Qe:return(i=Wh(12,a,o,8|w)).elementType=Qe,i.type=Qe,i.expirationTime=E,i;case rt:return(i=Wh(13,a,o,w)).type=rt,i.elementType=rt,i.expirationTime=E,i;case it:return(i=Wh(19,a,o,w)).elementType=it,i.expirationTime=E,i;default:if("object"===typeof i&&null!==i)switch(i.$$typeof){case Ze:P=10;break e;case et:P=9;break e;case nt:P=11;break e;case ot:P=14;break e;case at:P=16,v=null;break e;case st:P=22;break e}throw Error(u(130,null==i?i:typeof i,""))}return(o=Wh(P,a,o,w)).elementType=i,o.type=v,o.expirationTime=E,o}function Ug(i,o,a,v){return(i=Wh(7,i,v,o)).expirationTime=a,i}function Rg(i,o,a){return(i=Wh(6,i,null,o)).expirationTime=a,i}function Tg(i,o,a){return(o=Wh(4,null!==i.children?i.children:[],i.key,o)).expirationTime=a,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function qk(i,o,a){this.tag=o,this.current=null,this.containerInfo=i,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=a,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0,this.interactionThreadID=P.unstable_getThreadID(),this.memoizedInteractions=new Set,this.pendingInteractionMap=new Map}function Lj(i,o){var a=i.firstSuspendedTime;return i=i.lastSuspendedTime,0!==a&&a>=o&&i<=o}function Di(i,o){var a=i.firstSuspendedTime,v=i.lastSuspendedTime;a<o&&(i.firstSuspendedTime=o),(v>o||0===a)&&(i.lastSuspendedTime=o),o<=i.lastPingedTime&&(i.lastPingedTime=0),o<=i.lastExpiredTime&&(i.lastExpiredTime=0)}function Ei(i,o){o>i.firstPendingTime&&(i.firstPendingTime=o);var a=i.firstSuspendedTime;0!==a&&(o>=a?i.firstSuspendedTime=i.lastSuspendedTime=i.nextKnownPendingLevel=0:o>=i.lastSuspendedTime&&(i.lastSuspendedTime=o+1),o>i.nextKnownPendingLevel&&(i.nextKnownPendingLevel=o))}function Nj(i,o){var a=i.lastExpiredTime;(0===a||a>o)&&(i.lastExpiredTime=o)}function rk(i,o,a,v){var w=o.current,E=Eg(),P=Rr.suspense;E=Fg(E,w,P);e:if(a){t:{if(cc(a=a._reactInternalFiber)!==a||1!==a.tag)throw Error(u(170));var D=a;do{switch(D.tag){case 3:D=D.stateNode.context;break t;case 1:if(M(D.type)){D=D.stateNode.__reactInternalMemoizedMergedChildContext;break t}}D=D.return}while(null!==D);throw Error(u(171))}if(1===a.tag){var j=a.type;if(M(j)){a=Df(a,j,D);break e}}a=D}else a=sr;return null===o.context?o.context=a:o.pendingContext=a,(o=ug(E,P)).payload={element:i},null!==(v=void 0===v?null:v)&&(o.callback=v),vg(w,o),Gg(w,E),E}function sk(i){if(!(i=i.current).child)return null;switch(i.child.tag){case 5:default:return i.child.stateNode}}function tk(i,o){null!==(i=i.memoizedState)&&null!==i.dehydrated&&i.retryTime<o&&(i.retryTime=o)}function uk(i,o){tk(i,o),(i=i.alternate)&&tk(i,o)}function vk(i,o,a){var v=new qk(i,o,a=null!=a&&!0===a.hydrate),w=2===o?7:1===o?3:0;Wo&&(w|=8),w=Wh(3,null,null,w),v.current=w,w.stateNode=v,sg(w),i[sn]=v.current,a&&0!==o&&function Ic(i,o){var a=bc(o);Ft.forEach((function(i){tc(i,o,a)})),Bt.forEach((function(i){tc(i,o,a)}))}(0,9===i.nodeType?i:i.ownerDocument),this._internalRoot=v}function wk(i){return!(!i||1!==i.nodeType&&9!==i.nodeType&&11!==i.nodeType&&(8!==i.nodeType||" react-mount-point-unstable "!==i.nodeValue))}function yk(i,o,a,v,w){var E=a._reactRootContainer;if(E){var P=E._internalRoot;if("function"===typeof w){var D=w;w=function e(){var i=sk(P);D.call(i)}}rk(o,P,i,w)}else{if(E=a._reactRootContainer=function xk(i,o){if(o||(o=!(!(o=i?9===i.nodeType?i.documentElement:i.firstChild:null)||1!==o.nodeType||!o.hasAttribute("data-reactroot"))),!o)for(var a;a=i.lastChild;)i.removeChild(a);return new vk(i,0,o?{hydrate:!0}:void 0)}(a,v),P=E._internalRoot,"function"===typeof w){var j=w;w=function e(){var i=sk(P);j.call(i)}}ak((function(){rk(o,P,i,w)}))}return sk(P)}function zk(i,o,a){var v=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ye,key:null==v?null:""+v,children:i,containerInfo:o,implementation:a}}function Ak(i,o){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!wk(o))throw Error(u(200));return zk(i,o,null,a)}vk.prototype.render=function(i){rk(i,this._internalRoot,null,null)},vk.prototype.unmount=function(){var i=this._internalRoot,o=i.containerInfo;rk(null,i,null,(function(){o[sn]=null}))},Ot=function vc(i){if(13===i.tag){var o=eg(Eg(),150,100);Gg(i,o),uk(i,o)}},Et=function wc(i){13===i.tag&&(Gg(i,3),uk(i,3))},kt=function xc(i){if(13===i.tag){var o=Eg();Gg(i,o=Fg(o,i,null)),uk(i,o)}},ye=function za(i,o,a){switch(o){case"input":if(zb(i,a),o=a.name,"radio"===a.type&&null!=o){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<a.length;o++){var v=a[o];if(v!==i&&v.form===i.form){var w=Od(v);if(!w)throw Error(u(90));vb(v),zb(v,w)}}}break;case"textarea":Jb(i,a);break;case"select":null!=(o=a.value)&&Gb(i,!!a.multiple,o,!1)}},Fa=Zj,Ga=function Ga(i,o,a,v,w){var E=po;po|=4;try{return $f(98,i.bind(null,o,a,v,w))}finally{0===(po=E)&&dg()}},Ha=function Ha(){0===(49&po)&&(function Yj(){if(null!==Ro){var i=Ro;Ro=null,i.forEach((function(i,o){Nj(o,i),Jj(o)})),dg()}}(),Oj())},Se=function Ia(i,o){var a=po;po|=2;try{return i(o)}finally{0===(po=a)&&dg()}};var zo={Events:[Mc,Nd,Od,xa,fe,Vd,function(i){ic(i,Ud)},Da,Ea,gd,lc,Oj,{current:!1}]};!function(i){var o=i.findFiberByHostInstance;(function ok(i){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(o.isDisabled||!o.supportsFiber)return!0;try{var a=o.inject(i);Uo=function jk(i,v){try{var w=64===(64&i.current.effectTag),E=fg(1073741821-(Pr()/10|0),v);o.onCommitFiberRoot(a,i,E,w)}catch(P){}},Ho=function Si(i){try{o.onCommitFiberUnmount(a,i)}catch(v){}}}catch(v){}return!0})(w({},i,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ue.ReactCurrentDispatcher,findHostInstanceByFiber:function findHostInstanceByFiber(i){return null===(i=gc(i))?null:i.stateNode},findFiberByHostInstance:function findFiberByHostInstance(i){return o?o(i):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:sc,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zo,o.createPortal=Ak,o.findDOMNode=function(i){if(null==i)return null;if(1===i.nodeType)return i;var o=i._reactInternalFiber;if(void 0===o){if("function"===typeof i.render)throw Error(u(188));throw Error(u(268,Object.keys(i)))}return i=null===(i=gc(o))?null:i.stateNode},o.flushSync=function(i,o){if(0!==(48&po))throw Error(u(187));var a=po;po|=1;try{return $f(99,i.bind(null,o))}finally{po=a,dg()}},o.hydrate=function(i,o,a){if(!wk(o))throw Error(u(200));return yk(null,i,o,!0,a)},o.render=function(i,o,a){if(!wk(o))throw Error(u(200));return yk(null,i,o,!1,a)},o.unmountComponentAtNode=function(i){if(!wk(i))throw Error(u(40));return!!i._reactRootContainer&&(ak((function(){yk(null,null,i,!1,(function(){i._reactRootContainer=null,i[sn]=null}))})),!0)},o.unstable_batchedUpdates=Zj,o.unstable_createPortal=function(i,o){return Ak(i,o,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},o.unstable_renderSubtreeIntoContainer=function(i,o,a,v){if(!wk(a))throw Error(u(200));if(null==i||void 0===i._reactInternalFiber)throw Error(u(38));return yk(i,o,a,!1,v)},o.version="16.13.1"},function(i,o,a){"use strict";i.exports=a(85)},function(i,o,a){"use strict";var v,w,E,P,D;if("undefined"===typeof window||"function"!==typeof MessageChannel){var j=null,B=null,Q=function t(){if(null!==j)try{var i=o.unstable_now();j(!0,i),j=null}catch(a){throw setTimeout(t,0),a}},$=Date.now();o.unstable_now=function(){return Date.now()-$},v=function f(i){null!==j?setTimeout(v,0,i):(j=i,setTimeout(Q,0))},w=function g(i,o){B=setTimeout(i,o)},E=function h(){clearTimeout(B)},P=function k(){return!1},D=o.unstable_forceFrameRate=function(){}}else{var ee=window.performance,te=window.Date,ne=window.setTimeout,ie=window.clearTimeout;if("undefined"!==typeof console){var le=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof le&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof ee&&"function"===typeof ee.now)o.unstable_now=function(){return ee.now()};else{var ue=te.now();o.unstable_now=function(){return te.now()-ue}}var fe=!1,he=null,ge=-1,me=5,ye=0;P=function k(){return o.unstable_now()>=ye},D=function l(){},o.unstable_forceFrameRate=function(i){0>i||125<i?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):me=0<i?Math.floor(1e3/i):5};var _e=new MessageChannel,we=_e.port2;_e.port1.onmessage=function(){if(null!==he){var i=o.unstable_now();ye=i+me;try{he(!0,i)?we.postMessage(null):(fe=!1,he=null)}catch(a){throw we.postMessage(null),a}}else fe=!1},v=function _f(i){he=i,fe||(fe=!0,we.postMessage(null))},w=function g(i,a){ge=ne((function(){i(o.unstable_now())}),a)},E=function h(){ie(ge),ge=-1}}function J(i,o){var a=i.length;i.push(o);e:for(;;){var v=a-1>>>1,w=i[v];if(!(void 0!==w&&0<K(w,o)))break e;i[v]=o,i[a]=w,a=v}}function L(i){return void 0===(i=i[0])?null:i}function M(i){var o=i[0];if(void 0!==o){var a=i.pop();if(a!==o){i[0]=a;e:for(var v=0,w=i.length;v<w;){var E=2*(v+1)-1,P=i[E],D=E+1,j=i[D];if(void 0!==P&&0>K(P,a))void 0!==j&&0>K(j,P)?(i[v]=j,i[D]=a,v=D):(i[v]=P,i[E]=a,v=E);else{if(!(void 0!==j&&0>K(j,a)))break e;i[v]=j,i[D]=a,v=D}}}return o}return null}function K(i,o){var a=i.sortIndex-o.sortIndex;return 0!==a?a:i.id-o.id}var Se=[],Te=[],ke=1,Pe=null,De=3,Me=!1,je=!1,Re=!1;function V(i){for(var o=L(Te);null!==o;){if(null===o.callback)M(Te);else{if(!(o.startTime<=i))break;M(Te),o.sortIndex=o.expirationTime,J(Se,o)}o=L(Te)}}function W(i){if(Re=!1,V(i),!je)if(null!==L(Se))je=!0,v(X);else{var o=L(Te);null!==o&&w(W,o.startTime-i)}}function X(i,a){je=!1,Re&&(Re=!1,E()),Me=!0;var v=De;try{for(V(a),Pe=L(Se);null!==Pe&&(!(Pe.expirationTime>a)||i&&!P());){var D=Pe.callback;if(null!==D){Pe.callback=null,De=Pe.priorityLevel;var j=D(Pe.expirationTime<=a);a=o.unstable_now(),"function"===typeof j?Pe.callback=j:Pe===L(Se)&&M(Se),V(a)}else M(Se);Pe=L(Se)}if(null!==Pe)var B=!0;else{var Q=L(Te);null!==Q&&w(W,Q.startTime-a),B=!1}return B}finally{Pe=null,De=v,Me=!1}}function Y(i){switch(i){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var Le=D;o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(i){i.callback=null},o.unstable_continueExecution=function(){je||Me||(je=!0,v(X))},o.unstable_getCurrentPriorityLevel=function(){return De},o.unstable_getFirstCallbackNode=function(){return L(Se)},o.unstable_next=function(i){switch(De){case 1:case 2:case 3:var o=3;break;default:o=De}var a=De;De=o;try{return i()}finally{De=a}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=Le,o.unstable_runWithPriority=function(i,o){switch(i){case 1:case 2:case 3:case 4:case 5:break;default:i=3}var a=De;De=i;try{return o()}finally{De=a}},o.unstable_scheduleCallback=function(i,a,P){var D=o.unstable_now();if("object"===typeof P&&null!==P){var j=P.delay;j="number"===typeof j&&0<j?D+j:D,P="number"===typeof P.timeout?P.timeout:Y(i)}else P=Y(i),j=D;return i={id:ke++,callback:a,priorityLevel:i,startTime:j,expirationTime:P=j+P,sortIndex:-1},j>D?(i.sortIndex=j,J(Te,i),null===L(Se)&&i===L(Te)&&(Re?E():Re=!0,w(W,j-D))):(i.sortIndex=P,J(Se,i),je||Me||(je=!0,v(X))),i},o.unstable_shouldYield=function(){var i=o.unstable_now();V(i);var a=L(Se);return a!==Pe&&null!==Pe&&null!==a&&null!==a.callback&&a.startTime<=i&&a.expirationTime<Pe.expirationTime||P()},o.unstable_wrapCallback=function(i){var o=De;return function(){var a=De;De=o;try{return i.apply(this,arguments)}finally{De=a}}}},function(i,o,a){"use strict";i.exports=a(87)},function(i,o,a){"use strict";var v=0,w=0;o.__interactionsRef=null,o.__subscriberRef=null,o.__interactionsRef={current:new Set},o.__subscriberRef={current:null};var E=null;function n(i){var o=!1,a=null;if(E.forEach((function(v){try{v.onInteractionTraced(i)}catch(w){o||(o=!0,a=w)}})),o)throw a}function p(i){var o=!1,a=null;if(E.forEach((function(v){try{v.onInteractionScheduledWorkCompleted(i)}catch(w){o||(o=!0,a=w)}})),o)throw a}function q(i,o){var a=!1,v=null;if(E.forEach((function(w){try{w.onWorkScheduled(i,o)}catch(E){a||(a=!0,v=E)}})),a)throw v}function r(i,o){var a=!1,v=null;if(E.forEach((function(w){try{w.onWorkStarted(i,o)}catch(E){a||(a=!0,v=E)}})),a)throw v}function t(i,o){var a=!1,v=null;if(E.forEach((function(w){try{w.onWorkStopped(i,o)}catch(E){a||(a=!0,v=E)}})),a)throw v}function u(i,o){var a=!1,v=null;if(E.forEach((function(w){try{w.onWorkCanceled(i,o)}catch(E){a||(a=!0,v=E)}})),a)throw v}E=new Set,o.unstable_clear=function(i){var a=o.__interactionsRef.current;o.__interactionsRef.current=new Set;try{return i()}finally{o.__interactionsRef.current=a}},o.unstable_getCurrent=function(){return o.__interactionsRef.current},o.unstable_getThreadID=function(){return++w},o.unstable_subscribe=function(i){E.add(i),1===E.size&&(o.__subscriberRef.current={onInteractionScheduledWorkCompleted:p,onInteractionTraced:n,onWorkCanceled:u,onWorkScheduled:q,onWorkStarted:r,onWorkStopped:t})},o.unstable_trace=function(i,a,w){var E=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,P={__count:1,id:v++,name:i,timestamp:a},D=o.__interactionsRef.current,j=new Set(D);j.add(P),o.__interactionsRef.current=j;var B=o.__subscriberRef.current;try{null!==B&&B.onInteractionTraced(P)}finally{try{null!==B&&B.onWorkStarted(j,E)}finally{try{var Q=w()}finally{o.__interactionsRef.current=D;try{null!==B&&B.onWorkStopped(j,E)}finally{P.__count--,null!==B&&0===P.__count&&B.onInteractionScheduledWorkCompleted(P)}}}}return Q},o.unstable_unsubscribe=function(i){E.delete(i),0===E.size&&(o.__subscriberRef.current=null)},o.unstable_wrap=function(i){function d(){var P=o.__interactionsRef.current;o.__interactionsRef.current=v,w=o.__subscriberRef.current;try{try{null!==w&&w.onWorkStarted(v,a)}finally{try{var D=i.apply(void 0,arguments)}finally{o.__interactionsRef.current=P,null!==w&&w.onWorkStopped(v,a)}}return D}finally{E||(E=!0,v.forEach((function(i){i.__count--,null!==w&&0===i.__count&&w.onInteractionScheduledWorkCompleted(i)})))}}var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,v=o.__interactionsRef.current,w=o.__subscriberRef.current;null!==w&&w.onWorkScheduled(v,a),v.forEach((function(i){i.__count++}));var E=!1;return d.cancel=function(){w=o.__subscriberRef.current;try{null!==w&&w.onWorkCanceled(v,a)}finally{v.forEach((function(i){i.__count--,w&&0===i.__count&&w.onInteractionScheduledWorkCompleted(i)}))}},d}},function(i,o,a){"use strict";(function(i){var o=a(70),v=a(33),w=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof i)return i;throw new Error("unable to locate global object")}();"Promise"in w?w.Promise.prototype.finally||(w.Promise.prototype.finally=v.a):w.Promise=o.a}).call(this,a(15))},function(i,o,a){(function(i){var v="undefined"!==typeof i&&i||"undefined"!==typeof self&&self||window,w=Function.prototype.apply;function Timeout(i,o){this._id=i,this._clearFn=o}o.setTimeout=function(){return new Timeout(w.call(setTimeout,v,arguments),clearTimeout)},o.setInterval=function(){return new Timeout(w.call(setInterval,v,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(i){i&&i.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(v,this._id)},o.enroll=function(i,o){clearTimeout(i._idleTimeoutId),i._idleTimeout=o},o.unenroll=function(i){clearTimeout(i._idleTimeoutId),i._idleTimeout=-1},o._unrefActive=o.active=function(i){clearTimeout(i._idleTimeoutId);var o=i._idleTimeout;o>=0&&(i._idleTimeoutId=setTimeout((function onTimeout(){i._onTimeout&&i._onTimeout()}),o))},a(90),o.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof i&&i.setImmediate||this&&this.setImmediate,o.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof i&&i.clearImmediate||this&&this.clearImmediate}).call(this,a(15))},function(i,o,a){(function(i,o){!function(i,a){"use strict";if(!i.setImmediate){var v,w=1,E={},P=!1,D=i.document,j=Object.getPrototypeOf&&Object.getPrototypeOf(i);j=j&&j.setTimeout?j:i,"[object process]"==={}.toString.call(i.process)?function installNextTickImplementation(){v=function registerImmediate(i){o.nextTick((function(){runIfPresent(i)}))}}():!function canUsePostMessage(){if(i.postMessage&&!i.importScripts){var o=!0,a=i.onmessage;return i.onmessage=function(){o=!1},i.postMessage("","*"),i.onmessage=a,o}}()?i.MessageChannel?function installMessageChannelImplementation(){var i=new MessageChannel;i.port1.onmessage=function(i){runIfPresent(i.data)},v=function registerImmediate(o){i.port2.postMessage(o)}}():D&&"onreadystatechange"in D.createElement("script")?function installReadyStateChangeImplementation(){var i=D.documentElement;v=function registerImmediate(o){var a=D.createElement("script");a.onreadystatechange=function(){runIfPresent(o),a.onreadystatechange=null,i.removeChild(a),a=null},i.appendChild(a)}}():function installSetTimeoutImplementation(){v=function registerImmediate(i){setTimeout(runIfPresent,0,i)}}():function installPostMessageImplementation(){var o="setImmediate$"+Math.random()+"$",a=function onGlobalMessage(a){a.source===i&&"string"===typeof a.data&&0===a.data.indexOf(o)&&runIfPresent(+a.data.slice(o.length))};i.addEventListener?i.addEventListener("message",a,!1):i.attachEvent("onmessage",a),v=function registerImmediate(a){i.postMessage(o+a,"*")}}(),j.setImmediate=function setImmediate(i){"function"!==typeof i&&(i=new Function(""+i));for(var o=new Array(arguments.length-1),a=0;a<o.length;a++)o[a]=arguments[a+1];var P={callback:i,args:o};return E[w]=P,v(w),w++},j.clearImmediate=clearImmediate}function clearImmediate(i){delete E[i]}function runIfPresent(i){if(P)setTimeout(runIfPresent,0,i);else{var o=E[i];if(o){P=!0;try{!function run(i){var o=i.callback,a=i.args;switch(a.length){case 0:o();break;case 1:o(a[0]);break;case 2:o(a[0],a[1]);break;case 3:o(a[0],a[1],a[2]);break;default:o.apply(void 0,a)}}(o)}finally{clearImmediate(i),P=!1}}}}}("undefined"===typeof self?"undefined"===typeof i?this:i:self)}).call(this,a(15),a(51))},function(i,o,a){a(92),a(102),a(104),a(105),a(106),a(107),a(108),i.exports=a(19).Object},function(i,o,a){var v=a(10),w=a(96),E=a(22),P=a(43),D=a(101);v(v.S,"Object",{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(i){for(var o,a,v=E(i),j=P.f,B=w(v),Q={},$=0;B.length>$;)void 0!==(a=j(v,o=B[$++]))&&D(Q,o,a);return Q}})},function(i,o,a){var v=a(20),w=a(17).document,E=v(w)&&v(w.createElement);i.exports=function(i){return E?w.createElement(i):{}}},function(i,o,a){var v=a(17),w=a(35),E=a(27),P=a(38)("src"),D=a(95),j=(""+D).split("toString");a(19).inspectSource=function(i){return D.call(i)},(i.exports=function(i,o,a,D){var B="function"==typeof a;B&&(E(a,"name")||w(a,"name",o)),i[o]!==a&&(B&&(E(a,P)||w(a,P,i[o]?""+i[o]:j.join(String(o)))),i===v?i[o]=a:D?i[o]?i[o]=a:w(i,o,a):(delete i[o],w(i,o,a)))})(Function.prototype,"toString",(function toString(){return"function"==typeof this&&this[P]||D.call(this)}))},function(i,o,a){i.exports=a(39)("native-function-to-string",Function.toString)},function(i,o,a){var v=a(97),w=a(100),E=a(52),P=a(17).Reflect;i.exports=P&&P.ownKeys||function ownKeys(i){var o=v.f(E(i)),a=w.f;return a?o.concat(a(i)):o}},function(i,o,a){var v=a(56),w=a(59).concat("length","prototype");o.f=Object.getOwnPropertyNames||function getOwnPropertyNames(i){return v(i,w)}},function(i,o,a){var v=a(40);i.exports=Object("z").propertyIsEnumerable(0)?Object:function(i){return"String"==v(i)?i.split(""):Object(i)}},function(i,o,a){var v=a(42),w=Math.max,E=Math.min;i.exports=function(i,o){return(i=v(i))<0?w(i+o,0):E(i,o)}},function(i,o){o.f=Object.getOwnPropertySymbols},function(i,o,a){"use strict";var v=a(25),w=a(37);i.exports=function(i,o,a){o in i?v.f(i,o,w(0,a)):i[o]=a}},function(i,o,a){var v=a(10),w=a(61)(!1);v(v.S,"Object",{values:function values(i){return w(i)}})},function(i,o,a){var v=a(56),w=a(59);i.exports=Object.keys||function keys(i){return v(i,w)}},function(i,o,a){var v=a(10),w=a(61)(!0);v(v.S,"Object",{entries:function entries(i){return w(i)}})},function(i,o,a){"use strict";var v=a(10),w=a(18),E=a(28),P=a(25);a(11)&&v(v.P+a(30),"Object",{__defineGetter__:function __defineGetter__(i,o){P.f(w(this),i,{get:E(o),enumerable:!0,configurable:!0})}})},function(i,o,a){"use strict";var v=a(10),w=a(18),E=a(28),P=a(25);a(11)&&v(v.P+a(30),"Object",{__defineSetter__:function __defineSetter__(i,o){P.f(w(this),i,{set:E(o),enumerable:!0,configurable:!0})}})},function(i,o,a){"use strict";var v=a(10),w=a(18),E=a(26),P=a(62),D=a(43).f;a(11)&&v(v.P+a(30),"Object",{__lookupGetter__:function __lookupGetter__(i){var o,a=w(this),v=E(i,!0);do{if(o=D(a,v))return o.get}while(a=P(a))}})},function(i,o,a){"use strict";var v=a(10),w=a(18),E=a(26),P=a(62),D=a(43).f;a(11)&&v(v.P+a(30),"Object",{__lookupSetter__:function __lookupSetter__(i){var o,a=w(this),v=E(i,!0);do{if(o=D(a,v))return o.set}while(a=P(a))}})},function(i,o,a){a(110),i.exports=a(19).String.includes},function(i,o,a){"use strict";var v=a(10),w=a(111);v(v.P+v.F*a(113)("includes"),"String",{includes:function includes(i){return!!~w(this,i,"includes").indexOf(i,arguments.length>1?arguments[1]:void 0)}})},function(i,o,a){var v=a(112),w=a(41);i.exports=function(i,o,a){if(v(o))throw TypeError("String#"+a+" doesn't accept regex!");return String(w(i))}},function(i,o,a){var v=a(20),w=a(40),E=a(23)("match");i.exports=function(i){var o;return v(i)&&(void 0!==(o=i[E])?!!o:"RegExp"==w(i))}},function(i,o,a){var v=a(23)("match");i.exports=function(i){var o=/./;try{"/./"[i](o)}catch(a){try{return o[v]=!1,!"/./"[i](o)}catch(w){}}return!0}},function(i,o,a){a(115),a(116),a(118),i.exports=a(19).Array},function(i,o,a){"use strict";var v=a(10),w=a(57)(!0);v(v.P,"Array",{includes:function includes(i){return w(this,i,arguments.length>1?arguments[1]:void 0)}}),a(44)("includes")},function(i,o,a){"use strict";var v=a(10),w=a(63),E=a(18),P=a(29),D=a(28),j=a(65);v(v.P,"Array",{flatMap:function flatMap(i){var o,a,v=E(this);return D(i),o=P(v.length),a=j(v,0),w(a,v,v,o,0,1,i,arguments[1]),a}}),a(44)("flatMap")},function(i,o,a){var v=a(20),w=a(64),E=a(23)("species");i.exports=function(i){var o;return w(i)&&("function"!=typeof(o=i.constructor)||o!==Array&&!w(o.prototype)||(o=void 0),v(o)&&null===(o=o[E])&&(o=void 0)),void 0===o?Array:o}},function(i,o,a){"use strict";var v=a(10),w=a(63),E=a(18),P=a(29),D=a(42),j=a(65);v(v.P,"Array",{flatten:function flatten(){var i=arguments[0],o=E(this),a=P(o.length),v=j(o,0);return w(v,o,o,a,0,void 0===i?1:D(i)),v}}),a(44)("flatten")},function(i,o,a){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.useScrollPosition=useScrollPosition;var v=a(0),w=a(120),E="undefined"!==typeof window;function getScrollPosition(i){var o=i.element,a=i.useWindow;if(!E)return{x:0,y:0};var v=(o?o.current:document.body).getBoundingClientRect();return a?{x:window.scrollX,y:window.scrollY}:{x:v.left,y:v.top}}function useScrollPosition(i,o,a,P,D){var j=(0,v.useRef)(getScrollPosition({useWindow:P})),B=null,Q=function callBack(){var o=getScrollPosition({element:a,useWindow:P});i({prevPos:j.current,currPos:o}),j.current=o,B=null};(0,w.useIsomorphicLayoutEffect)((function(){if(E){var i=function handleScroll(){D?null===B&&(B=setTimeout(Q,D)):Q()};return window.addEventListener("scroll",i),function(){return window.removeEventListener("scroll",i)}}}),o)}useScrollPosition.defaultProps={deps:[],element:!1,useWindow:!1,wait:null}},function(i,o,a){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.useIsomorphicLayoutEffect=void 0;var v=a(0),w="undefined"!==typeof window?v.useLayoutEffect:v.useEffect;o.useIsomorphicLayoutEffect=w},function(i,o,a){var v=function(i){"use strict";var o=Object.prototype,a=o.hasOwnProperty,v="function"===typeof Symbol?Symbol:{},w=v.iterator||"@@iterator",E=v.asyncIterator||"@@asyncIterator",P=v.toStringTag||"@@toStringTag";function wrap(i,o,a,v){var w=o&&o.prototype instanceof Generator?o:Generator,E=Object.create(w.prototype),P=new Context(v||[]);return E._invoke=function makeInvokeMethod(i,o,a){var v="suspendedStart";return function invoke(w,E){if("executing"===v)throw new Error("Generator is already running");if("completed"===v){if("throw"===w)throw E;return doneResult()}for(a.method=w,a.arg=E;;){var P=a.delegate;if(P){var j=maybeInvokeDelegate(P,a);if(j){if(j===D)continue;return j}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===v)throw v="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);v="executing";var B=tryCatch(i,o,a);if("normal"===B.type){if(v=a.done?"completed":"suspendedYield",B.arg===D)continue;return{value:B.arg,done:a.done}}"throw"===B.type&&(v="completed",a.method="throw",a.arg=B.arg)}}}(i,a,P),E}function tryCatch(i,o,a){try{return{type:"normal",arg:i.call(o,a)}}catch(v){return{type:"throw",arg:v}}}i.wrap=wrap;var D={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var j={};j[w]=function(){return this};var B=Object.getPrototypeOf,Q=B&&B(B(values([])));Q&&Q!==o&&a.call(Q,w)&&(j=Q);var $=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(j);function defineIteratorMethods(i){["next","throw","return"].forEach((function(o){i[o]=function(i){return this._invoke(o,i)}}))}function AsyncIterator(i,o){var v;this._invoke=function enqueue(w,E){function callInvokeWithMethodAndArg(){return new o((function(v,P){!function invoke(v,w,E,P){var D=tryCatch(i[v],i,w);if("throw"!==D.type){var j=D.arg,B=j.value;return B&&"object"===typeof B&&a.call(B,"__await")?o.resolve(B.__await).then((function(i){invoke("next",i,E,P)}),(function(i){invoke("throw",i,E,P)})):o.resolve(B).then((function(i){j.value=i,E(j)}),(function(i){return invoke("throw",i,E,P)}))}P(D.arg)}(w,E,v,P)}))}return v=v?v.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(i,o){var a=i.iterator[o.method];if(void 0===a){if(o.delegate=null,"throw"===o.method){if(i.iterator.return&&(o.method="return",o.arg=void 0,maybeInvokeDelegate(i,o),"throw"===o.method))return D;o.method="throw",o.arg=new TypeError("The iterator does not provide a 'throw' method")}return D}var v=tryCatch(a,i.iterator,o.arg);if("throw"===v.type)return o.method="throw",o.arg=v.arg,o.delegate=null,D;var w=v.arg;return w?w.done?(o[i.resultName]=w.value,o.next=i.nextLoc,"return"!==o.method&&(o.method="next",o.arg=void 0),o.delegate=null,D):w:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,D)}function pushTryEntry(i){var o={tryLoc:i[0]};1 in i&&(o.catchLoc=i[1]),2 in i&&(o.finallyLoc=i[2],o.afterLoc=i[3]),this.tryEntries.push(o)}function resetTryEntry(i){var o=i.completion||{};o.type="normal",delete o.arg,i.completion=o}function Context(i){this.tryEntries=[{tryLoc:"root"}],i.forEach(pushTryEntry,this),this.reset(!0)}function values(i){if(i){var o=i[w];if(o)return o.call(i);if("function"===typeof i.next)return i;if(!isNaN(i.length)){var v=-1,E=function next(){for(;++v<i.length;)if(a.call(i,v))return next.value=i[v],next.done=!1,next;return next.value=void 0,next.done=!0,next};return E.next=E}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=$.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[P]=GeneratorFunction.displayName="GeneratorFunction",i.isGeneratorFunction=function(i){var o="function"===typeof i&&i.constructor;return!!o&&(o===GeneratorFunction||"GeneratorFunction"===(o.displayName||o.name))},i.mark=function(i){return Object.setPrototypeOf?Object.setPrototypeOf(i,GeneratorFunctionPrototype):(i.__proto__=GeneratorFunctionPrototype,P in i||(i[P]="GeneratorFunction")),i.prototype=Object.create($),i},i.awrap=function(i){return{__await:i}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[E]=function(){return this},i.AsyncIterator=AsyncIterator,i.async=function(o,a,v,w,E){void 0===E&&(E=Promise);var P=new AsyncIterator(wrap(o,a,v,w),E);return i.isGeneratorFunction(a)?P:P.next().then((function(i){return i.done?i.value:P.next()}))},defineIteratorMethods($),$[P]="Generator",$[w]=function(){return this},$.toString=function(){return"[object Generator]"},i.keys=function(i){var o=[];for(var a in i)o.push(a);return o.reverse(),function next(){for(;o.length;){var a=o.pop();if(a in i)return next.value=a,next.done=!1,next}return next.done=!0,next}},i.values=values,Context.prototype={constructor:Context,reset:function reset(i){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!i)for(var o in this)"t"===o.charAt(0)&&a.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=void 0)},stop:function stop(){this.done=!0;var i=this.tryEntries[0].completion;if("throw"===i.type)throw i.arg;return this.rval},dispatchException:function dispatchException(i){if(this.done)throw i;var o=this;function handle(a,v){return E.type="throw",E.arg=i,o.next=a,v&&(o.method="next",o.arg=void 0),!!v}for(var v=this.tryEntries.length-1;v>=0;--v){var w=this.tryEntries[v],E=w.completion;if("root"===w.tryLoc)return handle("end");if(w.tryLoc<=this.prev){var P=a.call(w,"catchLoc"),D=a.call(w,"finallyLoc");if(P&&D){if(this.prev<w.catchLoc)return handle(w.catchLoc,!0);if(this.prev<w.finallyLoc)return handle(w.finallyLoc)}else if(P){if(this.prev<w.catchLoc)return handle(w.catchLoc,!0)}else{if(!D)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return handle(w.finallyLoc)}}}},abrupt:function abrupt(i,o){for(var v=this.tryEntries.length-1;v>=0;--v){var w=this.tryEntries[v];if(w.tryLoc<=this.prev&&a.call(w,"finallyLoc")&&this.prev<w.finallyLoc){var E=w;break}}E&&("break"===i||"continue"===i)&&E.tryLoc<=o&&o<=E.finallyLoc&&(E=null);var P=E?E.completion:{};return P.type=i,P.arg=o,E?(this.method="next",this.next=E.finallyLoc,D):this.complete(P)},complete:function complete(i,o){if("throw"===i.type)throw i.arg;return"break"===i.type||"continue"===i.type?this.next=i.arg:"return"===i.type?(this.rval=this.arg=i.arg,this.method="return",this.next="end"):"normal"===i.type&&o&&(this.next=o),D},finish:function finish(i){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.finallyLoc===i)return this.complete(a.completion,a.afterLoc),resetTryEntry(a),D}},catch:function _catch(i){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc===i){var v=a.completion;if("throw"===v.type){var w=v.arg;resetTryEntry(a)}return w}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(i,o,a){return this.delegate={iterator:values(i),resultName:o,nextLoc:a},"next"===this.method&&(this.arg=void 0),D}},i}(i.exports);try{regeneratorRuntime=v}catch(w){Function("r","regeneratorRuntime = r")(v)}},function(i,o,a){"use strict";(function(i){var v=a(123),w=a(124),E=a(125);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(i,o){if(kMaxLength()<o)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(i=new Uint8Array(o)).__proto__=Buffer.prototype:(null===i&&(i=new Buffer(o)),i.length=o),i}function Buffer(i,o,a){if(!Buffer.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer))return new Buffer(i,o,a);if("number"===typeof i){if("string"===typeof o)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,i)}return from(this,i,o,a)}function from(i,o,a,v){if("number"===typeof o)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&o instanceof ArrayBuffer?function fromArrayBuffer(i,o,a,v){if(o.byteLength,a<0||o.byteLength<a)throw new RangeError("'offset' is out of bounds");if(o.byteLength<a+(v||0))throw new RangeError("'length' is out of bounds");o=void 0===a&&void 0===v?new Uint8Array(o):void 0===v?new Uint8Array(o,a):new Uint8Array(o,a,v);Buffer.TYPED_ARRAY_SUPPORT?(i=o).__proto__=Buffer.prototype:i=fromArrayLike(i,o);return i}(i,o,a,v):"string"===typeof o?function fromString(i,o,a){"string"===typeof a&&""!==a||(a="utf8");if(!Buffer.isEncoding(a))throw new TypeError('"encoding" must be a valid string encoding');var v=0|byteLength(o,a),w=(i=createBuffer(i,v)).write(o,a);w!==v&&(i=i.slice(0,w));return i}(i,o,a):function fromObject(i,o){if(Buffer.isBuffer(o)){var a=0|checked(o.length);return 0===(i=createBuffer(i,a)).length||o.copy(i,0,0,a),i}if(o){if("undefined"!==typeof ArrayBuffer&&o.buffer instanceof ArrayBuffer||"length"in o)return"number"!==typeof o.length||function isnan(i){return i!==i}(o.length)?createBuffer(i,0):fromArrayLike(i,o);if("Buffer"===o.type&&E(o.data))return fromArrayLike(i,o.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(i,o)}function assertSize(i){if("number"!==typeof i)throw new TypeError('"size" argument must be a number');if(i<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(i,o){if(assertSize(o),i=createBuffer(i,o<0?0:0|checked(o)),!Buffer.TYPED_ARRAY_SUPPORT)for(var a=0;a<o;++a)i[a]=0;return i}function fromArrayLike(i,o){var a=o.length<0?0:0|checked(o.length);i=createBuffer(i,a);for(var v=0;v<a;v+=1)i[v]=255&o[v];return i}function checked(i){if(i>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|i}function byteLength(i,o){if(Buffer.isBuffer(i))return i.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(i)||i instanceof ArrayBuffer))return i.byteLength;"string"!==typeof i&&(i=""+i);var a=i.length;if(0===a)return 0;for(var v=!1;;)switch(o){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":case void 0:return utf8ToBytes(i).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*a;case"hex":return a>>>1;case"base64":return base64ToBytes(i).length;default:if(v)return utf8ToBytes(i).length;o=(""+o).toLowerCase(),v=!0}}function slowToString(i,o,a){var v=!1;if((void 0===o||o<0)&&(o=0),o>this.length)return"";if((void 0===a||a>this.length)&&(a=this.length),a<=0)return"";if((a>>>=0)<=(o>>>=0))return"";for(i||(i="utf8");;)switch(i){case"hex":return hexSlice(this,o,a);case"utf8":case"utf-8":return utf8Slice(this,o,a);case"ascii":return asciiSlice(this,o,a);case"latin1":case"binary":return latin1Slice(this,o,a);case"base64":return base64Slice(this,o,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,o,a);default:if(v)throw new TypeError("Unknown encoding: "+i);i=(i+"").toLowerCase(),v=!0}}function swap(i,o,a){var v=i[o];i[o]=i[a],i[a]=v}function bidirectionalIndexOf(i,o,a,v,w){if(0===i.length)return-1;if("string"===typeof a?(v=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,isNaN(a)&&(a=w?0:i.length-1),a<0&&(a=i.length+a),a>=i.length){if(w)return-1;a=i.length-1}else if(a<0){if(!w)return-1;a=0}if("string"===typeof o&&(o=Buffer.from(o,v)),Buffer.isBuffer(o))return 0===o.length?-1:arrayIndexOf(i,o,a,v,w);if("number"===typeof o)return o&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?w?Uint8Array.prototype.indexOf.call(i,o,a):Uint8Array.prototype.lastIndexOf.call(i,o,a):arrayIndexOf(i,[o],a,v,w);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(i,o,a,v,w){var E,P=1,D=i.length,j=o.length;if(void 0!==v&&("ucs2"===(v=String(v).toLowerCase())||"ucs-2"===v||"utf16le"===v||"utf-16le"===v)){if(i.length<2||o.length<2)return-1;P=2,D/=2,j/=2,a/=2}function read(i,o){return 1===P?i[o]:i.readUInt16BE(o*P)}if(w){var B=-1;for(E=a;E<D;E++)if(read(i,E)===read(o,-1===B?0:E-B)){if(-1===B&&(B=E),E-B+1===j)return B*P}else-1!==B&&(E-=E-B),B=-1}else for(a+j>D&&(a=D-j),E=a;E>=0;E--){for(var Q=!0,$=0;$<j;$++)if(read(i,E+$)!==read(o,$)){Q=!1;break}if(Q)return E}return-1}function hexWrite(i,o,a,v){a=Number(a)||0;var w=i.length-a;v?(v=Number(v))>w&&(v=w):v=w;var E=o.length;if(E%2!==0)throw new TypeError("Invalid hex string");v>E/2&&(v=E/2);for(var P=0;P<v;++P){var D=parseInt(o.substr(2*P,2),16);if(isNaN(D))return P;i[a+P]=D}return P}function utf8Write(i,o,a,v){return blitBuffer(utf8ToBytes(o,i.length-a),i,a,v)}function asciiWrite(i,o,a,v){return blitBuffer(function asciiToBytes(i){for(var o=[],a=0;a<i.length;++a)o.push(255&i.charCodeAt(a));return o}(o),i,a,v)}function latin1Write(i,o,a,v){return asciiWrite(i,o,a,v)}function base64Write(i,o,a,v){return blitBuffer(base64ToBytes(o),i,a,v)}function ucs2Write(i,o,a,v){return blitBuffer(function utf16leToBytes(i,o){for(var a,v,w,E=[],P=0;P<i.length&&!((o-=2)<0);++P)a=i.charCodeAt(P),v=a>>8,w=a%256,E.push(w),E.push(v);return E}(o,i.length-a),i,a,v)}function base64Slice(i,o,a){return 0===o&&a===i.length?v.fromByteArray(i):v.fromByteArray(i.slice(o,a))}function utf8Slice(i,o,a){a=Math.min(i.length,a);for(var v=[],w=o;w<a;){var E,P,D,j,B=i[w],Q=null,$=B>239?4:B>223?3:B>191?2:1;if(w+$<=a)switch($){case 1:B<128&&(Q=B);break;case 2:128===(192&(E=i[w+1]))&&(j=(31&B)<<6|63&E)>127&&(Q=j);break;case 3:E=i[w+1],P=i[w+2],128===(192&E)&&128===(192&P)&&(j=(15&B)<<12|(63&E)<<6|63&P)>2047&&(j<55296||j>57343)&&(Q=j);break;case 4:E=i[w+1],P=i[w+2],D=i[w+3],128===(192&E)&&128===(192&P)&&128===(192&D)&&(j=(15&B)<<18|(63&E)<<12|(63&P)<<6|63&D)>65535&&j<1114112&&(Q=j)}null===Q?(Q=65533,$=1):Q>65535&&(Q-=65536,v.push(Q>>>10&1023|55296),Q=56320|1023&Q),v.push(Q),w+=$}return function decodeCodePointsArray(i){var o=i.length;if(o<=4096)return String.fromCharCode.apply(String,i);var a="",v=0;for(;v<o;)a+=String.fromCharCode.apply(String,i.slice(v,v+=4096));return a}(v)}o.Buffer=Buffer,o.SlowBuffer=function SlowBuffer(i){+i!=i&&(i=0);return Buffer.alloc(+i)},o.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==i.TYPED_ARRAY_SUPPORT?i.TYPED_ARRAY_SUPPORT:function typedArraySupport(){try{var i=new Uint8Array(1);return i.__proto__={__proto__:Uint8Array.prototype,foo:function foo(){return 42}},42===i.foo()&&"function"===typeof i.subarray&&0===i.subarray(1,1).byteLength}catch(o){return!1}}(),o.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(i){return i.__proto__=Buffer.prototype,i},Buffer.from=function(i,o,a){return from(null,i,o,a)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(i,o,a){return function alloc(i,o,a,v){return assertSize(o),o<=0?createBuffer(i,o):void 0!==a?"string"===typeof v?createBuffer(i,o).fill(a,v):createBuffer(i,o).fill(a):createBuffer(i,o)}(null,i,o,a)},Buffer.allocUnsafe=function(i){return allocUnsafe(null,i)},Buffer.allocUnsafeSlow=function(i){return allocUnsafe(null,i)},Buffer.isBuffer=function isBuffer(i){return!(null==i||!i._isBuffer)},Buffer.compare=function compare(i,o){if(!Buffer.isBuffer(i)||!Buffer.isBuffer(o))throw new TypeError("Arguments must be Buffers");if(i===o)return 0;for(var a=i.length,v=o.length,w=0,E=Math.min(a,v);w<E;++w)if(i[w]!==o[w]){a=i[w],v=o[w];break}return a<v?-1:v<a?1:0},Buffer.isEncoding=function isEncoding(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(i,o){if(!E(i))throw new TypeError('"list" argument must be an Array of Buffers');if(0===i.length)return Buffer.alloc(0);var a;if(void 0===o)for(o=0,a=0;a<i.length;++a)o+=i[a].length;var v=Buffer.allocUnsafe(o),w=0;for(a=0;a<i.length;++a){var P=i[a];if(!Buffer.isBuffer(P))throw new TypeError('"list" argument must be an Array of Buffers');P.copy(v,w),w+=P.length}return v},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var i=this.length;if(i%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var o=0;o<i;o+=2)swap(this,o,o+1);return this},Buffer.prototype.swap32=function swap32(){var i=this.length;if(i%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var o=0;o<i;o+=4)swap(this,o,o+3),swap(this,o+1,o+2);return this},Buffer.prototype.swap64=function swap64(){var i=this.length;if(i%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var o=0;o<i;o+=8)swap(this,o,o+7),swap(this,o+1,o+6),swap(this,o+2,o+5),swap(this,o+3,o+4);return this},Buffer.prototype.toString=function toString(){var i=0|this.length;return 0===i?"":0===arguments.length?utf8Slice(this,0,i):slowToString.apply(this,arguments)},Buffer.prototype.equals=function equals(i){if(!Buffer.isBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i||0===Buffer.compare(this,i)},Buffer.prototype.inspect=function inspect(){var i="",a=o.INSPECT_MAX_BYTES;return this.length>0&&(i=this.toString("hex",0,a).match(/.{2}/g).join(" "),this.length>a&&(i+=" ... ")),"<Buffer "+i+">"},Buffer.prototype.compare=function compare(i,o,a,v,w){if(!Buffer.isBuffer(i))throw new TypeError("Argument must be a Buffer");if(void 0===o&&(o=0),void 0===a&&(a=i?i.length:0),void 0===v&&(v=0),void 0===w&&(w=this.length),o<0||a>i.length||v<0||w>this.length)throw new RangeError("out of range index");if(v>=w&&o>=a)return 0;if(v>=w)return-1;if(o>=a)return 1;if(this===i)return 0;for(var E=(w>>>=0)-(v>>>=0),P=(a>>>=0)-(o>>>=0),D=Math.min(E,P),j=this.slice(v,w),B=i.slice(o,a),Q=0;Q<D;++Q)if(j[Q]!==B[Q]){E=j[Q],P=B[Q];break}return E<P?-1:P<E?1:0},Buffer.prototype.includes=function includes(i,o,a){return-1!==this.indexOf(i,o,a)},Buffer.prototype.indexOf=function indexOf(i,o,a){return bidirectionalIndexOf(this,i,o,a,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(i,o,a){return bidirectionalIndexOf(this,i,o,a,!1)},Buffer.prototype.write=function write(i,o,a,v){if(void 0===o)v="utf8",a=this.length,o=0;else if(void 0===a&&"string"===typeof o)v=o,a=this.length,o=0;else{if(!isFinite(o))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");o|=0,isFinite(a)?(a|=0,void 0===v&&(v="utf8")):(v=a,a=void 0)}var w=this.length-o;if((void 0===a||a>w)&&(a=w),i.length>0&&(a<0||o<0)||o>this.length)throw new RangeError("Attempt to write outside buffer bounds");v||(v="utf8");for(var E=!1;;)switch(v){case"hex":return hexWrite(this,i,o,a);case"utf8":case"utf-8":return utf8Write(this,i,o,a);case"ascii":return asciiWrite(this,i,o,a);case"latin1":case"binary":return latin1Write(this,i,o,a);case"base64":return base64Write(this,i,o,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,i,o,a);default:if(E)throw new TypeError("Unknown encoding: "+v);v=(""+v).toLowerCase(),E=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function asciiSlice(i,o,a){var v="";a=Math.min(i.length,a);for(var w=o;w<a;++w)v+=String.fromCharCode(127&i[w]);return v}function latin1Slice(i,o,a){var v="";a=Math.min(i.length,a);for(var w=o;w<a;++w)v+=String.fromCharCode(i[w]);return v}function hexSlice(i,o,a){var v=i.length;(!o||o<0)&&(o=0),(!a||a<0||a>v)&&(a=v);for(var w="",E=o;E<a;++E)w+=toHex(i[E]);return w}function utf16leSlice(i,o,a){for(var v=i.slice(o,a),w="",E=0;E<v.length;E+=2)w+=String.fromCharCode(v[E]+256*v[E+1]);return w}function checkOffset(i,o,a){if(i%1!==0||i<0)throw new RangeError("offset is not uint");if(i+o>a)throw new RangeError("Trying to access beyond buffer length")}function checkInt(i,o,a,v,w,E){if(!Buffer.isBuffer(i))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>w||o<E)throw new RangeError('"value" argument is out of bounds');if(a+v>i.length)throw new RangeError("Index out of range")}function objectWriteUInt16(i,o,a,v){o<0&&(o=65535+o+1);for(var w=0,E=Math.min(i.length-a,2);w<E;++w)i[a+w]=(o&255<<8*(v?w:1-w))>>>8*(v?w:1-w)}function objectWriteUInt32(i,o,a,v){o<0&&(o=4294967295+o+1);for(var w=0,E=Math.min(i.length-a,4);w<E;++w)i[a+w]=o>>>8*(v?w:3-w)&255}function checkIEEE754(i,o,a,v,w,E){if(a+v>i.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function writeFloat(i,o,a,v,E){return E||checkIEEE754(i,0,a,4),w.write(i,o,a,v,23,4),a+4}function writeDouble(i,o,a,v,E){return E||checkIEEE754(i,0,a,8),w.write(i,o,a,v,52,8),a+8}Buffer.prototype.slice=function slice(i,o){var a,v=this.length;if((i=~~i)<0?(i+=v)<0&&(i=0):i>v&&(i=v),(o=void 0===o?v:~~o)<0?(o+=v)<0&&(o=0):o>v&&(o=v),o<i&&(o=i),Buffer.TYPED_ARRAY_SUPPORT)(a=this.subarray(i,o)).__proto__=Buffer.prototype;else{var w=o-i;a=new Buffer(w,void 0);for(var E=0;E<w;++E)a[E]=this[E+i]}return a},Buffer.prototype.readUIntLE=function readUIntLE(i,o,a){i|=0,o|=0,a||checkOffset(i,o,this.length);for(var v=this[i],w=1,E=0;++E<o&&(w*=256);)v+=this[i+E]*w;return v},Buffer.prototype.readUIntBE=function readUIntBE(i,o,a){i|=0,o|=0,a||checkOffset(i,o,this.length);for(var v=this[i+--o],w=1;o>0&&(w*=256);)v+=this[i+--o]*w;return v},Buffer.prototype.readUInt8=function readUInt8(i,o){return o||checkOffset(i,1,this.length),this[i]},Buffer.prototype.readUInt16LE=function readUInt16LE(i,o){return o||checkOffset(i,2,this.length),this[i]|this[i+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(i,o){return o||checkOffset(i,2,this.length),this[i]<<8|this[i+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(i,o){return o||checkOffset(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+16777216*this[i+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(i,o){return o||checkOffset(i,4,this.length),16777216*this[i]+(this[i+1]<<16|this[i+2]<<8|this[i+3])},Buffer.prototype.readIntLE=function readIntLE(i,o,a){i|=0,o|=0,a||checkOffset(i,o,this.length);for(var v=this[i],w=1,E=0;++E<o&&(w*=256);)v+=this[i+E]*w;return v>=(w*=128)&&(v-=Math.pow(2,8*o)),v},Buffer.prototype.readIntBE=function readIntBE(i,o,a){i|=0,o|=0,a||checkOffset(i,o,this.length);for(var v=o,w=1,E=this[i+--v];v>0&&(w*=256);)E+=this[i+--v]*w;return E>=(w*=128)&&(E-=Math.pow(2,8*o)),E},Buffer.prototype.readInt8=function readInt8(i,o){return o||checkOffset(i,1,this.length),128&this[i]?-1*(255-this[i]+1):this[i]},Buffer.prototype.readInt16LE=function readInt16LE(i,o){o||checkOffset(i,2,this.length);var a=this[i]|this[i+1]<<8;return 32768&a?4294901760|a:a},Buffer.prototype.readInt16BE=function readInt16BE(i,o){o||checkOffset(i,2,this.length);var a=this[i+1]|this[i]<<8;return 32768&a?4294901760|a:a},Buffer.prototype.readInt32LE=function readInt32LE(i,o){return o||checkOffset(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(i,o){return o||checkOffset(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]},Buffer.prototype.readFloatLE=function readFloatLE(i,o){return o||checkOffset(i,4,this.length),w.read(this,i,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(i,o){return o||checkOffset(i,4,this.length),w.read(this,i,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(i,o){return o||checkOffset(i,8,this.length),w.read(this,i,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(i,o){return o||checkOffset(i,8,this.length),w.read(this,i,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(i,o,a,v){(i=+i,o|=0,a|=0,v)||checkInt(this,i,o,a,Math.pow(2,8*a)-1,0);var w=1,E=0;for(this[o]=255&i;++E<a&&(w*=256);)this[o+E]=i/w&255;return o+a},Buffer.prototype.writeUIntBE=function writeUIntBE(i,o,a,v){(i=+i,o|=0,a|=0,v)||checkInt(this,i,o,a,Math.pow(2,8*a)-1,0);var w=a-1,E=1;for(this[o+w]=255&i;--w>=0&&(E*=256);)this[o+w]=i/E&255;return o+a},Buffer.prototype.writeUInt8=function writeUInt8(i,o,a){return i=+i,o|=0,a||checkInt(this,i,o,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(i=Math.floor(i)),this[o]=255&i,o+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(i,o,a){return i=+i,o|=0,a||checkInt(this,i,o,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[o]=255&i,this[o+1]=i>>>8):objectWriteUInt16(this,i,o,!0),o+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(i,o,a){return i=+i,o|=0,a||checkInt(this,i,o,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[o]=i>>>8,this[o+1]=255&i):objectWriteUInt16(this,i,o,!1),o+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(i,o,a){return i=+i,o|=0,a||checkInt(this,i,o,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[o+3]=i>>>24,this[o+2]=i>>>16,this[o+1]=i>>>8,this[o]=255&i):objectWriteUInt32(this,i,o,!0),o+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(i,o,a){return i=+i,o|=0,a||checkInt(this,i,o,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=255&i):objectWriteUInt32(this,i,o,!1),o+4},Buffer.prototype.writeIntLE=function writeIntLE(i,o,a,v){if(i=+i,o|=0,!v){var w=Math.pow(2,8*a-1);checkInt(this,i,o,a,w-1,-w)}var E=0,P=1,D=0;for(this[o]=255&i;++E<a&&(P*=256);)i<0&&0===D&&0!==this[o+E-1]&&(D=1),this[o+E]=(i/P>>0)-D&255;return o+a},Buffer.prototype.writeIntBE=function writeIntBE(i,o,a,v){if(i=+i,o|=0,!v){var w=Math.pow(2,8*a-1);checkInt(this,i,o,a,w-1,-w)}var E=a-1,P=1,D=0;for(this[o+E]=255&i;--E>=0&&(P*=256);)i<0&&0===D&&0!==this[o+E+1]&&(D=1),this[o+E]=(i/P>>0)-D&255;return o+a},Buffer.prototype.writeInt8=function writeInt8(i,o,a){return i=+i,o|=0,a||checkInt(this,i,o,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(i=Math.floor(i)),i<0&&(i=255+i+1),this[o]=255&i,o+1},Buffer.prototype.writeInt16LE=function writeInt16LE(i,o,a){return i=+i,o|=0,a||checkInt(this,i,o,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[o]=255&i,this[o+1]=i>>>8):objectWriteUInt16(this,i,o,!0),o+2},Buffer.prototype.writeInt16BE=function writeInt16BE(i,o,a){return i=+i,o|=0,a||checkInt(this,i,o,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[o]=i>>>8,this[o+1]=255&i):objectWriteUInt16(this,i,o,!1),o+2},Buffer.prototype.writeInt32LE=function writeInt32LE(i,o,a){return i=+i,o|=0,a||checkInt(this,i,o,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[o]=255&i,this[o+1]=i>>>8,this[o+2]=i>>>16,this[o+3]=i>>>24):objectWriteUInt32(this,i,o,!0),o+4},Buffer.prototype.writeInt32BE=function writeInt32BE(i,o,a){return i=+i,o|=0,a||checkInt(this,i,o,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),Buffer.TYPED_ARRAY_SUPPORT?(this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=255&i):objectWriteUInt32(this,i,o,!1),o+4},Buffer.prototype.writeFloatLE=function writeFloatLE(i,o,a){return writeFloat(this,i,o,!0,a)},Buffer.prototype.writeFloatBE=function writeFloatBE(i,o,a){return writeFloat(this,i,o,!1,a)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(i,o,a){return writeDouble(this,i,o,!0,a)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(i,o,a){return writeDouble(this,i,o,!1,a)},Buffer.prototype.copy=function copy(i,o,a,v){if(a||(a=0),v||0===v||(v=this.length),o>=i.length&&(o=i.length),o||(o=0),v>0&&v<a&&(v=a),v===a)return 0;if(0===i.length||0===this.length)return 0;if(o<0)throw new RangeError("targetStart out of bounds");if(a<0||a>=this.length)throw new RangeError("sourceStart out of bounds");if(v<0)throw new RangeError("sourceEnd out of bounds");v>this.length&&(v=this.length),i.length-o<v-a&&(v=i.length-o+a);var w,E=v-a;if(this===i&&a<o&&o<v)for(w=E-1;w>=0;--w)i[w+o]=this[w+a];else if(E<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(w=0;w<E;++w)i[w+o]=this[w+a];else Uint8Array.prototype.set.call(i,this.subarray(a,a+E),o);return E},Buffer.prototype.fill=function fill(i,o,a,v){if("string"===typeof i){if("string"===typeof o?(v=o,o=0,a=this.length):"string"===typeof a&&(v=a,a=this.length),1===i.length){var w=i.charCodeAt(0);w<256&&(i=w)}if(void 0!==v&&"string"!==typeof v)throw new TypeError("encoding must be a string");if("string"===typeof v&&!Buffer.isEncoding(v))throw new TypeError("Unknown encoding: "+v)}else"number"===typeof i&&(i&=255);if(o<0||this.length<o||this.length<a)throw new RangeError("Out of range index");if(a<=o)return this;var E;if(o>>>=0,a=void 0===a?this.length:a>>>0,i||(i=0),"number"===typeof i)for(E=o;E<a;++E)this[E]=i;else{var P=Buffer.isBuffer(i)?i:utf8ToBytes(new Buffer(i,v).toString()),D=P.length;for(E=0;E<a-o;++E)this[E+o]=P[E%D]}return this};var P=/[^+\/0-9A-Za-z-_]/g;function toHex(i){return i<16?"0"+i.toString(16):i.toString(16)}function utf8ToBytes(i,o){var a;o=o||1/0;for(var v=i.length,w=null,E=[],P=0;P<v;++P){if((a=i.charCodeAt(P))>55295&&a<57344){if(!w){if(a>56319){(o-=3)>-1&&E.push(239,191,189);continue}if(P+1===v){(o-=3)>-1&&E.push(239,191,189);continue}w=a;continue}if(a<56320){(o-=3)>-1&&E.push(239,191,189),w=a;continue}a=65536+(w-55296<<10|a-56320)}else w&&(o-=3)>-1&&E.push(239,191,189);if(w=null,a<128){if((o-=1)<0)break;E.push(a)}else if(a<2048){if((o-=2)<0)break;E.push(a>>6|192,63&a|128)}else if(a<65536){if((o-=3)<0)break;E.push(a>>12|224,a>>6&63|128,63&a|128)}else{if(!(a<1114112))throw new Error("Invalid code point");if((o-=4)<0)break;E.push(a>>18|240,a>>12&63|128,a>>6&63|128,63&a|128)}}return E}function base64ToBytes(i){return v.toByteArray(function base64clean(i){if((i=function stringtrim(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}(i).replace(P,"")).length<2)return"";for(;i.length%4!==0;)i+="=";return i}(i))}function blitBuffer(i,o,a,v){for(var w=0;w<v&&!(w+a>=o.length||w>=i.length);++w)o[w+a]=i[w];return w}}).call(this,a(15))},function(i,o,a){"use strict";o.byteLength=function byteLength(i){var o=getLens(i),a=o[0],v=o[1];return 3*(a+v)/4-v},o.toByteArray=function toByteArray(i){var o,a,v=getLens(i),P=v[0],D=v[1],j=new E(function _byteLength(i,o,a){return 3*(o+a)/4-a}(0,P,D)),B=0,Q=D>0?P-4:P;for(a=0;a<Q;a+=4)o=w[i.charCodeAt(a)]<<18|w[i.charCodeAt(a+1)]<<12|w[i.charCodeAt(a+2)]<<6|w[i.charCodeAt(a+3)],j[B++]=o>>16&255,j[B++]=o>>8&255,j[B++]=255&o;2===D&&(o=w[i.charCodeAt(a)]<<2|w[i.charCodeAt(a+1)]>>4,j[B++]=255&o);1===D&&(o=w[i.charCodeAt(a)]<<10|w[i.charCodeAt(a+1)]<<4|w[i.charCodeAt(a+2)]>>2,j[B++]=o>>8&255,j[B++]=255&o);return j},o.fromByteArray=function fromByteArray(i){for(var o,a=i.length,w=a%3,E=[],P=0,D=a-w;P<D;P+=16383)E.push(encodeChunk(i,P,P+16383>D?D:P+16383));1===w?(o=i[a-1],E.push(v[o>>2]+v[o<<4&63]+"==")):2===w&&(o=(i[a-2]<<8)+i[a-1],E.push(v[o>>10]+v[o>>4&63]+v[o<<2&63]+"="));return E.join("")};for(var v=[],w=[],E="undefined"!==typeof Uint8Array?Uint8Array:Array,P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D=0,j=P.length;D<j;++D)v[D]=P[D],w[P.charCodeAt(D)]=D;function getLens(i){var o=i.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var a=i.indexOf("=");return-1===a&&(a=o),[a,a===o?0:4-a%4]}function encodeChunk(i,o,a){for(var w,E,P=[],D=o;D<a;D+=3)w=(i[D]<<16&16711680)+(i[D+1]<<8&65280)+(255&i[D+2]),P.push(v[(E=w)>>18&63]+v[E>>12&63]+v[E>>6&63]+v[63&E]);return P.join("")}w["-".charCodeAt(0)]=62,w["_".charCodeAt(0)]=63},function(i,o){o.read=function(i,o,a,v,w){var E,P,D=8*w-v-1,j=(1<<D)-1,B=j>>1,Q=-7,$=a?w-1:0,ee=a?-1:1,te=i[o+$];for($+=ee,E=te&(1<<-Q)-1,te>>=-Q,Q+=D;Q>0;E=256*E+i[o+$],$+=ee,Q-=8);for(P=E&(1<<-Q)-1,E>>=-Q,Q+=v;Q>0;P=256*P+i[o+$],$+=ee,Q-=8);if(0===E)E=1-B;else{if(E===j)return P?NaN:1/0*(te?-1:1);P+=Math.pow(2,v),E-=B}return(te?-1:1)*P*Math.pow(2,E-v)},o.write=function(i,o,a,v,w,E){var P,D,j,B=8*E-w-1,Q=(1<<B)-1,$=Q>>1,ee=23===w?Math.pow(2,-24)-Math.pow(2,-77):0,te=v?0:E-1,ne=v?1:-1,ie=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(D=isNaN(o)?1:0,P=Q):(P=Math.floor(Math.log(o)/Math.LN2),o*(j=Math.pow(2,-P))<1&&(P--,j*=2),(o+=P+$>=1?ee/j:ee*Math.pow(2,1-$))*j>=2&&(P++,j/=2),P+$>=Q?(D=0,P=Q):P+$>=1?(D=(o*j-1)*Math.pow(2,w),P+=$):(D=o*Math.pow(2,$-1)*Math.pow(2,w),P=0));w>=8;i[a+te]=255&D,te+=ne,D/=256,w-=8);for(P=P<<w|D,B+=w;B>0;i[a+te]=255&P,te+=ne,P/=256,B-=8);i[a+te-ne]|=128*ie}},function(i,o){var a={}.toString;i.exports=Array.isArray||function(i){return"[object Array]"==a.call(i)}},,,,,function(i,o,a){var v,w,E;!function(P){"use strict";w=[a(12)],void 0===(E="function"===typeof(v=function(i){var o=i.global;o.fetch&&o.Request&&o.Response&&o.Response.prototype.blob?i.fetchBlob=function(i,a,v){function responseHandler(i){return i.blob()}if(o.Promise&&"function"!==typeof a)return fetch(new Request(i,a)).then(responseHandler);fetch(new Request(i,v)).then(responseHandler).then(a).catch((function(i){a(null,i)}))}:o.XMLHttpRequest&&""===(new XMLHttpRequest).responseType&&(i.fetchBlob=function(i,a,v){function executor(o,a){v=v||{};var w=new XMLHttpRequest;w.open(v.method||"GET",i),v.headers&&Object.keys(v.headers).forEach((function(i){w.setRequestHeader(i,v.headers[i])})),w.withCredentials="include"===v.credentials,w.responseType="blob",w.onload=function(){o(w.response)},w.onerror=w.onabort=w.ontimeout=function(i){o===a?a(null,i):a(i)},w.send(v.body)}return o.Promise&&"function"!==typeof a?(v=a,new Promise(executor)):executor(a,a)})})?v.apply(o,w):v)||(i.exports=E)}()},function(i,o,a){var v,w,E;!function(P){"use strict";w=[a(12),a(67)],void 0===(E="function"===typeof(v=function(i){var o=i.ExifMap.prototype;o.tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",34665:{36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",36880:"OffsetTime",36881:"OffsetTimeOriginal",36882:"OffsetTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber"},34853:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},40965:{1:"InteroperabilityIndex"}},o.tags.ifd1=o.tags,o.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"Original",2:"Horizontal flip",3:"Rotate 180\xb0 CCW",4:"Vertical flip",5:"Vertical flip + Rotate 90\xb0 CW",6:"Rotate 90\xb0 CW",7:"Horizontal flip + Rotate 90\xb0 CW",8:"Rotate 90\xb0 CCW"}},o.getText=function(i){var o=this.get(i);switch(i){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[i][o];case"ExifVersion":case"FlashpixVersion":if(!o)return;return String.fromCharCode(o[0],o[1],o[2],o[3]);case"ComponentsConfiguration":if(!o)return;return this.stringValues[i][o[0]]+this.stringValues[i][o[1]]+this.stringValues[i][o[2]]+this.stringValues[i][o[3]];case"GPSVersionID":if(!o)return;return o[0]+"."+o[1]+"."+o[2]+"."+o[3]}return String(o)},o.getAll=function(){var i,o,a,v={};for(i in this)Object.prototype.hasOwnProperty.call(this,i)&&((o=this[i])&&o.getAll?v[this.ifds[i].name]=o.getAll():(a=this.tags[i])&&(v[a]=this.getText(a)));return v},o.getName=function(i){var o=this.tags[i];return"object"===typeof o?this.ifds[i].name:o},function(){var i,a,v,w=o.tags;for(i in w)if(Object.prototype.hasOwnProperty.call(w,i))if(a=o.ifds[i])for(i in v=w[i])Object.prototype.hasOwnProperty.call(v,i)&&(a.map[v[i]]=Number(i));else o.map[w[i]]=Number(i)}()})?v.apply(o,w):v)||(i.exports=E)}()},function(i,o,a){var v,w,E;!function(P){"use strict";w=[a(12),a(68)],void 0===(E="function"===typeof(v=function(i){var o=i.IptcMap.prototype;o.tags={0:"ApplicationRecordVersion",3:"ObjectTypeReference",4:"ObjectAttributeReference",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectReference",15:"Category",20:"SupplementalCategories",22:"FixtureIdentifier",25:"Keywords",26:"ContentLocationCode",27:"ContentLocationName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"ReferenceService",47:"ReferenceDate",50:"ReferenceNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"Country",103:"OriginalTransmissionReference",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",121:"LocalCaption",122:"Writer",125:"RasterizedCaption",130:"ImageType",131:"ImageOrientation",135:"LanguageIdentifier",150:"AudioType",151:"AudioSamplingRate",152:"AudioSamplingResolution",153:"AudioDuration",154:"AudioOutcue",184:"JobID",185:"MasterDocumentID",186:"ShortDocumentID",187:"UniqueDocumentID",188:"OwnerID",200:"ObjectPreviewFileFormat",201:"ObjectPreviewFileVersion",202:"ObjectPreviewData",221:"Prefs",225:"ClassifyState",228:"SimilarityIndex",230:"DocumentNotes",231:"DocumentHistory",232:"ExifCameraInfo",255:"CatalogSets"},o.stringValues={10:{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"},75:{a:"Morning",b:"Both Morning and Evening",p:"Evening"},131:{L:"Landscape",P:"Portrait",S:"Square"}},o.getText=function(i){var o=this.get(i),a=this.map[i],v=this.stringValues[a];return v?v[o]:String(o)},o.getAll=function(){var i,o,a={};for(i in this)Object.prototype.hasOwnProperty.call(this,i)&&(o=this.tags[i])&&(a[o]=this.getText(o));return a},o.getName=function(i){return this.tags[i]},function(){var i,a=o.tags,v=o.map||{};for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(v[a[i]]=Number(i))}()})?v.apply(o,w):v)||(i.exports=E)}()},function(i,o,a){var v,w,E;!function(P){"use strict";w=[a(12),a(66),a(31)],void 0===(E="function"===typeof(v=function(i){var o=i.transform,a=i.requiresCanvas,v=i.requiresMetaData,w=i.transformCoordinates,E=i.getTransformedOptions;function requiresCanvasOrientation(o,a){var v=o&&o.orientation;return!0===v&&!i.orientation||1===v&&i.orientation||(!a||i.orientation)&&v>1&&v<9}function requiresOrientationChange(i,o){return i!==o&&(1===i&&o>1&&o<9||i>1&&i<9)}function requiresRot180(i,o){if(o>1&&o<9)switch(i){case 2:case 4:return o>4;case 5:case 7:return o%2===0;case 6:case 8:return 2===o||4===o||5===o||7===o}return!1}(function(i){if(i.global.document){var o=document.createElement("img");o.onload=function(){if(i.orientation=2===o.width&&3===o.height,i.orientation){var a=i.createCanvas(1,1,!0).getContext("2d");a.drawImage(o,1,1,1,1,0,0,1,1),i.orientationCropBug="255,255,255,255"!==a.getImageData(0,0,1,1).data.toString()}},o.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAIAAwMBEQACEQEDEQH/xABRAAEAAAAAAAAAAAAAAAAAAAAKEAEBAQADAQEAAAAAAAAAAAAGBQQDCAkCBwEBAAAAAAAAAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AG8T9NfSMEVMhQvoP3fFiRZ+MTHDifa/95OFSZU5OzRzxkyejv8ciEfhSceSXGjS8eSdLnZc2HDm4M3BxcXwH/9k="}})(i),i.requiresCanvas=function(o){return requiresCanvasOrientation(o)||a.call(i,o)},i.requiresMetaData=function(o){return requiresCanvasOrientation(o,!0)||v.call(i,o)},i.transform=function(a,v,w,E,P){o.call(i,a,v,(function(o,a){if(a){var v=i.orientation&&a.exif&&a.exif.get("Orientation");if(v>4&&v<9){var E=a.originalWidth,P=a.originalHeight;a.originalWidth=P,a.originalHeight=E}}w(o,a)}),E,P)},i.getTransformedOptions=function(o,a,v){var w=E.call(i,o,a),P=v.exif&&v.exif.get("Orientation"),D=w.orientation,j=i.orientation&&P;if(!0===D&&(D=P),!requiresOrientationChange(D,j))return w;var B=w.top,Q=w.right,$=w.bottom,ee=w.left,te={};for(var ne in w)Object.prototype.hasOwnProperty.call(w,ne)&&(te[ne]=w[ne]);if(te.orientation=D,(D>4&&!(j>4)||D<5&&j>4)&&(te.maxWidth=w.maxHeight,te.maxHeight=w.maxWidth,te.minWidth=w.minHeight,te.minHeight=w.minWidth,te.sourceWidth=w.sourceHeight,te.sourceHeight=w.sourceWidth),j>1){switch(j){case 2:Q=w.left,ee=w.right;break;case 3:B=w.bottom,Q=w.left,$=w.top,ee=w.right;break;case 4:B=w.bottom,$=w.top;break;case 5:B=w.left,Q=w.bottom,$=w.right,ee=w.top;break;case 6:B=w.left,Q=w.top,$=w.right,ee=w.bottom;break;case 7:B=w.right,Q=w.top,$=w.left,ee=w.bottom;break;case 8:B=w.right,Q=w.bottom,$=w.left,ee=w.top}if(requiresRot180(D,j)){var ie=B,le=Q;B=$,Q=ee,$=ie,ee=le}}switch(te.top=B,te.right=Q,te.bottom=$,te.left=ee,D){case 2:te.right=ee,te.left=Q;break;case 3:te.top=$,te.right=ee,te.bottom=B,te.left=Q;break;case 4:te.top=$,te.bottom=B;break;case 5:te.top=ee,te.right=$,te.bottom=Q,te.left=B;break;case 6:te.top=Q,te.right=$,te.bottom=ee,te.left=B;break;case 7:te.top=Q,te.right=B,te.bottom=ee,te.left=$;break;case 8:te.top=ee,te.right=B,te.bottom=Q,te.left=$}return te},i.transformCoordinates=function(o,a,v){w.call(i,o,a,v);var E=a.orientation,P=i.orientation&&v.exif&&v.exif.get("Orientation");if(requiresOrientationChange(E,P)){var D=o.getContext("2d"),j=o.width,B=o.height,Q=j,$=B;switch((E>4&&!(P>4)||E<5&&P>4)&&(o.width=B,o.height=j),E>4&&(Q=B,$=j),P){case 2:D.translate(Q,0),D.scale(-1,1);break;case 3:D.translate(Q,$),D.rotate(Math.PI);break;case 4:D.translate(0,$),D.scale(1,-1);break;case 5:D.rotate(-.5*Math.PI),D.scale(-1,1);break;case 6:D.rotate(-.5*Math.PI),D.translate(-Q,0);break;case 7:D.rotate(-.5*Math.PI),D.translate(-Q,$),D.scale(1,-1);break;case 8:D.rotate(.5*Math.PI),D.translate(0,-$)}switch(requiresRot180(E,P)&&(D.translate(Q,$),D.rotate(Math.PI)),E){case 2:D.translate(j,0),D.scale(-1,1);break;case 3:D.translate(j,B),D.rotate(Math.PI);break;case 4:D.translate(0,B),D.scale(1,-1);break;case 5:D.rotate(.5*Math.PI),D.scale(1,-1);break;case 6:D.rotate(.5*Math.PI),D.translate(0,-B);break;case 7:D.rotate(.5*Math.PI),D.translate(j,-B),D.scale(-1,1);break;case 8:D.rotate(-.5*Math.PI),D.translate(-j,0)}}}})?v.apply(o,w):v)||(i.exports=E)}()},function(i,o,a){"use strict";var v="function"===typeof Symbol&&Symbol.for,w=v?Symbol.for("react.element"):60103,E=v?Symbol.for("react.portal"):60106,P=v?Symbol.for("react.fragment"):60107,D=v?Symbol.for("react.strict_mode"):60108,j=v?Symbol.for("react.profiler"):60114,B=v?Symbol.for("react.provider"):60109,Q=v?Symbol.for("react.context"):60110,$=v?Symbol.for("react.async_mode"):60111,ee=v?Symbol.for("react.concurrent_mode"):60111,te=v?Symbol.for("react.forward_ref"):60112,ne=v?Symbol.for("react.suspense"):60113,ie=v?Symbol.for("react.suspense_list"):60120,le=v?Symbol.for("react.memo"):60115,ue=v?Symbol.for("react.lazy"):60116,fe=v?Symbol.for("react.block"):60121,he=v?Symbol.for("react.fundamental"):60117,ge=v?Symbol.for("react.responder"):60118,me=v?Symbol.for("react.scope"):60119;function z(i){if("object"===typeof i&&null!==i){var o=i.$$typeof;switch(o){case w:switch(i=i.type){case $:case ee:case P:case j:case D:case ne:return i;default:switch(i=i&&i.$$typeof){case Q:case te:case ue:case le:case B:return i;default:return o}}case E:return o}}}function A(i){return z(i)===ee}o.AsyncMode=$,o.ConcurrentMode=ee,o.ContextConsumer=Q,o.ContextProvider=B,o.Element=w,o.ForwardRef=te,o.Fragment=P,o.Lazy=ue,o.Memo=le,o.Portal=E,o.Profiler=j,o.StrictMode=D,o.Suspense=ne,o.isAsyncMode=function(i){return A(i)||z(i)===$},o.isConcurrentMode=A,o.isContextConsumer=function(i){return z(i)===Q},o.isContextProvider=function(i){return z(i)===B},o.isElement=function(i){return"object"===typeof i&&null!==i&&i.$$typeof===w},o.isForwardRef=function(i){return z(i)===te},o.isFragment=function(i){return z(i)===P},o.isLazy=function(i){return z(i)===ue},o.isMemo=function(i){return z(i)===le},o.isPortal=function(i){return z(i)===E},o.isProfiler=function(i){return z(i)===j},o.isStrictMode=function(i){return z(i)===D},o.isSuspense=function(i){return z(i)===ne},o.isValidElementType=function(i){return"string"===typeof i||"function"===typeof i||i===P||i===ee||i===j||i===D||i===ne||i===ie||"object"===typeof i&&null!==i&&(i.$$typeof===ue||i.$$typeof===le||i.$$typeof===B||i.$$typeof===Q||i.$$typeof===te||i.$$typeof===he||i.$$typeof===ge||i.$$typeof===me||i.$$typeof===fe)},o.typeOf=z},function(i,o,a){(function(o){(function(){var a,v,w,E,P,D;"undefined"!==typeof performance&&null!==performance&&performance.now?i.exports=function(){return performance.now()}:"undefined"!==typeof o&&null!==o&&o.hrtime?(i.exports=function(){return(a()-P)/1e6},v=o.hrtime,E=(a=function getNanoSeconds(){var i;return 1e9*(i=v())[0]+i[1]})(),D=1e9*o.uptime(),P=E-D):Date.now?(i.exports=function(){return Date.now()-w},w=Date.now()):(i.exports=function(){return(new Date).getTime()-w},w=(new Date).getTime())}).call(this)}).call(this,a(51))},function(i,o,a){"use strict";var v=a(137);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,i.exports=function(){function shim(i,o,a,w,E,P){if(P!==v){var D=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw D.name="Invariant Violation",D}}function getShim(){return shim}shim.isRequired=shim;var i={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return i.PropTypes=i,i}},function(i,o,a){"use strict";i.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(i,o){i.exports=Array.isArray||function(i){return"[object Array]"==Object.prototype.toString.call(i)}}]]);
//# sourceMappingURL=2.728d3e12.chunk.js.map